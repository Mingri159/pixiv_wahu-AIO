var Af=Object.defineProperty,Pf=Object.defineProperties;var Mf=Object.getOwnPropertyDescriptors;var lr=Object.getOwnPropertySymbols;var qf=Object.prototype.hasOwnProperty,Tf=Object.prototype.propertyIsEnumerable;var ar=(e,t,n)=>t in e?Af(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O=(e,t)=>{for(var n in t||(t={}))qf.call(t,n)&&ar(e,n,t[n]);if(lr)for(var n of lr(t))Tf.call(t,n)&&ar(e,n,t[n]);return e},te=(e,t)=>Pf(e,Mf(t));import{c as y,d as _e,h as F,e as Ie,g as we,P as Vf,r as S,f as ki,p as tn,n as We,j as nn,w as G,o as De,k as Xe,l as Pn,m as Ft,v as lc,q as ka,s as Ci,T as $f,t as Lf,u as Rf,x as Of,y as or,z as Ct,A as Dt,B as it,C as Ja,D as Hn,E as Kn,F as on,G as eo,H as ss,I as Zl,J as $l,K as to,L as ac,M as Li,N as Ut,O as pi,Q as rs,R as Ki,S as Yi,U as he,V as If,W as Ee,X as sr,Y as I,Z as ie,_,$ as mt,a0 as Ke,a1 as B,a2 as v,a3 as Yn,a4 as J,a5 as ut,a6 as ne,a7 as Te,a8 as kn,a9 as Cn,aa as zf,ab as hl,ac as ve,ad as Y,ae as oc,af as Et,ag as us,ah as cs,ai as Nf,aj as sc,ak as Hf,al as ae,am as ui,an as Ba,ao as Ca,ap as j,aq as Aa,ar as jf,as as Wf,at as Uf,au as Se,av as Qf,aw as rc,ax as Kf,ay as uc,az as cc,aA as Ll,aB as Rl,aC as dc,aD as $i,aE as fc,aF as hc,aG as kl,aH as ds,aI as vn,aJ as Yf,aK as Xf,aL as rr,aM as Gf,aN as Zf,aO as Jf,aP as fs,aQ as jn,aR as eh,aS as th,aT as nh,aU as ur,aV as vc,aW as mc,aX as gc,aY as ci,aZ as hs,a_ as nl,a$ as ih,b0 as Pa,b1 as lh,b2 as pl,b3 as pc,b4 as bc,b5 as In,b6 as ah,b7 as Le,b8 as vs,b9 as ms,ba as oh,bb as sh,bc as bi,bd as Qt,be as rh,bf as gs,bg as _c,bh as uh,bi as ch,bj as dh,bk as fh,bl as hh,bm as vh,bn as ps,bo as mh,bp as yc,bq as bs,br as gh,bs as ph,bt as bh,bu as _h,bv as Ma,bw as cr,bx as Sa,by as yh,bz as xh,bA as wh,bB as kh,bC as Ch,bD as xc,bE as Sh,bF as Eh,bG as Fh,bH as Dh,bI as Bh,bJ as Ah,bK as Ph,bL as Mh,bM as Vn,bN as xo,bO as qh,bP as Th,bQ as Vh,bR as $h,bS as Lh,bT as Rh,bU as Oh,bV as Ih,bW as zh,bX as wo,bY as Nh,bZ as Hh,b_ as jh,b$ as Wh,c0 as Uh,c1 as Qh,c2 as Kh,c3 as Yh,i as Xh,c4 as ti}from"./index.11768d51.js";import dr from"./ErrorNotFound.bcb0fcc0.js";const bt={dark:{type:Boolean,default:null}};function _t(e,t){return y(()=>e.dark===null?t.dark.isActive:e.dark)}var wc=_e({name:"QBar",props:te(O({},bt),{dense:Boolean}),setup(e,{slots:t}){const n=we(),i=_t(e,n.proxy.$q),l=y(()=>`q-bar row no-wrap items-center q-bar--${e.dense===!0?"dense":"standard"}  q-bar--${i.value===!0?"dark":"light"}`);return()=>F("div",{class:l.value,role:"toolbar"},Ie(t.default))}}),Gh=_e({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:t}){const n=y(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>F("div",{class:n.value},Ie(t.default))}});const Zh=F("div",{class:"q-space"});var kc=_e({name:"QSpace",setup(){return()=>Zh}});function Cl(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Vf.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Cc={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Sc({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:i,proxy:l,emit:a}=we(),o=S(null);let s;function r(h){return o.value===null?!1:h===void 0||h.touches===void 0||h.touches.length<=1}const u={};n===void 0&&(Object.assign(u,{hide(h){l.hide(h)},toggle(h){l.toggle(h),h.qAnchorHandled=!0},toggleKey(h){ki(h,13)===!0&&u.toggle(h)},contextClick(h){l.hide(h),tn(h),We(()=>{l.show(h),h.qAnchorHandled=!0})},prevent:tn,mobileTouch(h){if(u.mobileCleanup(h),r(h)!==!0)return;l.hide(h),o.value.classList.add("non-selectable");const p=h.target;nn(u,"anchor",[[p,"touchmove","mobileCleanup","passive"],[p,"touchend","mobileCleanup","passive"],[p,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{l.show(h),h.qAnchorHandled=!0},300)},mobileCleanup(h){o.value.classList.remove("non-selectable"),clearTimeout(s),e.value===!0&&h!==void 0&&Cl()}}),n=function(h=i.contextMenu){if(i.noParentEvent===!0||o.value===null)return;let p;h===!0?l.$q.platform.is.mobile===!0?p=[[o.value,"touchstart","mobileTouch","passive"]]:p=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:p=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],nn(u,"anchor",p)});function c(){Pn(u,"anchor")}function d(h){for(o.value=h;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;n()}function f(){if(i.target===!1||i.target==="")o.value=null;else if(i.target===!0)d(l.$el.parentNode);else{let h=i.target;if(typeof i.target=="string")try{h=document.querySelector(i.target)}catch{h=void 0}h!=null?(o.value=h.$el||h,n()):(o.value=null,console.error(`Anchor: target "${i.target}" not found`))}}return G(()=>i.contextMenu,h=>{o.value!==null&&(c(),n(h))}),G(()=>i.target,()=>{o.value!==null&&c(),f()}),G(()=>i.noParentEvent,h=>{o.value!==null&&(h===!0?c():n())}),De(()=>{f(),t!==!0&&i.modelValue===!0&&o.value===null&&a("update:modelValue",!1)}),Xe(()=>{clearTimeout(s),c()}),{anchorEl:o,canShow:r,anchorEvents:u}}function Ec(e,t){const n=S(null);let i;function l(s,r){const u=`${r!==void 0?"add":"remove"}EventListener`,c=r!==void 0?r:i;s!==window&&s[u]("scroll",c,Ft.passive),window[u]("scroll",c,Ft.passive),i=r}function a(){n.value!==null&&(l(n.value),n.value=null)}const o=G(()=>e.noParentEvent,()=>{n.value!==null&&(a(),t())});return Xe(o),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:l}}const Xi={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Gi=["before-show","show","before-hide","hide"];function Zi({showing:e,canShow:t,hideOnRouteChange:n,handleShow:i,handleHide:l,processOnMount:a}){const o=we(),{props:s,emit:r,proxy:u}=o;let c;function d(x){e.value===!0?p(x):f(x)}function f(x){if(s.disable===!0||x!==void 0&&x.qAnchorHandled===!0||t!==void 0&&t(x)!==!0)return;const C=s["onUpdate:modelValue"]!==void 0;C===!0&&(r("update:modelValue",!0),c=x,We(()=>{c===x&&(c=void 0)})),(s.modelValue===null||C===!1)&&h(x)}function h(x){e.value!==!0&&(e.value=!0,r("before-show",x),i!==void 0?i(x):r("show",x))}function p(x){if(s.disable===!0)return;const C=s["onUpdate:modelValue"]!==void 0;C===!0&&(r("update:modelValue",!1),c=x,We(()=>{c===x&&(c=void 0)})),(s.modelValue===null||C===!1)&&g(x)}function g(x){e.value!==!1&&(e.value=!1,r("before-hide",x),l!==void 0?l(x):r("hide",x))}function m(x){s.disable===!0&&x===!0?s["onUpdate:modelValue"]!==void 0&&r("update:modelValue",!1):x===!0!==e.value&&(x===!0?h:g)(c)}G(()=>s.modelValue,m),n!==void 0&&lc(o)===!0&&G(()=>u.$route.fullPath,()=>{n.value===!0&&e.value===!0&&p()}),a===!0&&De(()=>{m(s.modelValue)});const b={show:f,hide:p,toggle:d};return Object.assign(u,b),b}let si=[],Sl=[];function Fc(e){Sl=Sl.filter(t=>t!==e)}function Jh(e){Fc(e),Sl.push(e)}function fr(e){Fc(e),Sl.length===0&&si.length>0&&(si[si.length-1](),si=[])}function Ol(e){Sl.length===0?e():si.push(e)}function ev(e){si=si.filter(t=>t!==e)}const Ri=[];function tv(e){return Ri.find(t=>t.__qPortalInnerRef.value!==null&&t.__qPortalInnerRef.value.contains(e))}function Dc(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return ka(e)}else if(e.__qPortalInnerRef!==void 0){const n=ka(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=ka(e)}while(e!=null)}function nv(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortalInnerRef!==void 0){if(n--,e.$options.name==="QMenu"){e=Dc(e,t);continue}e.hide(t)}e=ka(e)}}function iv(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function _s(e,t,n,i){const l=S(!1),a=S(!1);let o=null;const s={},r=i===!0&&iv(e);function u(d){if(d===!0){fr(s),a.value=!0;return}a.value=!1,l.value===!1&&(r===!1&&o===null&&(o=Lf()),l.value=!0,Ri.push(e.proxy),Jh(s))}function c(d){if(a.value=!1,d!==!0)return;fr(s),l.value=!1;const f=Ri.indexOf(e.proxy);f>-1&&Ri.splice(f,1),o!==null&&(Rf(o),o=null)}return Ci(()=>{c(!0)}),Object.assign(e.proxy,{__qPortalInnerRef:t}),{showPortal:u,hidePortal:c,portalIsActive:l,portalIsAccessible:a,renderPortal:()=>r===!0?n():l.value===!0?[F($f,{to:o},n())]:void 0}}const ys={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Bc(e,t){const n=S(t.value);return G(t,i=>{We(()=>{n.value=i})}),{transition:y(()=>"q-transition--"+(n.value===!0?e.transitionHide:e.transitionShow)),transitionStyle:y(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function no(){let e;return Xe(()=>{e=void 0}),{registerTick(t){e=t,We(()=>{e===t&&(e(),e=void 0)})},removeTick(){e=void 0}}}function Hi(){let e;return Xe(()=>{clearTimeout(e)}),{registerTimeout(t,n){clearTimeout(e),e=setTimeout(t,n)},removeTimeout(){clearTimeout(e)}}}const lv=[null,document,document.body,document.scrollingElement,document.documentElement];function Il(e,t){let n=Of(t);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return lv.includes(n)?window:n}function io(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function lo(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function Ac(e,t,n=0){const i=arguments[3]===void 0?performance.now():arguments[3],l=io(e);if(n<=0){l!==t&&Wo(e,t);return}requestAnimationFrame(a=>{const o=a-i,s=l+(t-l)/Math.max(o,n)*o;Wo(e,s),s!==t&&Ac(e,t,n-o,a)})}function Pc(e,t,n=0){const i=arguments[3]===void 0?performance.now():arguments[3],l=lo(e);if(n<=0){l!==t&&Uo(e,t);return}requestAnimationFrame(a=>{const o=a-i,s=l+(t-l)/Math.max(o,n)*o;Uo(e,s),s!==t&&Pc(e,t,n-o,a)})}function Wo(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function Uo(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function hr(e,t,n){if(n){Ac(e,t,n);return}Wo(e,t)}function vr(e,t,n){if(n){Pc(e,t,n);return}Uo(e,t)}let Jl;function Ea(){if(Jl!==void 0)return Jl;const e=document.createElement("p"),t=document.createElement("div");or(e,{width:"100%",height:"200px"}),or(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),t.remove(),Jl=n-i,Jl}function av(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}let Mc;const{notPassiveCapture:qa}=Ft,di=[];function Ta(e){clearTimeout(Mc);const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=Ri.length-1;for(;n>=0;){const i=Ri[n].$;if(i.type.name!=="QDialog")break;if(i.props.seamless!==!0)return;n--}for(let i=di.length-1;i>=0;i--){const l=di[i];if((l.anchorEl.value===null||l.anchorEl.value.contains(t)===!1)&&(t===document.body||l.innerRef.value!==null&&l.innerRef.value.contains(t)===!1))e.qClickOutside=!0,l.onClickOutside(e);else return}}function qc(e){di.push(e),di.length===1&&(document.addEventListener("mousedown",Ta,qa),document.addEventListener("touchstart",Ta,qa))}function Va(e){const t=di.findIndex(n=>n===e);t>-1&&(di.splice(t,1),di.length===0&&(clearTimeout(Mc),document.removeEventListener("mousedown",Ta,qa),document.removeEventListener("touchstart",Ta,qa)))}let mr,gr;function $a(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Tc(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Qo={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Qo[`${e}#ltr`]=e,Qo[`${e}#rtl`]=e});function La(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:Qo[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function ov(e,t){let{top:n,left:i,right:l,bottom:a,width:o,height:s}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],i-=t[0],a+=t[1],l+=t[0],o+=t[0],s+=t[1]),{top:n,left:i,right:l,bottom:a,width:o,height:s,middle:i+(l-i)/2,center:n+(a-n)/2}}function sv(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function Vc(e){if(Ct.is.ios===!0&&window.visualViewport!==void 0){const s=document.body.style,{offsetLeft:r,offsetTop:u}=window.visualViewport;r!==mr&&(s.setProperty("--q-pe-left",r+"px"),mr=r),u!==gr&&(s.setProperty("--q-pe-top",u+"px"),gr=u)}let t;const{scrollLeft:n,scrollTop:i}=e.el;if(e.absoluteOffset===void 0)t=ov(e.anchorEl,e.cover===!0?[0,0]:e.offset);else{const{top:s,left:r}=e.anchorEl.getBoundingClientRect(),u=s+e.absoluteOffset.top,c=r+e.absoluteOffset.left;t={top:u,left:c,width:1,height:1,right:c+1,center:u,middle:c,bottom:u+1}}let l={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(l.minWidth=t.width+"px",e.cover===!0&&(l.minHeight=t.height+"px")),Object.assign(e.el.style,l);const a=sv(e.el),o={top:t[e.anchorOrigin.vertical]-a[e.selfOrigin.vertical],left:t[e.anchorOrigin.horizontal]-a[e.selfOrigin.horizontal]};rv(o,t,a,e.anchorOrigin,e.selfOrigin),l={top:o.top+"px",left:o.left+"px"},o.maxHeight!==void 0&&(l.maxHeight=o.maxHeight+"px",t.height>o.maxHeight&&(l.minHeight=l.maxHeight)),o.maxWidth!==void 0&&(l.maxWidth=o.maxWidth+"px",t.width>o.maxWidth&&(l.minWidth=l.maxWidth)),Object.assign(e.el.style,l),e.el.scrollTop!==i&&(e.el.scrollTop=i),e.el.scrollLeft!==n&&(e.el.scrollLeft=n)}function rv(e,t,n,i,l){const a=n.bottom,o=n.right,s=Ea(),r=window.innerHeight-s,u=document.body.clientWidth;if(e.top<0||e.top+a>r)if(l.vertical==="center")e.top=t[i.vertical]>r/2?Math.max(0,r-a):0,e.maxHeight=Math.min(a,r);else if(t[i.vertical]>r/2){const c=Math.min(r,i.vertical==="center"?t.center:i.vertical===l.vertical?t.bottom:t.top);e.maxHeight=Math.min(a,c),e.top=Math.max(0,c-a)}else e.top=Math.max(0,i.vertical==="center"?t.center:i.vertical===l.vertical?t.top:t.bottom),e.maxHeight=Math.min(a,r-e.top);if(e.left<0||e.left+o>u)if(e.maxWidth=Math.min(o,u),l.horizontal==="middle")e.left=t[i.horizontal]>u/2?Math.max(0,u-o):0;else if(t[i.horizontal]>u/2){const c=Math.min(u,i.horizontal==="middle"?t.middle:i.horizontal===l.horizontal?t.right:t.left);e.maxWidth=Math.min(o,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,i.horizontal==="middle"?t.middle:i.horizontal===l.horizontal?t.left:t.right),e.maxWidth=Math.min(o,u-e.left)}var Oe=_e({name:"QTooltip",inheritAttrs:!1,props:te(O(O(O({},Cc),Xi),ys),{maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:$a},self:{type:String,default:"top middle",validator:$a},offset:{type:Array,default:()=>[14,14],validator:Tc},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}}),emits:[...Gi],setup(e,{slots:t,emit:n,attrs:i}){let l,a;const o=we(),{proxy:{$q:s}}=o,r=S(null),u=S(!1),c=y(()=>La(e.anchor,s.lang.rtl)),d=y(()=>La(e.self,s.lang.rtl)),f=y(()=>e.persistent!==!0),{registerTick:h,removeTick:p}=no(),{registerTimeout:g,removeTimeout:m}=Hi(),{transition:b,transitionStyle:x}=Bc(e,u),{localScrollTarget:C,changeScrollEvent:k,unconfigureScrollTarget:w}=Ec(e,N),{anchorEl:E,canShow:D,anchorEvents:P}=Sc({showing:u,configureAnchorEl:ue}),{show:q,hide:T}=Zi({showing:u,canShow:D,handleShow:K,handleHide:R,hideOnRouteChange:f,processOnMount:!0});Object.assign(P,{delayShow:z,delayHide:W});const{showPortal:$,hidePortal:H,renderPortal:L}=_s(o,r,oe);if(s.platform.is.mobile===!0){const se={anchorEl:E,innerRef:r,onClickOutside(pe){return T(pe),pe.target.classList.contains("q-dialog__backdrop")&&it(pe),!0}},Re=y(()=>e.modelValue===null&&e.persistent!==!0&&u.value===!0);G(Re,pe=>{(pe===!0?qc:Va)(se)}),Xe(()=>{Va(se)})}function K(se){p(),m(),$(),h(()=>{a=new MutationObserver(()=>A()),a.observe(r.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),A(),N()}),l===void 0&&(l=G(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,A)),g(()=>{$(!0),n("show",se)},e.transitionDuration)}function R(se){p(),m(),H(),M(),g(()=>{H(!0),n("hide",se)},e.transitionDuration)}function M(){a!==void 0&&(a.disconnect(),a=void 0),l!==void 0&&(l(),l=void 0),w(),Pn(P,"tooltipTemp")}function A(){const se=r.value;E.value===null||!se||Vc({el:se,offset:e.offset,anchorEl:E.value,anchorOrigin:c.value,selfOrigin:d.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function z(se){if(s.platform.is.mobile===!0){Cl(),document.body.classList.add("non-selectable");const Re=E.value,pe=["touchmove","touchcancel","touchend","click"].map(be=>[Re,be,"delayHide","passiveCapture"]);nn(P,"tooltipTemp",pe)}g(()=>{q(se)},e.delay)}function W(se){m(),s.platform.is.mobile===!0&&(Pn(P,"tooltipTemp"),Cl(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),g(()=>{T(se)},e.hideDelay)}function ue(){if(e.noParentEvent===!0||E.value===null)return;const se=s.platform.is.mobile===!0?[[E.value,"touchstart","delayShow","passive"]]:[[E.value,"mouseenter","delayShow","passive"],[E.value,"mouseleave","delayHide","passive"]];nn(P,"anchor",se)}function N(){if(E.value!==null||e.scrollTarget!==void 0){C.value=Il(E.value,e.scrollTarget);const se=e.noParentEvent===!0?A:T;k(C.value,se)}}function X(){return u.value===!0?F("div",te(O({},i),{ref:r,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",i.class],style:[i.style,x.value],role:"complementary"}),Ie(t.default)):null}function oe(){return F(Dt,{name:b.value,appear:!0},X)}return Xe(M),Object.assign(o.proxy,{updatePosition:A}),L}}),uv=_e({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const n=y(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>F("div",{class:n.value},Ie(t.default))}});function cv(){const e=S(!Ja.value);return e.value===!1&&De(()=>{e.value=!0}),e}const $c=typeof ResizeObserver!="undefined",pr=$c===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var _i=_e({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let n=null,i,l={width:-1,height:-1};function a(r){r===!0||e.debounce===0||e.debounce==="0"?o():n===null&&(n=setTimeout(o,e.debounce))}function o(){if(clearTimeout(n),n=null,i){const{offsetWidth:r,offsetHeight:u}=i;(r!==l.width||u!==l.height)&&(l={width:r,height:u},t("resize",l))}}const s=we();if(Object.assign(s.proxy,{trigger:a}),$c===!0){let r;return De(()=>{We(()=>{i=s.proxy.$el.parentNode,i&&(r=new ResizeObserver(a),r.observe(i),o())})}),Xe(()=>{clearTimeout(n),r!==void 0&&(r.disconnect!==void 0?r.disconnect():i&&r.unobserve(i))}),Hn}else{let c=function(){clearTimeout(n),u!==void 0&&(u.removeEventListener!==void 0&&u.removeEventListener("resize",a,Ft.passive),u=void 0)},d=function(){c(),i&&i.contentDocument&&(u=i.contentDocument.defaultView,u.addEventListener("resize",a,Ft.passive),o())};const r=cv();let u;return De(()=>{We(()=>{i=s.proxy.$el,i&&d()})}),Xe(c),()=>{if(r.value===!0)return F("object",{style:pr.style,tabindex:-1,type:"text/html",data:pr.url,"aria-hidden":"true",onLoad:d})}}}}),dv=_e({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=we(),l=Kn(eo,()=>{console.error("QFooter needs to be child of QLayout")}),a=S(parseInt(e.heightHint,10)),o=S(!0),s=S(Ja.value===!0||l.isContainer.value===!0?0:window.innerHeight),r=y(()=>e.reveal===!0||l.view.value.indexOf("F")>-1||i.platform.is.ios&&l.isContainer.value===!0),u=y(()=>l.isContainer.value===!0?l.containerHeight.value:s.value),c=y(()=>{if(e.modelValue!==!0)return 0;if(r.value===!0)return o.value===!0?a.value:0;const w=l.scroll.value.position+u.value+a.value-l.height.value;return w>0?w:0}),d=y(()=>e.modelValue!==!0||r.value===!0&&o.value!==!0),f=y(()=>e.modelValue===!0&&d.value===!0&&e.reveal===!0),h=y(()=>"q-footer q-layout__section--marginal "+(r.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(d.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(r.value!==!0?" hidden":""):"")),p=y(()=>{const w=l.rows.value.bottom,E={};return w[0]==="l"&&l.left.space===!0&&(E[i.lang.rtl===!0?"right":"left"]=`${l.left.size}px`),w[2]==="r"&&l.right.space===!0&&(E[i.lang.rtl===!0?"left":"right"]=`${l.right.size}px`),E});function g(w,E){l.update("footer",w,E)}function m(w,E){w.value!==E&&(w.value=E)}function b({height:w}){m(a,w),g("size",w)}function x(){if(e.reveal!==!0)return;const{direction:w,position:E,inflectionPoint:D}=l.scroll.value;m(o,w==="up"||E-D<100||l.height.value-u.value-E-a.value<300)}function C(w){f.value===!0&&m(o,!0),n("focusin",w)}G(()=>e.modelValue,w=>{g("space",w),m(o,!0),l.animate()}),G(c,w=>{g("offset",w)}),G(()=>e.reveal,w=>{w===!1&&m(o,e.modelValue)}),G(o,w=>{l.animate(),n("reveal",w)}),G([a,l.scroll,l.height],x),G(()=>i.screen.height,w=>{l.isContainer.value!==!0&&m(s,w)});const k={};return l.instances.footer=k,e.modelValue===!0&&g("size",a.value),g("space",e.modelValue),g("offset",c.value),Xe(()=>{l.instances.footer===k&&(l.instances.footer=void 0,g("size",0),g("offset",0),g("space",!1))}),()=>{const w=on(t.default,[F(_i,{debounce:0,onResize:b})]);return e.elevated===!0&&w.push(F("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),F("footer",{class:h.value,style:p.value,onFocusin:C},w)}}}),fv=_e({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=we(),l=Kn(eo,()=>{console.error("QHeader needs to be child of QLayout")}),a=S(parseInt(e.heightHint,10)),o=S(!0),s=y(()=>e.reveal===!0||l.view.value.indexOf("H")>-1||i.platform.is.ios&&l.isContainer.value===!0),r=y(()=>{if(e.modelValue!==!0)return 0;if(s.value===!0)return o.value===!0?a.value:0;const x=a.value-l.scroll.value.position;return x>0?x:0}),u=y(()=>e.modelValue!==!0||s.value===!0&&o.value!==!0),c=y(()=>e.modelValue===!0&&u.value===!0&&e.reveal===!0),d=y(()=>"q-header q-layout__section--marginal "+(s.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(u.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),f=y(()=>{const x=l.rows.value.top,C={};return x[0]==="l"&&l.left.space===!0&&(C[i.lang.rtl===!0?"right":"left"]=`${l.left.size}px`),x[2]==="r"&&l.right.space===!0&&(C[i.lang.rtl===!0?"left":"right"]=`${l.right.size}px`),C});function h(x,C){l.update("header",x,C)}function p(x,C){x.value!==C&&(x.value=C)}function g({height:x}){p(a,x),h("size",x)}function m(x){c.value===!0&&p(o,!0),n("focusin",x)}G(()=>e.modelValue,x=>{h("space",x),p(o,!0),l.animate()}),G(r,x=>{h("offset",x)}),G(()=>e.reveal,x=>{x===!1&&p(o,e.modelValue)}),G(o,x=>{l.animate(),n("reveal",x)}),G(l.scroll,x=>{e.reveal===!0&&p(o,x.direction==="up"||x.position<=e.revealOffset||x.position-x.inflectionPoint<100)});const b={};return l.instances.header=b,e.modelValue===!0&&h("size",a.value),h("space",e.modelValue),h("offset",r.value),Xe(()=>{l.instances.header===b&&(l.instances.header=void 0,h("size",0),h("offset",0),h("space",!1))}),()=>{const x=ss(t.default,[]);return e.elevated===!0&&x.push(F("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),x.push(F(_i,{debounce:0,onResize:g})),F("header",{class:d.value,style:f.value,onFocusin:m},x)}}});const{passive:br}=Ft,hv=["both","horizontal","vertical"];var xs=_e({name:"QScrollObserver",props:{axis:{type:String,validator:e=>hv.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:t}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let i=null,l,a;G(()=>e.scrollTarget,()=>{r(),s()});function o(){i!==null&&i();const d=Math.max(0,io(l)),f=lo(l),h={top:d-n.position.top,left:f-n.position.left};if(e.axis==="vertical"&&h.top===0||e.axis==="horizontal"&&h.left===0)return;const p=Math.abs(h.top)>=Math.abs(h.left)?h.top<0?"up":"down":h.left<0?"left":"right";n.position={top:d,left:f},n.directionChanged=n.direction!==p,n.delta=h,n.directionChanged===!0&&(n.direction=p,n.inflectionPoint=n.position),t("scroll",O({},n))}function s(){l=Il(a,e.scrollTarget),l.addEventListener("scroll",u,br),u(!0)}function r(){l!==void 0&&(l.removeEventListener("scroll",u,br),l=void 0)}function u(d){if(d===!0||e.debounce===0||e.debounce==="0")o();else if(i===null){const[f,h]=e.debounce?[setTimeout(o,e.debounce),clearTimeout]:[requestAnimationFrame(o),cancelAnimationFrame];i=()=>{h(f),i=null}}}const c=we();return De(()=>{a=c.proxy.$el.parentNode,s()}),Xe(()=>{i!==null&&i(),r()}),Object.assign(c.proxy,{trigger:u,getPosition:()=>n}),Hn}}),vv=_e({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=we(),l=S(null),a=S(i.screen.height),o=S(e.container===!0?0:i.screen.width),s=S({position:0,direction:"down",inflectionPoint:0}),r=S(0),u=S(Ja.value===!0?0:Ea()),c=y(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),d=y(()=>e.container===!1?{minHeight:i.screen.height+"px"}:null),f=y(()=>u.value!==0?{[i.lang.rtl===!0?"left":"right"]:`${u.value}px`}:null),h=y(()=>u.value!==0?{[i.lang.rtl===!0?"right":"left"]:0,[i.lang.rtl===!0?"left":"right"]:`-${u.value}px`,width:`calc(100% + ${u.value}px)`}:null);function p(k){if(e.container===!0||document.qScrollPrevented!==!0){const w={position:k.position.top,direction:k.direction,directionChanged:k.directionChanged,inflectionPoint:k.inflectionPoint.top,delta:k.delta.top};s.value=w,e.onScroll!==void 0&&n("scroll",w)}}function g(k){const{height:w,width:E}=k;let D=!1;a.value!==w&&(D=!0,a.value=w,e.onScrollHeight!==void 0&&n("scroll-height",w),b()),o.value!==E&&(D=!0,o.value=E),D===!0&&e.onResize!==void 0&&n("resize",k)}function m({height:k}){r.value!==k&&(r.value=k,b())}function b(){if(e.container===!0){const k=a.value>r.value?Ea():0;u.value!==k&&(u.value=k)}}let x;const C={instances:{},view:y(()=>e.view),isContainer:y(()=>e.container),rootRef:l,height:a,containerHeight:r,scrollbarWidth:u,totalWidth:y(()=>o.value+u.value),rows:y(()=>{const k=e.view.toLowerCase().split(" ");return{top:k[0].split(""),middle:k[1].split(""),bottom:k[2].split("")}}),header:Zl({size:0,offset:0,space:!1}),right:Zl({size:300,offset:0,space:!1}),footer:Zl({size:0,offset:0,space:!1}),left:Zl({size:300,offset:0,space:!1}),scroll:s,animate(){x!==void 0?clearTimeout(x):document.body.classList.add("q-body--layout-animate"),x=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),x=void 0},155)},update(k,w,E){C[k][w]=E}};if($l(eo,C),Ea()>0){let E=function(){k=null,w.classList.remove("hide-scrollbar")},D=function(){if(k===null){if(w.scrollHeight>i.screen.height)return;w.classList.add("hide-scrollbar")}else clearTimeout(k);k=setTimeout(E,300)},P=function(q){k!==null&&q==="remove"&&(clearTimeout(k),E()),window[`${q}EventListener`]("resize",D)},k=null;const w=document.body;G(()=>e.container!==!0?"add":"remove",P),e.container!==!0&&P("add"),Ci(()=>{P("remove")})}return()=>{const k=on(t.default,[F(xs,{onScroll:p}),F(_i,{onResize:g})]),w=F("div",{class:c.value,style:d.value,ref:e.container===!0?void 0:l},k);return e.container===!0?F("div",{class:"q-layout-container overflow-hidden",ref:l},[F(_i,{onResize:m}),F("div",{class:"absolute-full",style:f.value},[F("div",{class:"scroll",style:h.value},[w])])]):w}}}),mv=_e({name:"QBanner",props:te(O({},bt),{inlineActions:Boolean,dense:Boolean,rounded:Boolean}),setup(e,{slots:t}){const n=we(),i=_t(e,n.proxy.$q),l=y(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(i.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),a=y(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const o=[F("div",{class:"q-banner__avatar col-auto row items-center self-start"},Ie(t.avatar)),F("div",{class:"q-banner__content col text-body2"},Ie(t.default))],s=Ie(t.action);return s!==void 0&&o.push(F("div",{class:a.value},s)),F("div",{class:l.value+(e.inlineActions===!1&&s!==void 0?" q-banner--top-padding":""),role:"alert"},o)}}});const ws={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},gv=Object.keys(ws);ws.all=!0;function Ra(e){const t={};for(const n of gv)e[n]===!0&&(t[n]=!0);return Object.keys(t).length===0?ws:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}function Oa(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&e.target.nodeName.toUpperCase()!=="INPUT"&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function ko(e,t,n){const i=pi(e);let l,a=i.left-t.event.x,o=i.top-t.event.y,s=Math.abs(a),r=Math.abs(o);const u=t.direction;u.horizontal===!0&&u.vertical!==!0?l=a<0?"left":"right":u.horizontal!==!0&&u.vertical===!0?l=o<0?"up":"down":u.up===!0&&o<0?(l="up",s>r&&(u.left===!0&&a<0?l="left":u.right===!0&&a>0&&(l="right"))):u.down===!0&&o>0?(l="down",s>r&&(u.left===!0&&a<0?l="left":u.right===!0&&a>0&&(l="right"))):u.left===!0&&a<0?(l="left",s<r&&(u.up===!0&&o<0?l="up":u.down===!0&&o>0&&(l="down"))):u.right===!0&&a>0&&(l="right",s<r&&(u.up===!0&&o<0?l="up":u.down===!0&&o>0&&(l="down")));let c=!1;if(l===void 0&&n===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};l=t.event.lastDir,c=!0,l==="left"||l==="right"?(i.left-=a,s=0,a=0):(i.top-=o,r=0,o=0)}return{synthetic:c,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:i,direction:l,isFirst:t.event.isFirst,isFinal:n===!0,duration:Date.now()-t.event.time,distance:{x:s,y:r},offset:{x:a,y:o},delta:{x:i.left-t.event.lastX,y:i.top-t.event.lastY}}}}let pv=0;var Oi=to({name:"touch-pan",beforeMount(e,{value:t,modifiers:n}){if(n.mouse!==!0&&Ct.has.touch!==!0)return;function i(a,o){n.mouse===!0&&o===!0?it(a):(n.stop===!0&&Ut(a),n.prevent===!0&&tn(a))}const l={uid:"qvtp_"+pv++,handler:t,modifiers:n,direction:Ra(n),noop:Hn,mouseStart(a){Oa(a,l)&&ac(a)&&(nn(l,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),l.start(a,!0))},touchStart(a){if(Oa(a,l)){const o=a.target;nn(l,"temp",[[o,"touchmove","move","notPassiveCapture"],[o,"touchcancel","end","passiveCapture"],[o,"touchend","end","passiveCapture"]]),l.start(a)}},start(a,o){if(Ct.is.firefox===!0&&Li(e,!0),l.lastEvt=a,o===!0||n.stop===!0){if(l.direction.all!==!0&&(o!==!0||l.modifiers.mouseAllDir!==!0)){const u=a.type.indexOf("mouse")>-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&tn(u),a.cancelBubble===!0&&Ut(u),Object.assign(u,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[l.uid]:a.qClonedBy.concat(l.uid)}),l.initialEvent={target:a.target,event:u}}Ut(a)}const{left:s,top:r}=pi(a);l.event={x:s,y:r,time:Date.now(),mouse:o===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:s,lastY:r}},move(a){if(l.event===void 0)return;const o=pi(a),s=o.left-l.event.x,r=o.top-l.event.y;if(s===0&&r===0)return;l.lastEvt=a;const u=l.event.mouse===!0,c=()=>{i(a,u),n.preserveCursor!==!0&&(document.documentElement.style.cursor="grabbing"),u===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Cl(),l.styleCleanup=h=>{if(l.styleCleanup=void 0,n.preserveCursor!==!0&&(document.documentElement.style.cursor=""),document.body.classList.remove("non-selectable"),u===!0){const p=()=>{document.body.classList.remove("no-pointer-events--children")};h!==void 0?setTimeout(()=>{p(),h()},50):p()}else h!==void 0&&h()}};if(l.event.detected===!0){l.event.isFirst!==!0&&i(a,l.event.mouse);const{payload:h,synthetic:p}=ko(a,l,!1);h!==void 0&&(l.handler(h)===!1?l.end(a):(l.styleCleanup===void 0&&l.event.isFirst===!0&&c(),l.event.lastX=h.position.left,l.event.lastY=h.position.top,l.event.lastDir=p===!0?void 0:h.direction,l.event.isFirst=!1));return}if(l.direction.all===!0||u===!0&&l.modifiers.mouseAllDir===!0){c(),l.event.detected=!0,l.move(a);return}const d=Math.abs(s),f=Math.abs(r);d!==f&&(l.direction.horizontal===!0&&d>f||l.direction.vertical===!0&&d<f||l.direction.up===!0&&d<f&&r<0||l.direction.down===!0&&d<f&&r>0||l.direction.left===!0&&d>f&&s<0||l.direction.right===!0&&d>f&&s>0?(l.event.detected=!0,l.move(a)):l.end(a,!0))},end(a,o){if(l.event!==void 0){if(Pn(l,"temp"),Ct.is.firefox===!0&&Li(e,!1),o===!0)l.styleCleanup!==void 0&&l.styleCleanup(),l.event.detected!==!0&&l.initialEvent!==void 0&&l.initialEvent.target.dispatchEvent(l.initialEvent.event);else if(l.event.detected===!0){l.event.isFirst===!0&&l.handler(ko(a===void 0?l.lastEvt:a,l).payload);const{payload:s}=ko(a===void 0?l.lastEvt:a,l,!0),r=()=>{l.handler(s)};l.styleCleanup!==void 0?l.styleCleanup(r):r()}l.event=void 0,l.initialEvent=void 0,l.lastEvt=void 0}}};e.__qtouchpan=l,n.mouse===!0&&nn(l,"main",[[e,"mousedown","mouseStart",`passive${n.mouseCapture===!0?"Capture":""}`]]),Ct.has.touch===!0&&nn(l,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchpan;n!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&n.end(),n.handler=t.value),n.direction=Ra(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),Pn(t,"main"),Pn(t,"temp"),Ct.is.firefox===!0&&Li(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});const _r=["B","KB","MB","GB","TB","PB"];function bv(e){let t=0;for(;parseInt(e,10)>=1024&&t<_r.length-1;)e/=1024,++t;return`${e.toFixed(1)}${_r[t]}`}function Tt(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function yr(e,t,n){if(n<=t)return t;const i=n-t+1;let l=t+(e-t)%i;return l<t&&(l=i+l),l===0?0:l}const xr=["vertical","horizontal"],Co={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},wr={prevent:!0,mouse:!0,mouseAllDir:!0};var Si=_e({name:"QScrollArea",props:te(O({},bt),{thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function}),setup(e,{slots:t,emit:n}){const i=S(!1),l=S(!1),a=S(!1),o={vertical:S(0),horizontal:S(0)},s={vertical:{ref:S(null),position:S(0),size:S(0)},horizontal:{ref:S(null),position:S(0),size:S(0)}},r=we(),u=_t(e,r.proxy.$q);let c,d;const f=S(null),h=y(()=>"q-scrollarea"+(u.value===!0?" q-scrollarea--dark":""));s.vertical.percentage=y(()=>{const M=s.vertical.size.value-o.vertical.value;if(M<=0)return 0;const A=Tt(s.vertical.position.value/M,0,1);return Math.round(A*1e4)/1e4}),s.vertical.thumbHidden=y(()=>(e.visible===null?a.value:e.visible)!==!0&&i.value===!1&&l.value===!1||s.vertical.size.value<=o.vertical.value+1),s.vertical.thumbStart=y(()=>s.vertical.percentage.value*(o.vertical.value-s.vertical.thumbSize.value)),s.vertical.thumbSize=y(()=>Math.round(Tt(o.vertical.value*o.vertical.value/s.vertical.size.value,50,o.vertical.value))),s.vertical.style=y(()=>te(O(O({},e.thumbStyle),e.verticalThumbStyle),{top:`${s.vertical.thumbStart.value}px`,height:`${s.vertical.thumbSize.value}px`})),s.vertical.thumbClass=y(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(s.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),s.vertical.barClass=y(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(s.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),s.horizontal.percentage=y(()=>{const M=s.horizontal.size.value-o.horizontal.value;if(M<=0)return 0;const A=Tt(s.horizontal.position.value/M,0,1);return Math.round(A*1e4)/1e4}),s.horizontal.thumbHidden=y(()=>(e.visible===null?a.value:e.visible)!==!0&&i.value===!1&&l.value===!1||s.horizontal.size.value<=o.horizontal.value+1),s.horizontal.thumbStart=y(()=>s.horizontal.percentage.value*(o.horizontal.value-s.horizontal.thumbSize.value)),s.horizontal.thumbSize=y(()=>Math.round(Tt(o.horizontal.value*o.horizontal.value/s.horizontal.size.value,50,o.horizontal.value))),s.horizontal.style=y(()=>te(O(O({},e.thumbStyle),e.horizontalThumbStyle),{left:`${s.horizontal.thumbStart.value}px`,width:`${s.horizontal.thumbSize.value}px`})),s.horizontal.thumbClass=y(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(s.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),s.horizontal.barClass=y(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(s.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const p=y(()=>s.vertical.thumbHidden.value===!0&&s.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),g=[[Oi,M=>{D(M,"vertical")},void 0,O({vertical:!0},wr)]],m=[[Oi,M=>{D(M,"horizontal")},void 0,O({horizontal:!0},wr)]];function b(){const M={};return xr.forEach(A=>{const z=s[A];M[A+"Position"]=z.position.value,M[A+"Percentage"]=z.percentage.value,M[A+"Size"]=z.size.value,M[A+"ContainerSize"]=o[A].value}),M}const x=rs(()=>{const M=b();M.ref=r.proxy,n("scroll",M)},0);function C(M,A,z){if(xr.includes(M)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(M==="vertical"?hr:vr)(f.value,A,z)}function k({height:M,width:A}){let z=!1;o.vertical.value!==M&&(o.vertical.value=M,z=!0),o.horizontal.value!==A&&(o.horizontal.value=A,z=!0),z===!0&&$()}function w({position:M}){let A=!1;s.vertical.position.value!==M.top&&(s.vertical.position.value=M.top,A=!0),s.horizontal.position.value!==M.left&&(s.horizontal.position.value=M.left,A=!0),A===!0&&$()}function E({height:M,width:A}){s.horizontal.size.value!==A&&(s.horizontal.size.value=A,$()),s.vertical.size.value!==M&&(s.vertical.size.value=M,$())}function D(M,A){const z=s[A];if(M.isFirst===!0){if(z.thumbHidden.value===!0)return;d=z.position.value,l.value=!0}else if(l.value!==!0)return;M.isFinal===!0&&(l.value=!1);const W=Co[A],ue=o[A].value,N=(z.size.value-ue)/(ue-z.thumbSize.value),X=M.distance[W.dist],oe=d+(M.direction===W.dir?1:-1)*X*N;H(oe,A)}function P(M,A){const z=s[A];if(z.thumbHidden.value!==!0){const W=M[Co[A].offset];if(W<z.thumbStart.value||W>z.thumbStart.value+z.thumbSize.value){const ue=W-z.thumbSize.value/2;H(ue/o[A].value*z.size.value,A)}z.ref.value!==null&&z.ref.value.dispatchEvent(new MouseEvent(M.type,M))}}function q(M){P(M,"vertical")}function T(M){P(M,"horizontal")}function $(){i.value===!0?clearTimeout(c):i.value=!0,c=setTimeout(()=>{i.value=!1},e.delay),e.onScroll!==void 0&&x()}function H(M,A){f.value[Co[A].scroll]=M}function L(){a.value=!0}function K(){a.value=!1}Object.assign(r.proxy,{getScrollTarget:()=>f.value,getScroll:b,getScrollPosition:()=>({top:s.vertical.position.value,left:s.horizontal.position.value}),getScrollPercentage:()=>({top:s.vertical.percentage.value,left:s.horizontal.percentage.value}),setScrollPosition:C,setScrollPercentage(M,A,z){C(M,A*(s[M].size.value-o[M].value),z)}});let R=null;return Ki(()=>{R={top:s.vertical.position.value,left:s.horizontal.position.value}}),Yi(()=>{if(R===null)return;const M=f.value;M!==null&&(vr(M,R.left),hr(M,R.top))}),Xe(x.cancel),()=>F("div",{class:h.value,onMouseenter:L,onMouseleave:K},[F("div",{ref:f,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[F("div",{class:"q-scrollarea__content absolute",style:p.value},on(t.default,[F(_i,{debounce:0,onResize:E})])),F(xs,{axis:"both",onScroll:w})]),F(_i,{debounce:0,onResize:k}),F("div",{class:s.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:q}),F("div",{class:s.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:T}),he(F("div",{ref:s.vertical.ref,class:s.vertical.thumbClass.value,style:s.vertical.style.value,"aria-hidden":"true"}),g),he(F("div",{ref:s.horizontal.ref,class:s.horizontal.thumbClass.value,style:s.horizontal.style.value,"aria-hidden":"true"}),m)])}}),ke=_e({name:"QCard",props:te(O({},bt),{tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean}),setup(e,{slots:t}){const n=we(),i=_t(e,n.proxy.$q),l=y(()=>"q-card"+(i.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>F(e.tag,{class:l.value},Ie(t.default))}});function zl(){return Kn(If)}const _v=e=>(kn("data-v-379f95c1"),e=e(),Cn(),e),yv={class:"noti-box-opened"},xv=_v(()=>B("div",{class:"text-subtitle-2 q-ma-md"},"\u901A\u77E5",-1)),wv=Ee({__name:"NotificationArea",props:{modelValue:{type:Boolean},maxDisp:{}},emits:["update:modelValue"],setup(e,{emit:t}){S([]);const n=zl();G(sr.value,o=>{const s=o[o.length-1];n.notify({type:a(s.level),message:s.msg,position:"bottom-right",closeBtn:!0,progress:!0,timeout:zf})});function i(o){switch(o){case"error":return"bg-negative text-white";case"info":return"bg-info text-white";case"success":return"bg-positive text-white";case"warning":return"bg-warning text-white"}}function l(o){switch(o){case"error":return"error";case"info":return"info";case"success":return"check";case"warning":return"warning"}}function a(o){return o=="error"?"negative":o=="success"?"positive":o}return(o,s)=>(I(),ie(Dt,{appear:"","enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp"},{default:_(()=>[he(B("div",yv,[v(ke,{class:"noti-card"},{default:_(()=>[v(Si,{style:{height:"100%"}},{default:_(()=>[xv,v(Yn,{"enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutRight"},{default:_(()=>[(I(!0),J(Te,null,ut(ne(sr),(r,u)=>(I(),J("div",{key:u,class:"py-1 px-0"},[v(mv,{class:hl([i(r.level),"q-ma-sm"])},{avatar:_(()=>[v(ve,{name:l(r.level)},null,8,["name"])]),default:_(()=>[B("pre",null,Y(r.msg),1)]),_:2},1032,["class"])]))),128))]),_:1})]),_:1})]),_:1})],512),[[Ke,o.modelValue]])]),_:1}))}});var kv=mt(wv,[["__scopeId","data-v-379f95c1"]]);let Cv=0;const Sv=["click","keydown"],Ev={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Cv++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Fv(e,t,n,i){const l=Kn(oc,()=>{console.error("QTab/QRouteTab component needs to be child of QTabs")}),{proxy:a}=we(),o=S(null),s=S(null),r=S(null),u=y(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),c=y(()=>l.currentModel.value===e.name),d=y(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(c.value===!0?" q-tab--active"+(l.tabProps.value.activeClass?" "+l.tabProps.value.activeClass:"")+(l.tabProps.value.activeColor?` text-${l.tabProps.value.activeColor}`:"")+(l.tabProps.value.activeBgColor?` bg-${l.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&l.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||l.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(i!==void 0&&i.linkClass.value!==""?` ${i.linkClass.value}`:"")),f=y(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(l.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),h=y(()=>e.disable===!0||l.hasFocus.value===!0?-1:e.tabindex||0);function p(C,k){if(k!==!0&&o.value!==null&&o.value.focus(),e.disable!==!0){let w;if(i!==void 0)if(i.hasRouterLink.value===!0)w=()=>{C.__qNavigate=!0,l.avoidRouteWatcher=!0;const E=i.navigateToRouterLink(C);E===!1?l.avoidRouteWatcher=!1:E.then(D=>{l.avoidRouteWatcher=!1,D===void 0&&l.updateModel({name:e.name,fromRoute:!0})})};else{n("click",C);return}else w=()=>{l.updateModel({name:e.name,fromRoute:!1})};n("click",C,w),C.defaultPrevented!==!0&&w()}}function g(C){ki(C,[13,32])?p(C,!0):us(C)!==!0&&C.keyCode>=35&&C.keyCode<=40&&l.onKbdNavigate(C.keyCode,a.$el)===!0&&it(C),n("keydown",C)}function m(){const C=l.tabProps.value.narrowIndicator,k=[],w=F("div",{ref:r,class:["q-tab__indicator",l.tabProps.value.indicatorClass]});e.icon!==void 0&&k.push(F(ve,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&k.push(F("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&k.push(e.alertIcon!==void 0?F(ve,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):F("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),C===!0&&k.push(w);const E=[F("div",{class:"q-focus-helper",tabindex:-1,ref:o}),F("div",{class:f.value},on(t.default,k))];return C===!1&&E.push(w),E}const b={name:y(()=>e.name),rootRef:s,tabIndicatorRef:r,routerProps:i};Xe(()=>{l.unregisterTab(b),l.recalculateScroll()}),De(()=>{l.registerTab(b),l.recalculateScroll()});function x(C,k){const w=O({ref:s,class:d.value,tabindex:h.value,role:"tab","aria-selected":c.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:p,onKeydown:g},k);return he(F(C,w,m()),[[Et,u.value]])}return{renderTab:x,$tabs:l}}var Dv=_e({name:"QTab",props:Ev,emits:Sv,setup(e,{slots:t,emit:n}){const{renderTab:i}=Fv(e,t,n);return()=>i("div")}}),ge=_e({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=y(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>F("div",{class:n.value},Ie(t.default))}}),je=_e({name:"QItem",props:te(O(O({},bt),cs),{tag:{type:String,default:"div"},active:Boolean,clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean}),emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=we(),l=_t(e,i),{hasRouterLink:a,hasLink:o,linkProps:s,linkClass:r,linkTag:u,navigateToRouterLink:c}=Nf(),d=S(null),f=S(null),h=y(()=>e.clickable===!0||o.value===!0||e.tag==="label"),p=y(()=>e.disable!==!0&&h.value===!0),g=y(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(l.value===!0?" q-item--dark":"")+(o.value===!0?r.value:e.active===!0?`${e.activeClass!==void 0?` ${e.activeClass}`:""} q-item--active`:"")+(e.disable===!0?" disabled":"")+(p.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),m=y(()=>{if(e.insetLevel===void 0)return null;const k=i.lang.rtl===!0?"Right":"Left";return{["padding"+k]:16+e.insetLevel*56+"px"}});function b(k){p.value===!0&&(f.value!==null&&(k.qKeyEvent!==!0&&document.activeElement===d.value?f.value.focus():document.activeElement===f.value&&d.value.focus()),a.value===!0&&c(k),n("click",k))}function x(k){if(p.value===!0&&ki(k,13)===!0){it(k),k.qKeyEvent=!0;const w=new MouseEvent("click",k);w.qKeyEvent=!0,d.value.dispatchEvent(w)}n("keyup",k)}function C(){const k=ss(t.default,[]);return p.value===!0&&k.unshift(F("div",{class:"q-focus-helper",tabindex:-1,ref:f})),k}return()=>{const k={ref:d,class:g.value,style:m.value,onClick:b,onKeyup:x};return p.value===!0?(k.tabindex=e.tabindex||"0",Object.assign(k,s.value)):h.value===!0&&(k["aria-disabled"]="true"),F(u.value,k,C())}}}),dn=_e({name:"QList",props:te(O({},bt),{bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean}),setup(e,{slots:t}){const n=we(),i=_t(e,n.proxy.$q),l=y(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(i.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>F("div",{class:l.value},Ie(t.default))}}),Bv=_e({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=y(()=>{const i=["unelevated","outline","flat","rounded","push","stretch","glossy"].filter(l=>e[l]===!0).map(l=>`q-btn-group--${l}`).join(" ");return`q-btn-group row no-wrap${i.length>0?" "+i:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>F("div",{class:n.value},Ie(t.default))}});const fi=[];let ji;function Av(e){ji=e.keyCode===27}function Pv(){ji===!0&&(ji=!1)}function Mv(e){ji===!0&&(ji=!1,ki(e,27)===!0&&fi[fi.length-1](e))}function Lc(e){window[e]("keydown",Av),window[e]("blur",Pv),window[e]("keyup",Mv),ji=!1}function Rc(e){Ct.is.desktop===!0&&(fi.push(e),fi.length===1&&Lc("addEventListener"))}function Ia(e){const t=fi.indexOf(e);t>-1&&(fi.splice(t,1),fi.length===0&&Lc("removeEventListener"))}const hi=[];function Oc(e){hi[hi.length-1](e)}function Ic(e){Ct.is.desktop===!0&&(hi.push(e),hi.length===1&&document.body.addEventListener("focusin",Oc))}function Ko(e){const t=hi.indexOf(e);t>-1&&(hi.splice(t,1),hi.length===0&&document.body.removeEventListener("focusin",Oc))}var Mn=_e({name:"QMenu",inheritAttrs:!1,props:te(O(O(O(O({},Cc),Xi),bt),ys),{persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:$a},self:{type:String,validator:$a},offset:{type:Array,validator:Tc},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}}),emits:[...Gi,"click","escape-key"],setup(e,{slots:t,emit:n,attrs:i}){let l=null,a,o,s;const r=we(),{proxy:u}=r,{$q:c}=u,d=S(null),f=S(!1),h=y(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),p=_t(e,c),{registerTick:g,removeTick:m}=no(),{registerTimeout:b,removeTimeout:x}=Hi(),{transition:C,transitionStyle:k}=Bc(e,f),{localScrollTarget:w,changeScrollEvent:E,unconfigureScrollTarget:D}=Ec(e,se),{anchorEl:P,canShow:q}=Sc({showing:f}),{hide:T}=Zi({showing:f,canShow:q,handleShow:N,handleHide:X,hideOnRouteChange:h,processOnMount:!0}),{showPortal:$,hidePortal:H,renderPortal:L}=_s(r,d,le),K={anchorEl:P,innerRef:d,onClickOutside(ce){if(e.persistent!==!0&&f.value===!0)return T(ce),(ce.type==="touchstart"||ce.target.classList.contains("q-dialog__backdrop"))&&it(ce),!0}},R=y(()=>La(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),M=y(()=>e.cover===!0?R.value:La(e.self||"top start",c.lang.rtl)),A=y(()=>(e.square===!0?" q-menu--square":"")+(p.value===!0?" q-menu--dark q-dark":"")),z=y(()=>e.autoClose===!0?{onClick:Re}:{}),W=y(()=>f.value===!0&&e.persistent!==!0);G(W,ce=>{ce===!0?(Rc(be),qc(K)):(Ia(be),Va(K))});function ue(){Ol(()=>{let ce=d.value;ce&&ce.contains(document.activeElement)!==!0&&(ce=ce.querySelector("[autofocus], [data-autofocus]")||ce,ce.focus({preventScroll:!0}))})}function N(ce){if(m(),x(),l=e.noRefocus===!1?document.activeElement:null,Ic(pe),$(),se(),a=void 0,ce!==void 0&&(e.touchPosition||e.contextMenu)){const Ge=pi(ce);if(Ge.left!==void 0){const{top:Ue,left:Ne}=P.value.getBoundingClientRect();a={left:Ge.left-Ne,top:Ge.top-Ue}}}o===void 0&&(o=G(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,Ve)),e.noFocus!==!0&&document.activeElement.blur(),g(()=>{Ve(),e.noFocus!==!0&&ue()}),b(()=>{c.platform.is.ios===!0&&(s=e.autoClose,d.value.click()),Ve(),$(!0),n("show",ce)},e.transitionDuration)}function X(ce){m(),x(),H(),oe(!0),l!==null&&(ce===void 0||ce.qClickOutside!==!0)&&(l.focus(),l=null),b(()=>{H(!0),n("hide",ce)},e.transitionDuration)}function oe(ce){a=void 0,o!==void 0&&(o(),o=void 0),(ce===!0||f.value===!0)&&(Ko(pe),D(),Va(K),Ia(be)),ce!==!0&&(l=null)}function se(){(P.value!==null||e.scrollTarget!==void 0)&&(w.value=Il(P.value,e.scrollTarget),E(w.value,Ve))}function Re(ce){s!==!0?(Dc(u,ce),n("click",ce)):s=!1}function pe(ce){W.value===!0&&e.noFocus!==!0&&sc(d.value,ce.target)!==!0&&ue()}function be(ce){n("escape-key"),T(ce)}function Ve(){const ce=d.value;ce===null||P.value===null||Vc({el:ce,offset:e.offset,anchorEl:P.value,anchorOrigin:R.value,selfOrigin:M.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function le(){return F(Dt,{name:C.value,appear:!0},()=>f.value===!0?F("div",O(te(O({},i),{ref:d,tabindex:-1,class:["q-menu q-position-engine scroll"+A.value,i.class],style:[i.style,k.value]}),z.value),Ie(t.default)):null)}return Xe(oe),Object.assign(u,{focus:ue,updatePosition:Ve}),L}}),zc=_e({name:"QBtnDropdown",props:te(O({},Hf),{modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean}),emits:["update:modelValue","click","before-show","show","before-hide","hide"],setup(e,{slots:t,emit:n}){const{proxy:i}=we(),l=S(e.modelValue),a=S(null),o=y(()=>{const b={"aria-expanded":l.value===!0?"true":"false","aria-haspopup":"true"};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(b["aria-disabled"]="true"),b}),s=y(()=>"q-btn-dropdown__arrow"+(l.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":""));G(()=>e.modelValue,b=>{a.value!==null&&a.value[b?"show":"hide"]()}),G(()=>e.split,m);function r(b){l.value=!0,n("before-show",b)}function u(b){n("show",b),n("update:modelValue",!0)}function c(b){l.value=!1,n("before-hide",b)}function d(b){n("hide",b),n("update:modelValue",!1)}function f(b){n("click",b)}function h(b){Ut(b),m(),n("click",b)}function p(b){a.value!==null&&a.value.toggle(b)}function g(b){a.value!==null&&a.value.show(b)}function m(b){a.value!==null&&a.value.hide(b)}return Object.assign(i,{show:g,hide:m,toggle:p}),De(()=>{e.modelValue===!0&&g()}),()=>{const b=[F(ve,{class:s.value,name:e.dropdownIcon||i.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&b.push(F(Mn,{ref:a,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,onBeforeShow:r,onShow:u,onBeforeHide:c,onHide:d},t.default)),e.split===!1?F(ae,te(O(te(O({class:"q-btn-dropdown q-btn-dropdown--simple"},e),{disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1}),o.value),{onClick:f}),()=>Ie(t.label,[]).concat(b)):F(Bv,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,unelevated:e.unelevated,glossy:e.glossy,stretch:e.stretch},()=>[F(ae,te(O({class:"q-btn-dropdown--current"},e),{disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,iconRight:e.iconRight,round:!1,onClick:h}),t.label),F(ae,te(O({class:"q-btn-dropdown__arrow-container q-anchor--skip"},o.value),{disable:e.disable===!0||e.disableDropdown===!0,outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,size:e.size,color:e.color,textColor:e.textColor,dense:e.dense,ripple:e.ripple}),()=>b)])}}});let El=!1;{const e=document.createElement("div"),t=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",t.style.width="1000px",t.style.height="1px",document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,El=e.scrollLeft>=0,e.remove()}function qv(e,t,n){const i=n===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?i[0]:i[1]}${e?` text-${e}`:""}`}const Tv=["left","center","right","justify"],kr=()=>{};var Vv=_e({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Tv.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:n}){const i=we(),{proxy:{$q:l}}=i,{registerTick:a}=no(),{registerTimeout:o,removeTimeout:s}=Hi(),{registerTimeout:r}=Hi(),u=S(null),c=S(null),d=S(e.modelValue),f=S(!1),h=S(!0),p=S(!1),g=S(!1),m=y(()=>l.platform.is.desktop===!0||e.mobileArrows===!0),b=[],x=S(!1);let C=!1,k,w,E,D=m.value===!0?ue:Hn;const P=y(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:qv(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),q=y(()=>`q-tabs__content--align-${f.value===!0?"left":g.value===!0?"justify":e.align}`),T=y(()=>`q-tabs row no-wrap items-center q-tabs--${f.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${m.value===!0&&e.outsideArrows===!0?"outside":"inside"}`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),$=y(()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+q.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")+(l.platform.is.mobile===!0?" scroll":"")),H=y(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),L=y(()=>e.vertical!==!0&&l.lang.rtl===!0),K=y(()=>El===!1&&L.value===!0);G(L,D),G(()=>e.modelValue,ee=>{R({name:ee,setCurrent:!0,skipEmit:!0})}),G(()=>e.outsideArrows,()=>{We(M())}),G(m,ee=>{D=ee===!0?ue:Hn,We(M())});function R({name:ee,setCurrent:xe,skipEmit:Fe,fromRoute:Ae}){d.value!==ee&&(Fe!==!0&&n("update:modelValue",ee),(xe===!0||e["onUpdate:modelValue"]===void 0)&&(z(d.value,ee),d.value=ee)),Ae!==void 0&&(C=Ae)}function M(){a(()=>{i.isDeactivated!==!0&&i.isUnmounted!==!0&&A({width:u.value.offsetWidth,height:u.value.offsetHeight})})}function A(ee){if(H.value===void 0||c.value===null)return;const xe=ee[H.value.container],Fe=Math.min(c.value[H.value.scroll],Array.prototype.reduce.call(c.value.children,(Q,me)=>Q+(me[H.value.content]||0),0)),Ae=xe>0&&Fe>xe;f.value!==Ae&&(f.value=Ae),Ae===!0&&We(D);const Me=xe<parseInt(e.breakpoint,10);g.value!==Me&&(g.value=Me)}function z(ee,xe){const Fe=ee!=null&&ee!==""?b.find(Me=>Me.name.value===ee):null,Ae=xe!=null&&xe!==""?b.find(Me=>Me.name.value===xe):null;if(Fe&&Ae){const Me=Fe.tabIndicatorRef.value,Q=Ae.tabIndicatorRef.value;clearTimeout(k),Me.style.transition="none",Me.style.transform="none",Q.style.transition="none",Q.style.transform="none";const me=Me.getBoundingClientRect(),Be=Q.getBoundingClientRect();Q.style.transform=e.vertical===!0?`translate3d(0,${me.top-Be.top}px,0) scale3d(1,${Be.height?me.height/Be.height:1},1)`:`translate3d(${me.left-Be.left}px,0,0) scale3d(${Be.width?me.width/Be.width:1},1,1)`,We(()=>{k=setTimeout(()=>{Q.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",Q.style.transform="none"},70)})}Ae&&f.value===!0&&W(Ae.rootRef.value)}function W(ee){const{left:xe,width:Fe,top:Ae,height:Me}=c.value.getBoundingClientRect(),Q=ee.getBoundingClientRect();let me=e.vertical===!0?Q.top-Ae:Q.left-xe;if(me<0){c.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(me),D();return}me+=e.vertical===!0?Q.height-Me:Q.width-Fe,me>0&&(c.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(me),D())}function ue(){const ee=c.value;if(ee!==null){const xe=ee.getBoundingClientRect(),Fe=e.vertical===!0?ee.scrollTop:Math.abs(ee.scrollLeft);L.value===!0?(h.value=Math.ceil(Fe+xe.width)<ee.scrollWidth-1,p.value=Fe>0):(h.value=Fe>0,p.value=e.vertical===!0?Math.ceil(Fe+xe.height)<ee.scrollHeight:Math.ceil(Fe+xe.width)<ee.scrollWidth)}}function N(ee){se(),be(ee),w=setInterval(()=>{be(ee)===!0&&se()},5)}function X(){N(K.value===!0?Number.MAX_SAFE_INTEGER:0)}function oe(){N(K.value===!0?0:Number.MAX_SAFE_INTEGER)}function se(){clearInterval(w)}function Re(ee,xe){const Fe=Array.prototype.filter.call(c.value.children,Be=>Be===xe||Be.matches&&Be.matches(".q-tab.q-focusable")===!0),Ae=Fe.length;if(Ae===0)return;if(ee===36)return W(Fe[0]),!0;if(ee===35)return W(Fe[Ae-1]),!0;const Me=ee===(e.vertical===!0?38:37),Q=ee===(e.vertical===!0?40:39),me=Me===!0?-1:Q===!0?1:void 0;if(me!==void 0){const Be=L.value===!0?-1:1,dt=Fe.indexOf(xe)+me*Be;return dt>=0&&dt<Ae&&(W(Fe[dt]),Fe[dt].focus({preventScroll:!0})),!0}}const pe=y(()=>K.value===!0?{get:ee=>Math.abs(ee.scrollLeft),set:(ee,xe)=>{ee.scrollLeft=-xe}}:e.vertical===!0?{get:ee=>ee.scrollTop,set:(ee,xe)=>{ee.scrollTop=xe}}:{get:ee=>ee.scrollLeft,set:(ee,xe)=>{ee.scrollLeft=xe}});function be(ee){const xe=c.value,{get:Fe,set:Ae}=pe.value;let Me=!1,Q=Fe(xe);const me=ee<Q?-1:1;return Q+=me*5,Q<0?(Me=!0,Q=0):(me===-1&&Q<=ee||me===1&&Q>=ee)&&(Me=!0,Q=ee),Ae(xe,Q),D(),Me}function Ve(){return b.filter(ee=>ee.routerProps!==void 0&&ee.routerProps.hasRouterLink.value===!0)}function le(){let ee=null,xe=C;const Fe={matchedLen:0,hrefLen:0,exact:!1,found:!1},{hash:Ae}=i.proxy.$route,Me=d.value;let Q=xe===!0?kr:Be=>{Me===Be.name.value&&(xe=!0,Q=kr)};const me=Ve();for(const Be of me){const dt=Be.routerProps.exact.value===!0;if(Be.routerProps[dt===!0?"linkIsExactActive":"linkIsActive"].value!==!0||Fe.exact===!0&&dt!==!0){Q(Be);continue}const Yt=Be.routerProps.linkRoute.value,Xt=Yt.hash;if(dt===!0){if(Ae===Xt){ee=Be.name.value;break}else if(Ae!==""&&Xt!==""){Q(Be);continue}}const pn=Yt.matched.length,It=Yt.href.length-Xt.length;if(pn===Fe.matchedLen?It>Fe.hrefLen:pn>Fe.matchedLen){ee=Be.name.value,Object.assign(Fe,{matchedLen:pn,hrefLen:It,exact:dt});continue}Q(Be)}(xe===!0||ee!==null)&&R({name:ee,setCurrent:!0,fromRoute:!0})}function ce(ee){if(s(),x.value!==!0&&u.value!==null&&ee.target&&typeof ee.target.closest=="function"){const xe=ee.target.closest(".q-tab");xe&&u.value.contains(xe)===!0&&(x.value=!0)}}function Ge(){o(()=>{x.value=!1},30)}function Ue(){yt.avoidRouteWatcher!==!0&&r(le)}function Ne(ee){b.push(ee),Ve().length>0&&(E===void 0&&(E=G(()=>i.proxy.$route,Ue)),Ue())}function Bt(ee){b.splice(b.indexOf(ee),1),E!==void 0&&(Ve().length===0&&(E(),E=void 0),Ue())}const yt={currentModel:d,tabProps:P,hasFocus:x,registerTab:Ne,unregisterTab:Bt,verifyRouteModel:Ue,updateModel:R,recalculateScroll:M,onKbdNavigate:Re,avoidRouteWatcher:!1};$l(oc,yt),Xe(()=>{clearTimeout(k),E!==void 0&&E()});let xt=!1;return Ki(()=>{xt=!0}),Yi(()=>{xt===!0&&M()}),()=>{const ee=[F(_i,{onResize:A}),F("div",{ref:c,class:$.value,onScroll:D},Ie(t.default))];return m.value===!0&&ee.push(F(ve,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(h.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||l.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedown:X,onTouchstartPassive:X,onMouseup:se,onMouseleave:se,onTouchend:se}),F(ve,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(p.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||l.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedown:oe,onTouchstartPassive:oe,onMouseup:se,onMouseleave:se,onTouchend:se})),F("div",{ref:u,class:T.value,role:"tablist",onFocusin:ce,onFocusout:Ge},ee)}}});const kt=S([{component:"Home",title:"Home",key:Nl()}]);let mn=S(0);function Nl(){return Math.floor(Math.random()*1e8)}function Fl(e){e<kt.value.length&&(mn.value=e)}function Ot(e,t){let n=te(O({},e),{key:Nl(),scrollY:0}),i=kt.value.findIndex(l=>l.title==e.title);i==-1?(kt.value.push(n),(t||t===void 0)&&Fl(kt.value.length-1)):Fl(i)}let Nc;function $v(e){Nc=e}G(mn,()=>{Nc.push(String(mn.value))});function Lv(){kt.value[mn.value].key=Nl()}function So(e){if(kt.value.length<=1){kt.value.splice(e,1,{component:"Home",title:"home",key:Nl()});return}kt.value.splice(e,1),kt.value.length==mn.value&&(mn.value=mn.value-1)}function Rv(e){let t=te(O({},e),{key:Nl(),scrollY:0});kt.value[mn.value]=t}const Ov={class:"row"},Iv={class:"col-10",style:{"max-width":"180px",overflow:"hidden","text-overflow":"clip"}},zv={class:"col"},Nv={class:"row"},Hv={class:"col-1"},jv={class:"col"},Wv=Ee({__name:"TaskBar",setup(e){const t=S(0);G(mn,()=>{t.value=mn.value});const n=zl(),i=ui(()=>n.platform.is.mobile?Number.POSITIVE_INFINITY:Math.floor(n.screen.width*.9/180)),l=ui(()=>kt.value.length>=i.value?kt.value.slice(0,i.value):kt.value),a=ui(()=>kt.value.length>=i.value?kt.value.slice(i.value):[]);return(o,s)=>(I(),J("div",{style:Ba(ne(n).platform.is.mobile?"":"max-width: 80vw")},[v(Vv,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=r=>t.value=r),align:"left","right-icon":"doesnt-exist"},{default:_(()=>[v(Yn,{appear:"","enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp absolute","move-class":"task-list-move"},{default:_(()=>[(I(!0),J(Te,null,ut(ne(l),(r,u)=>(I(),J("div",{key:r.key},[v(Dv,{"no-caps":"",name:u,onClick:c=>ne(Fl)(u),onMouseup:Ca(c=>ne(So)(u),["middle"])},{default:_(()=>[B("div",Ov,[B("div",Iv,Y(r.title),1),B("div",zv,[v(ae,{size:"10px",padding:"none",onClick:c=>ne(So)(u),flat:""},{default:_(()=>[v(ve,{name:"clear"})]),_:2},1032,["onClick"])])]),v(Oe,null,{default:_(()=>[j(Y(r.title),1)]),_:2},1024)]),_:2},1032,["name","onClick","onMouseup"])]))),128))]),_:1}),he(v(zc,{"auto-close":"",stretch:"",flat:""},{default:_(()=>[v(dn,null,{default:_(()=>[(I(!0),J(Te,null,ut(ne(a),(r,u)=>(I(),ie(je,{key:r.key,clickable:"",onClick:c=>ne(Fl)(u+ne(i)),class:"menu-item"},{default:_(()=>[v(ge,{side:""},{default:_(()=>[B("div",Nv,[B("div",Hv,[v(ae,{size:"10px",padding:"none",onClick:c=>ne(So)(u+ne(i)),flat:"",class:"float-right vertical-middle q-ml-md"},{default:_(()=>[v(ve,{name:"clear"})]),_:2},1032,["onClick"])]),B("div",jv,[B("span",null,Y(r.title),1)])])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},512),[[Ke,ne(kt).length>ne(i)]])]),_:1},8,["modelValue"])],4))}});var Uv=mt(Wv,[["__scopeId","data-v-6ee6950c"]]),jt=_e({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=y(()=>parseInt(e.lines,10)),i=y(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),l=y(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>F("div",{style:l.value,class:i.value},Ie(t.default))}});function Hc(e,t,n){let i;function l(){i!==void 0&&(Aa.remove(i),i=void 0)}return Xe(()=>{e.value===!0&&l()}),{removeFromHistory:l,addToHistory(){i={condition:()=>n.value===!0,handler:t},Aa.add(i)}}}let il=0,Eo,Fo,vl,Do=!1,Cr,Sr,Mi;function Qv(e){Kv(e)&&it(e)}function Kv(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=jf(e),n=e.shiftKey&&!e.deltaX,i=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),l=n||i?e.deltaY:e.deltaX;for(let a=0;a<t.length;a++){const o=t[a];if(av(o,i))return i?l<0&&o.scrollTop===0?!0:l>0&&o.scrollTop+o.clientHeight===o.scrollHeight:l<0&&o.scrollLeft===0?!0:l>0&&o.scrollLeft+o.clientWidth===o.scrollWidth}return!0}function Er(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function ea(e){Do!==!0&&(Do=!0,requestAnimationFrame(()=>{Do=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:i}=document.scrollingElement;(vl===void 0||t!==window.innerHeight)&&(vl=n-t,document.scrollingElement.scrollTop=i),i>vl&&(document.scrollingElement.scrollTop-=Math.ceil((i-vl)/8))}))}function Fr(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:i,overflowX:l}=window.getComputedStyle(t);Eo=lo(window),Fo=io(window),Cr=t.style.left,Sr=t.style.top,t.style.left=`-${Eo}px`,t.style.top=`-${Fo}px`,l!=="hidden"&&(l==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),i!=="hidden"&&(i==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,Ct.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",ea,Ft.passiveCapture),window.visualViewport.addEventListener("scroll",ea,Ft.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",Er,Ft.passiveCapture))}Ct.is.desktop===!0&&Ct.is.mac===!0&&window[`${e}EventListener`]("wheel",Qv,Ft.notPassive),e==="remove"&&(Ct.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",ea,Ft.passiveCapture),window.visualViewport.removeEventListener("scroll",ea,Ft.passiveCapture)):window.removeEventListener("scroll",Er,Ft.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=Cr,t.style.top=Sr,window.scrollTo(Eo,Fo),vl=void 0)}function Yv(e){let t="add";if(e===!0){if(il++,Mi!==void 0){clearTimeout(Mi),Mi=void 0;return}if(il>1)return}else{if(il===0||(il--,il>0))return;if(t="remove",Ct.is.ios===!0&&Ct.is.nativeMobile===!0){clearTimeout(Mi),Mi=setTimeout(()=>{Fr(t),Mi=void 0},100);return}}Fr(t)}function jc(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Yv(t))}}}let ta=0;const Xv={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Dr={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Kt=_e({name:"QDialog",inheritAttrs:!1,props:te(O(O({},Xi),ys),{transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}}),emits:[...Gi,"shake","click","escape-key"],setup(e,{slots:t,emit:n,attrs:i}){const l=we(),a=S(null),o=S(!1),s=S(!1),r=S(!1);let u,c=null,d,f;const h=y(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:p}=jc(),{registerTimeout:g,removeTimeout:m}=Hi(),{registerTick:b,removeTick:x}=no(),{showPortal:C,hidePortal:k,portalIsAccessible:w,renderPortal:E}=_s(l,a,Ve,!0),{hide:D}=Zi({showing:o,hideOnRouteChange:h,handleShow:z,handleHide:W,processOnMount:!0}),{addToHistory:P,removeFromHistory:q}=Hc(o,D,h),T=y(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Xv[e.position]}`+(r.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),$=y(()=>"q-transition--"+(e.transitionShow===void 0?Dr[e.position][0]:e.transitionShow)),H=y(()=>"q-transition--"+(e.transitionHide===void 0?Dr[e.position][1]:e.transitionHide)),L=y(()=>s.value===!0?H.value:$.value),K=y(()=>`--q-transition-duration: ${e.transitionDuration}ms`),R=y(()=>o.value===!0&&e.seamless!==!0),M=y(()=>e.autoClose===!0?{onClick:Re}:{}),A=y(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${R.value===!0?"modal":"seamless"}`,i.class]);G(o,le=>{We(()=>{s.value=le})}),G(()=>e.maximized,le=>{o.value===!0&&se(le)}),G(R,le=>{p(le),le===!0?(Ic(be),Rc(X)):(Ko(be),Ia(X))});function z(le){m(),x(),P(),c=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,se(e.maximized),C(),r.value=!0,e.noFocus!==!0&&(document.activeElement!==null&&document.activeElement.blur(),b(ue)),g(()=>{if(l.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:ce,bottom:Ge}=document.activeElement.getBoundingClientRect(),{innerHeight:Ue}=window,Ne=window.visualViewport!==void 0?window.visualViewport.height:Ue;ce>0&&Ge>Ne/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Ne,Ge>=Ue?1/0:Math.ceil(document.scrollingElement.scrollTop+Ge-Ne/2))),document.activeElement.scrollIntoView()}f=!0,a.value.click(),f=!1}C(!0),r.value=!1,n("show",le)},e.transitionDuration)}function W(le){m(),x(),q(),oe(!0),r.value=!0,k(),c!==null&&(c.focus(),c=null),g(()=>{k(!0),r.value=!1,n("hide",le)},e.transitionDuration)}function ue(le){Ol(()=>{let ce=a.value;ce===null||ce.contains(document.activeElement)===!0||(ce=ce.querySelector(le||"[autofocus], [data-autofocus]")||ce,ce.focus({preventScroll:!0}))})}function N(){ue(),n("shake");const le=a.value;le!==null&&(le.classList.remove("q-animate--scale"),le.classList.add("q-animate--scale"),clearTimeout(u),u=setTimeout(()=>{a.value!==null&&(le.classList.remove("q-animate--scale"),ue())},170))}function X(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&N():(n("escape-key"),D()))}function oe(le){clearTimeout(u),(le===!0||o.value===!0)&&(se(!1),e.seamless!==!0&&(p(!1),Ko(be),Ia(X))),le!==!0&&(c=null)}function se(le){le===!0?d!==!0&&(ta<1&&document.body.classList.add("q-body--dialog"),ta++,d=!0):d===!0&&(ta<2&&document.body.classList.remove("q-body--dialog"),ta--,d=!1)}function Re(le){f!==!0&&(D(le),n("click",le))}function pe(le){e.persistent!==!0&&e.noBackdropDismiss!==!0?D(le):e.noShake!==!0&&N()}function be(le){w.value===!0&&sc(a.value,le.target)!==!0&&ue('[tabindex]:not([tabindex="-1"])')}Object.assign(l.proxy,{focus:ue,shake:N,__updateRefocusTarget(le){c=le||null}}),Xe(oe);function Ve(){return F("div",te(O({},i),{class:A.value}),[F(Dt,{name:"q-transition--fade",appear:!0},()=>R.value===!0?F("div",{class:"q-dialog__backdrop fixed-full",style:K.value,"aria-hidden":"true",onMousedown:pe}):null),F(Dt,{name:L.value,appear:!0},()=>o.value===!0?F("div",O({ref:a,class:T.value,style:K.value,tabindex:-1},M.value),Ie(t.default)):null)])}return E}});const Gv={class:"q-ma-md"},Zv=B("span",{class:"text-h6"},"\u547D\u4EE4\u884C\u811A\u672C\u5217\u8868",-1),Jv={class:"q-ma-sm"},em=Ee({__name:"CliScriptView",emits:["updateProps","updateTitle"],setup(e,{emit:t}){De(()=>{t("updateTitle","\u547D\u4EE4\u884C\u811A\u672C")});const n=S([]),i=S(!1),l=S(),a=S(!1);function o(){Wf().then(c=>{n.value=c})}De(o);function s(c){l.value=c,i.value=!0}function r(){a.value=!0,Uf().then(()=>{a.value=!1,o()})}function u(c){c!==void 0&&(i.value=!1,Qf(c.name))}return(c,d)=>(I(),J(Te,null,[B("div",Gv,[Zv,v(ae,{class:"float-right q-mr-sm",onClick:r,loading:a.value,color:"primary",icon:"refresh",label:"\u91CD\u65B0\u52A0\u8F7D"},null,8,["loading"])]),v(ke,{style:{"min-width":"500px",width:"80vw",margin:"auto"}},{default:_(()=>[v(dn,null,{default:_(()=>[(I(!0),J(Te,null,ut(n.value,f=>(I(),J("div",{key:f.name},[v(je,{clickable:"",onClick:h=>s(f)},{default:_(()=>[v(ge,null,{default:_(()=>[v(jt,null,{default:_(()=>[j(Y(f.name),1)]),_:2},1024),v(jt,{caption:""},{default:_(()=>[j("\u6587\u4EF6\uFF1A"+Y(f.path),1)]),_:2},1024),v(jt,{caption:""},{default:_(()=>[j("\u63CF\u8FF0\uFF1A"+Y(f.descrip),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1}),v(Kt,{modelValue:i.value,"onUpdate:modelValue":d[2]||(d[2]=f=>i.value=f),"full-width":"","full-height":"","transition-show":"slide-up","transition-hide":"slide-down"},{default:_(()=>[l.value!==void 0?(I(),ie(ke,{key:0,style:{height:"90vh"}},{default:_(()=>[v(wc,null,{default:_(()=>[B("span",null,Y(l.value.name),1),v(kc),v(ae,{icon:"edit",onClick:d[0]||(d[0]=f=>u(l.value)),flat:"",color:"primary",class:"q-mx-none"},{default:_(()=>[v(Oe,null,{default:_(()=>[j("\u5728\u9ED8\u8BA4\u7F16\u8F91\u5668\u4E2D\u6253\u5F00")]),_:1})]),_:1}),v(ae,{icon:"close",onClick:d[1]||(d[1]=f=>i.value=!1),flat:"",color:"primary",class:"q-mx-none"})]),_:1}),v(Si,{style:{height:"90%"}},{default:_(()=>[B("pre",Jv,Y(l.value.code),1)]),_:1})]),_:1})):Se("",!0)]),_:1},8,["modelValue"])],64))}});var Bo=_e({name:"QStepperNavigation",setup(e,{slots:t}){return()=>F("div",{class:"q-stepper__nav"},Ie(t.default))}}),Wc=_e({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:n}){let i=!1,l,a,o,s,r,u;function c(){l&&l(),l=null,i=!1,clearTimeout(o),clearTimeout(s),a!==void 0&&a.removeEventListener("transitionend",r),r=null}function d(g,m,b){g.style.overflowY="hidden",m!==void 0&&(g.style.height=`${m}px`),g.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,i=!0,l=b}function f(g,m){g.style.overflowY=null,g.style.height=null,g.style.transition=null,c(),m!==u&&n(m)}function h(g,m){let b=0;a=g,i===!0?(c(),b=g.offsetHeight===g.scrollHeight?0:void 0):u="hide",d(g,b,m),o=setTimeout(()=>{g.style.height=`${g.scrollHeight}px`,r=x=>{(Object(x)!==x||x.target===g)&&f(g,"show")},g.addEventListener("transitionend",r),s=setTimeout(r,e.duration*1.1)},100)}function p(g,m){let b;a=g,i===!0?c():(u="show",b=g.scrollHeight),d(g,b,m),o=setTimeout(()=>{g.style.height=0,r=x=>{(Object(x)!==x||x.target===g)&&f(g,"hide")},g.addEventListener("transitionend",r),s=setTimeout(r,e.duration*1.1)},100)}return Xe(()=>{i===!0&&c()}),()=>F(Dt,{css:!1,appear:e.appear,onEnter:h,onLeave:p},t.default)}}),Uc=_e({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:t}){const{proxy:{$q:n}}=we(),i=S(null),l=y(()=>e.stepper.modelValue===e.step.name),a=y(()=>{const m=e.step.disable;return m===!0||m===""}),o=y(()=>{const m=e.step.error;return m===!0||m===""}),s=y(()=>{const m=e.step.done;return a.value===!1&&(m===!0||m==="")}),r=y(()=>{const m=e.step.headerNav,b=m===!0||m===""||m===void 0;return a.value===!1&&e.stepper.headerNav&&b}),u=y(()=>e.step.prefix&&(l.value===!1||e.stepper.activeIcon==="none")&&(o.value===!1||e.stepper.errorIcon==="none")&&(s.value===!1||e.stepper.doneIcon==="none")),c=y(()=>{const m=e.step.icon||e.stepper.inactiveIcon;if(l.value===!0){const b=e.step.activeIcon||e.stepper.activeIcon;return b==="none"?m:b||n.iconSet.stepper.active}if(o.value===!0){const b=e.step.errorIcon||e.stepper.errorIcon;return b==="none"?m:b||n.iconSet.stepper.error}if(a.value===!1&&s.value===!0){const b=e.step.doneIcon||e.stepper.doneIcon;return b==="none"?m:b||n.iconSet.stepper.done}return m}),d=y(()=>{const m=o.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(l.value===!0){const b=e.step.activeColor||e.stepper.activeColor||e.step.color;return b!==void 0?b:m}return m!==void 0?m:a.value===!1&&s.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),f=y(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(d.value!==void 0?` text-${d.value}`:"")+(o.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(u.value===!0?"prefix":"icon"):"")+(l.value===!0?" q-stepper__tab--active":"")+(s.value===!0?" q-stepper__tab--done":"")+(r.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(a.value===!0?" q-stepper__tab--disabled":"")),h=y(()=>e.stepper.headerNav!==!0?!1:r.value);function p(){i.value!==null&&i.value.focus(),l.value===!1&&e.goToPanel(e.step.name)}function g(m){m.keyCode===13&&l.value===!1&&e.goToPanel(e.step.name)}return()=>{const m={class:f.value};r.value===!0&&(m.onClick=p,m.onKeyup=g,Object.assign(m,a.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0}));const b=[F("div",{class:"q-focus-helper",tabindex:-1,ref:i}),F("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[F("span",{class:"row flex-center"},[u.value===!0?e.step.prefix:F(ve,{name:c.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const x=[F("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&x.push(F("div",{class:"q-stepper__caption"},e.step.caption)),b.push(F("div",{class:"q-stepper__label q-stepper__line relative-position"},x))}return he(F("div",m,b),[[Et,h.value]])}}});function tm(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((n,i)=>{const l=parseFloat(n);l&&(t[i]=l)}),t}var nm=to({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:i}){if(i.mouse!==!0&&Ct.has.touch!==!0)return;const l=i.mouseCapture===!0?"Capture":"",a={handler:t,sensitivity:tm(n),direction:Ra(i),noop:Hn,mouseStart(o){Oa(o,a)&&ac(o)&&(nn(a,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(o,!0))},touchStart(o){if(Oa(o,a)){const s=o.target;nn(a,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),a.start(o)}},start(o,s){Ct.is.firefox===!0&&Li(e,!0);const r=pi(o);a.event={x:r.left,y:r.top,time:Date.now(),mouse:s===!0,dir:!1}},move(o){if(a.event===void 0)return;if(a.event.dir!==!1){it(o);return}const s=Date.now()-a.event.time;if(s===0)return;const r=pi(o),u=r.left-a.event.x,c=Math.abs(u),d=r.top-a.event.y,f=Math.abs(d);if(a.event.mouse!==!0){if(c<a.sensitivity[1]&&f<a.sensitivity[1]){a.end(o);return}}else if(c<a.sensitivity[2]&&f<a.sensitivity[2])return;const h=c/s,p=f/s;a.direction.vertical===!0&&c<f&&c<100&&p>a.sensitivity[0]&&(a.event.dir=d<0?"up":"down"),a.direction.horizontal===!0&&c>f&&f<100&&h>a.sensitivity[0]&&(a.event.dir=u<0?"left":"right"),a.direction.up===!0&&c<f&&d<0&&c<100&&p>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&c<f&&d>0&&c<100&&p>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&c>f&&u<0&&f<100&&h>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&c>f&&u>0&&f<100&&h>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(it(o),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Cl(),a.styleCleanup=g=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const m=()=>{document.body.classList.remove("no-pointer-events--children")};g===!0?setTimeout(m,50):m()}),a.handler({evt:o,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:s,distance:{x:c,y:f}})):a.end(o)},end(o){a.event!==void 0&&(Pn(a,"temp"),Ct.is.firefox===!0&&Li(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(!0),o!==void 0&&a.event.dir!==!1&&it(o),a.event=void 0)}};e.__qtouchswipe=a,i.mouse===!0&&nn(a,"main",[[e,"mousedown","mouseStart",`passive${l}`]]),Ct.has.touch===!0&&nn(a,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;n!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&n.end(),n.handler=t.value),n.direction=Ra(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(Pn(t,"main"),Pn(t,"temp"),Ct.is.firefox===!0&&Li(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function Qc(){const e=new Map;return{getCache:function(t,n){return e[t]===void 0?e[t]=n:e[t]},getCacheWithFn:function(t,n){return e[t]===void 0?e[t]=n():e[t]}}}const im={name:{required:!0},disable:Boolean},Br={setup(e,{slots:t}){return()=>F("div",{class:"q-panel scroll",role:"tabpanel"},Ie(t.default))}},lm={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},am=["update:modelValue","before-transition","transition"];function om(){const{props:e,emit:t,proxy:n}=we(),{getCacheWithFn:i}=Qc();let l,a;const o=S(null),s=S(null);function r(L){const K=e.vertical===!0?"up":"left";D((n.$q.lang.rtl===!0?-1:1)*(L.direction===K?1:-1))}const u=y(()=>[[nm,r,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),c=y(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),d=y(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),f=y(()=>`--q-transition-duration: ${e.transitionDuration}ms`),h=y(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),p=y(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),g=y(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);G(()=>e.modelValue,(L,K)=>{const R=C(L)===!0?k(L):-1;a!==!0&&E(R===-1?0:R<k(K)?-1:1),o.value!==R&&(o.value=R,t("before-transition",L,K),We(()=>{t("transition",L,K)}))});function m(){D(1)}function b(){D(-1)}Object.assign(n,{next:m,previous:b,goTo:x});function x(L){t("update:modelValue",L)}function C(L){return L!=null&&L!==""}function k(L){return l.findIndex(K=>K.props.name===L&&K.props.disable!==""&&K.props.disable!==!0)}function w(){return l.filter(L=>L.props.disable!==""&&L.props.disable!==!0)}function E(L){const K=L!==0&&e.animated===!0&&o.value!==-1?"q-transition--"+(L===-1?c.value:d.value):null;s.value!==K&&(s.value=K)}function D(L,K=o.value){let R=K+L;for(;R>-1&&R<l.length;){const M=l[R];if(M!==void 0&&M.props.disable!==""&&M.props.disable!==!0){E(L),a=!0,t("update:modelValue",M.props.name),setTimeout(()=>{a=!1});return}R+=L}e.infinite===!0&&l.length>0&&K!==-1&&K!==l.length&&D(L,L===-1?l.length:-1)}function P(){const L=k(e.modelValue);return o.value!==L&&(o.value=L),!0}function q(){const L=C(e.modelValue)===!0&&P()&&l[o.value];return e.keepAlive===!0?[F(rc,p.value,[F(g.value===!0?i(h.value,()=>te(O({},Br),{name:h.value})):Br,{key:h.value,style:f.value},()=>L)])]:[F("div",{class:"q-panel scroll",style:f.value,key:h.value,role:"tabpanel"},[L])]}function T(){if(l.length!==0)return e.animated===!0?[F(Dt,{name:s.value},q)]:q()}function $(L){return l=Kf(Ie(L.default,[])).filter(K=>K.props!==null&&K.props.slot===void 0&&C(K.props.name)===!0),l.length}function H(){return l}return{panelIndex:o,panelDirectives:u,updatePanelsList:$,updatePanelIndex:P,getPanelContent:T,getEnabledPanels:w,getPanels:H,isValidPanelName:C,keepAliveProps:p,needsUniqueKeepAliveWrapper:g,goToPanelByOffset:D,goToPanel:x,nextPanel:m,previousPanel:b}}function Kc(e){return F("div",{class:"q-stepper__step-content"},[F("div",{class:"q-stepper__step-inner"},Ie(e.default))])}const Ar={setup(e,{slots:t}){return()=>Kc(t)}};var na=_e({name:"QStep",props:te(O({},im),{icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean}),setup(e,{attrs:t,slots:n}){const{proxy:{$q:i}}=we(),l=Kn(uc,()=>{console.error("QStep needs to be child of QStepper")}),{getCacheWithFn:a}=Qc(),o=S(null),s=y(()=>l.value.modelValue===e.name),r=y(()=>i.platform.is.ios!==!0&&i.platform.is.chrome===!0||s.value!==!0||l.value.vertical!==!0?{}:{onScroll(d){const{target:f}=d;f.scrollTop>0&&(f.scrollTop=0),t.onScroll!==void 0&&t.onScroll(d)}}),u=y(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function c(){const d=l.value.vertical;return d===!0&&l.value.keepAlive===!0?F(rc,l.value.keepAliveProps.value,s.value===!0?[F(l.value.needsUniqueKeepAliveWrapper.value===!0?a(u.value,()=>te(O({},Ar),{name:u.value})):Ar,{key:u.value},n.default)]:void 0):d!==!0||s.value===!0?Kc(n):void 0}return()=>F("div",O({ref:o,class:"q-stepper__step"},r.value),l.value.vertical===!0?[F(Uc,{stepper:l.value,step:e,goToPanel:l.value.goToPanel}),l.value.animated===!0?F(Wc,c):c()]:[c()])}});function sm({validate:e,resetValidation:t,requiresQForm:n}){const i=Kn(cc,!1);if(i!==!1){const{props:l,proxy:a}=we();Object.assign(a,{validate:e,resetValidation:t}),G(()=>l.disable,o=>{o===!0?(typeof t=="function"&&t(),i.unbindComponent(a)):i.bindComponent(a)}),l.disable!==!0&&i.bindComponent(a),Xe(()=>{l.disable!==!0&&i.unbindComponent(a)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Pr=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Mr=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,qr=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,ia=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,la=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Tr={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Pr.test(e),hexaColor:e=>Mr.test(e),hexOrHexaColor:e=>qr.test(e),rgbColor:e=>ia.test(e),rgbaColor:e=>la.test(e),rgbOrRgbaColor:e=>ia.test(e)||la.test(e),hexOrRgbColor:e=>Pr.test(e)||ia.test(e),hexaOrRgbaColor:e=>Mr.test(e)||la.test(e),anyColor:e=>qr.test(e)||ia.test(e)||la.test(e)};"Boolean Number String Function Array Date RegExp Object".split(" ").forEach(e=>{e.toLowerCase()});const rm=te(O({},Ll),{min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean}),Yo=50,Yc=2*Yo,Xc=Yc*Math.PI,um=Math.round(Xc*1e3)/1e3;_e({name:"QCircularProgress",props:te(O({},rm),{value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean}),setup(e,{slots:t}){const{proxy:{$q:n}}=we(),i=Rl(e),l=y(()=>{const f=(n.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(n.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-f}deg)`:`rotate3d(0, 0, 1, ${f-90}deg)`}}),a=y(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),o=y(()=>Yc/(1-e.thickness/2)),s=y(()=>`${o.value/2} ${o.value/2} ${o.value} ${o.value}`),r=y(()=>Tt(e.value,e.min,e.max)),u=y(()=>Xc*(1-(r.value-e.min)/(e.max-e.min))),c=y(()=>e.thickness/2*o.value);function d({thickness:f,offset:h,color:p,cls:g}){return F("circle",{class:"q-circular-progress__"+g+(p!==void 0?` text-${p}`:""),style:a.value,fill:"transparent",stroke:"currentColor","stroke-width":f,"stroke-dasharray":um,"stroke-dashoffset":h,cx:o.value,cy:o.value,r:Yo})}return()=>{const f=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&f.push(F("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Yo-c.value/2,cx:o.value,cy:o.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&f.push(d({cls:"track",thickness:c.value,offset:0,color:e.trackColor})),f.push(d({cls:"circle",thickness:c.value,offset:u.value,color:e.color}));const h=[F("svg",{class:"q-circular-progress__svg",style:l.value,viewBox:s.value,"aria-hidden":"true"},f)];return e.showValue===!0&&h.push(F("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[F("div",r.value)])),F("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:i.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:r.value},dc(t.internal,h))}}});function qi(e,t,n,i){const l=[];return e.forEach(a=>{i(a)===!0?l.push(a):t.push({failedPropValidation:n,file:a})}),l}function aa(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),it(e)}const cm={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Gc=["rejected"];function dm({editable:e,dnd:t,getFileInput:n,addFilesToQueue:i}){const{props:l,emit:a,proxy:o}=we(),s=S(null),r=y(()=>l.accept!==void 0?l.accept.split(",").map(x=>(x=x.trim(),x==="*"?"*/":(x.endsWith("/*")&&(x=x.slice(0,x.length-1)),x.toUpperCase()))):null),u=y(()=>parseInt(l.maxFiles,10)),c=y(()=>parseInt(l.maxTotalSize,10));function d(x){if(e.value)if(x!==Object(x)&&(x={target:null}),x.target!==null&&x.target.matches('input[type="file"]')===!0)x.clientX===0&&x.clientY===0&&Ut(x);else{const C=n();C&&C!==x.target&&C.click(x)}}function f(x){e.value&&x&&i(null,x)}function h(x,C,k,w){let E=Array.from(C||x.target.files);const D=[],P=()=>{D.length>0&&a("rejected",D)};if(l.accept!==void 0&&r.value.indexOf("*/")===-1&&(E=qi(E,D,"accept",T=>r.value.some($=>T.type.toUpperCase().startsWith($)||T.name.toUpperCase().endsWith($))),E.length===0))return P();if(l.maxFileSize!==void 0){const T=parseInt(l.maxFileSize,10);if(E=qi(E,D,"max-file-size",$=>$.size<=T),E.length===0)return P()}l.multiple!==!0&&E.length>0&&(E=[E[0]]),E.forEach(T=>{T.__key=T.webkitRelativePath+T.lastModified+T.name+T.size});const q=k.map(T=>T.__key);if(E=qi(E,D,"duplicate",T=>q.includes(T.__key)===!1),E.length===0)return P();if(l.maxTotalSize!==void 0){let T=w===!0?k.reduce(($,H)=>$+H.size,0):0;if(E=qi(E,D,"max-total-size",$=>(T+=$.size,T<=c.value)),E.length===0)return P()}if(typeof l.filter=="function"){const T=l.filter(E);E=qi(E,D,"filter",$=>T.includes($))}if(l.maxFiles!==void 0){let T=w===!0?k.length:0;if(E=qi(E,D,"max-files",()=>(T++,T<=u.value)),E.length===0)return P()}if(P(),E.length>0)return E}function p(x){aa(x),t.value!==!0&&(t.value=!0)}function g(x){it(x),x.relatedTarget!==s.value&&(t.value=!1)}function m(x){aa(x);const C=x.dataTransfer.files;C.length>0&&i(null,C),t.value=!1}function b(x){if(t.value===!0)return F("div",{ref:s,class:`q-${x}__dnd absolute-full`,onDragenter:aa,onDragover:aa,onDragleave:g,onDrop:m})}return Object.assign(o,{pickFiles:d,addFiles:f}),{pickFiles:d,addFiles:f,onDragover:p,processFiles:h,getDndNode:b,maxFilesNumber:u,maxTotalSizeNumber:c}}const fm=[...Gc,"start","finish","added","removed"],hm=()=>!0;function vm(e){const t={};return e.forEach(n=>{t[n]=hm}),t}vm(fm);let Ao,oa=0;const At=new Array(256);for(let e=0;e<256;e++)At[e]=(e+256).toString(16).substring(1);const mm=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let i=t;i>0;i--)n.push(Math.floor(Math.random()*256));return n}})(),Vr=4096;function Zc(){(Ao===void 0||oa+16>Vr)&&(oa=0,Ao=mm(Vr));const e=Array.prototype.slice.call(Ao,oa,oa+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,At[e[0]]+At[e[1]]+At[e[2]]+At[e[3]]+"-"+At[e[4]]+At[e[5]]+"-"+At[e[6]]+At[e[7]]+"-"+At[e[8]]+At[e[9]]+"-"+At[e[10]]+At[e[11]]+At[e[12]]+At[e[13]]+At[e[14]]+At[e[15]]}const gm=[!0,!1,"ondemand"],pm={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>gm.includes(e)}};function bm(e,t){const{props:n,proxy:i}=we(),l=S(!1),a=S(null),o=S(null);sm({validate:p,resetValidation:h});let s=0,r;const u=y(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length>0),c=y(()=>n.disable!==!0&&u.value===!0),d=y(()=>n.error===!0||l.value===!0),f=y(()=>typeof n.errorMessage=="string"&&n.errorMessage.length>0?n.errorMessage:a.value);G(()=>n.modelValue,()=>{g()}),G(()=>n.reactiveRules,b=>{b===!0?r===void 0&&(r=G(()=>n.rules,()=>{g(!0)})):r!==void 0&&(r(),r=void 0)},{immediate:!0}),G(e,b=>{b===!0?o.value===null&&(o.value=!1):o.value===!1&&(o.value=!0,c.value===!0&&n.lazyRules!=="ondemand"&&t.value===!1&&m())});function h(){s++,t.value=!1,o.value=null,l.value=!1,a.value=null,m.cancel()}function p(b=n.modelValue){if(c.value!==!0)return!0;const x=++s;t.value!==!0&&n.lazyRules!==!0&&(o.value=!0);const C=(w,E)=>{l.value!==w&&(l.value=w);const D=E||void 0;a.value!==D&&(a.value=D),t.value=!1},k=[];for(let w=0;w<n.rules.length;w++){const E=n.rules[w];let D;if(typeof E=="function"?D=E(b):typeof E=="string"&&Tr[E]!==void 0&&(D=Tr[E](b)),D===!1||typeof D=="string")return C(!0,D),!1;D!==!0&&D!==void 0&&k.push(D)}return k.length===0?(C(!1),!0):(t.value=!0,Promise.all(k).then(w=>{if(w===void 0||Array.isArray(w)===!1||w.length===0)return x===s&&C(!1),!0;const E=w.find(D=>D===!1||typeof D=="string");return x===s&&C(E!==void 0,E),E===void 0},w=>(x===s&&(console.error(w),C(!0)),!1)))}function g(b){c.value===!0&&n.lazyRules!=="ondemand"&&(o.value===!0||n.lazyRules!==!0&&b!==!0)&&m()}const m=rs(p,0);return Xe(()=>{r!==void 0&&r(),m.cancel()}),Object.assign(i,{resetValidation:h,validate:p}),$i(i,"hasError",()=>d.value),{isDirtyModel:o,hasRules:u,hasError:d,errorMessage:f,validate:p,resetValidation:h}}const $r=/^on[A-Z]/;function _m(e,t){const n={listeners:S({}),attributes:S({})};function i(){const l={},a={};for(const o in e)o!=="class"&&o!=="style"&&$r.test(o)===!1&&(l[o]=e[o]);for(const o in t.props)$r.test(o)===!0&&(a[o]=t.props[o]);n.attributes.value=l,n.listeners.value=a}return fc(i),i(),n}function Xo(e){return e===void 0?`f_${Zc()}`:e}function yi(e){return e!=null&&(""+e).length>0}const Hl=te(O(O({},bt),pm),{label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]}),ao=["update:modelValue","clear","focus","blur","popup-show","popup-hide"];function oo(){const{props:e,attrs:t,proxy:n,vnode:i}=we();return{isDark:_t(e,n.$q),editable:y(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:S(!1),focused:S(!1),hasPopupOpen:!1,splitAttrs:_m(t,i),targetUid:S(Xo(e.for)),rootRef:S(null),targetRef:S(null),controlRef:S(null)}}function so(e){const{props:t,emit:n,slots:i,attrs:l,proxy:a}=we(),{$q:o}=a;let s;e.hasValue===void 0&&(e.hasValue=y(()=>yi(t.modelValue))),e.emitValue===void 0&&(e.emitValue=A=>{n("update:modelValue",A)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:q,onFocusout:T}),Object.assign(e,{clearValue:$,onControlFocusin:q,onControlFocusout:T,focus:D}),e.computedCounter===void 0&&(e.computedCounter=y(()=>{if(t.counter!==!1){const A=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,z=t.maxlength!==void 0?t.maxlength:t.maxValues;return A+(z!==void 0?" / "+z:"")}}));const{isDirtyModel:r,hasRules:u,hasError:c,errorMessage:d,resetValidation:f}=bm(e.focused,e.innerLoading),h=e.floatingLabel!==void 0?y(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):y(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),p=y(()=>t.bottomSlots===!0||t.hint!==void 0||u.value===!0||t.counter===!0||t.error!==null),g=y(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),m=y(()=>`q-field row no-wrap items-start q-field--${g.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(h.value===!0?" q-field--float":"")+(x.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(c.value===!0?" q-field--error":"")+(c.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&p.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),b=y(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(c.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length>0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),x=y(()=>t.labelSlot===!0||t.label!==void 0),C=y(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&c.value!==!0?` text-${t.labelColor}`:"")),k=y(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:h.value,modelValue:t.modelValue,emitValue:e.emitValue})),w=y(()=>{const A={for:e.targetUid.value};return t.disable===!0?A["aria-disabled"]="true":t.readonly===!0&&(A["aria-readonly"]="true"),A});G(()=>t.for,A=>{e.targetUid.value=Xo(A)});function E(){const A=document.activeElement;let z=e.targetRef!==void 0&&e.targetRef.value;z&&(A===null||A.id!==e.targetUid.value)&&(z.hasAttribute("tabindex")===!0||(z=z.querySelector("[tabindex]")),z&&z!==A&&z.focus({preventScroll:!0}))}function D(){Ol(E)}function P(){ev(E);const A=document.activeElement;A!==null&&e.rootRef.value.contains(A)&&A.blur()}function q(A){clearTimeout(s),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",A))}function T(A,z){clearTimeout(s),s=setTimeout(()=>{document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1)||(e.focused.value===!0&&(e.focused.value=!1,n("blur",A)),z!==void 0&&z())})}function $(A){it(A),o.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),We(()=>{f(),o.platform.is.mobile!==!0&&(r.value=!1)})}function H(){const A=[];return i.prepend!==void 0&&A.push(F("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:tn},i.prepend())),A.push(F("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},L())),c.value===!0&&t.noErrorIcon===!1&&A.push(R("error",[F(ve,{name:o.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?A.push(R("inner-loading-append",i.loading!==void 0?i.loading():[F(hc,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&A.push(R("inner-clearable-append",[F(ve,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||o.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:$})])),i.append!==void 0&&A.push(F("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:tn},i.append())),e.getInnerAppend!==void 0&&A.push(R("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&A.push(e.getControlChild()),A}function L(){const A=[];return t.prefix!==void 0&&t.prefix!==null&&A.push(F("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&A.push(e.getShadowControl()),e.getControl!==void 0?A.push(e.getControl()):i.rawControl!==void 0?A.push(i.rawControl()):i.control!==void 0&&A.push(F("div",te(O({ref:e.targetRef,class:"q-field__native row"},e.splitAttrs.attributes.value),{"data-autofocus":t.autofocus===!0||void 0}),i.control(k.value))),x.value===!0&&A.push(F("div",{class:C.value},Ie(i.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&A.push(F("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),A.concat(Ie(i.default))}function K(){let A,z;c.value===!0?d.value!==null?(A=[F("div",{role:"alert"},d.value)],z=`q--slot-error-${d.value}`):(A=Ie(i.error),z="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(A=[F("div",t.hint)],z=`q--slot-hint-${t.hint}`):(A=Ie(i.hint),z="q--slot-hint"));const W=t.counter===!0||i.counter!==void 0;if(t.hideBottomSpace===!0&&W===!1&&A===void 0)return;const ue=F("div",{key:z,class:"q-field__messages col"},A);return F("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale")},[t.hideBottomSpace===!0?ue:F(Dt,{name:"q-transition--field-message"},()=>ue),W===!0?F("div",{class:"q-field__counter"},i.counter!==void 0?i.counter():e.computedCounter.value):null])}function R(A,z){return z===null?null:F("div",{key:A,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},z)}Object.assign(a,{focus:D,blur:P});let M=!1;return Ki(()=>{M=!0}),Yi(()=>{M===!0&&t.autofocus===!0&&a.focus()}),De(()=>{Ja.value===!0&&t.for===void 0&&(e.targetUid.value=Xo()),t.autofocus===!0&&a.focus()}),Xe(()=>{clearTimeout(s)}),function(){const z=e.getControl===void 0&&i.control===void 0?O(te(O({},e.splitAttrs.attributes.value),{"data-autofocus":t.autofocus}),w.value):w.value;return F("label",O({ref:e.rootRef,class:[m.value,l.class],style:l.style},z),[i.before!==void 0?F("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:tn},i.before()):null,F("div",{class:"q-field__inner relative-position col self-stretch"},[F("div",O({ref:e.controlRef,class:b.value,tabindex:-1},e.controlEvents),H()),p.value===!0?K():null]),i.after!==void 0?F("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:tn},i.after()):null])}}const Lr={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},za={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Jc=Object.keys(za);Jc.forEach(e=>{za[e].regex=new RegExp(za[e].pattern)});const ym=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Jc.join("")+"])|(.)","g"),Rr=/[.*+?^${}()|[\]\\]/g,wt=String.fromCharCode(1),xm={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function wm(e,t,n,i){let l,a,o,s;const r=S(null),u=S(d());function c(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}G(()=>e.type+e.autogrow,h),G(()=>e.mask,E=>{if(E!==void 0)p(u.value,!0);else{const D=k(u.value);h(),e.modelValue!==D&&t("update:modelValue",D)}}),G(()=>e.fillMask+e.reverseFillMask,()=>{r.value===!0&&p(u.value,!0)}),G(()=>e.unmaskedValue,()=>{r.value===!0&&p(u.value)});function d(){if(h(),r.value===!0){const E=x(k(e.modelValue));return e.fillMask!==!1?w(E):E}return e.modelValue}function f(E){if(E<l.length)return l.slice(-E);let D="",P=l;const q=P.indexOf(wt);if(q>-1){for(let T=E-P.length;T>0;T--)D+=wt;P=P.slice(0,q)+D+P.slice(q)}return P}function h(){if(r.value=e.mask!==void 0&&e.mask.length>0&&c(),r.value===!1){s=void 0,l="",a="";return}const E=Lr[e.mask]===void 0?e.mask:Lr[e.mask],D=typeof e.fillMask=="string"&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",P=D.replace(Rr,"\\$&"),q=[],T=[],$=[];let H=e.reverseFillMask===!0,L="",K="";E.replace(ym,(z,W,ue,N,X)=>{if(N!==void 0){const oe=za[N];$.push(oe),K=oe.negate,H===!0&&(T.push("(?:"+K+"+)?("+oe.pattern+"+)?(?:"+K+"+)?("+oe.pattern+"+)?"),H=!1),T.push("(?:"+K+"+)?("+oe.pattern+")?")}else if(ue!==void 0)L="\\"+(ue==="\\"?"":ue),$.push(ue),q.push("([^"+L+"]+)?"+L+"?");else{const oe=W!==void 0?W:X;L=oe==="\\"?"\\\\\\\\":oe.replace(Rr,"\\\\$&"),$.push(oe),q.push("([^"+L+"]+)?"+L+"?")}});const R=new RegExp("^"+q.join("")+"("+(L===""?".":"[^"+L+"]")+"+)?$"),M=T.length-1,A=T.map((z,W)=>W===0&&e.reverseFillMask===!0?new RegExp("^"+P+"*"+z):W===M?new RegExp("^"+z+"("+(K===""?".":K)+"+)?"+(e.reverseFillMask===!0?"$":P+"*")):new RegExp("^"+z));o=$,s=z=>{const W=R.exec(z);W!==null&&(z=W.slice(1).join(""));const ue=[],N=A.length;for(let X=0,oe=z;X<N;X++){const se=A[X].exec(oe);if(se===null)break;oe=oe.slice(se.shift().length),ue.push(...se)}return ue.length>0?ue.join(""):z},l=$.map(z=>typeof z=="string"?z:wt).join(""),a=l.split(wt).join(D)}function p(E,D,P){const q=i.value,T=q.selectionEnd,$=q.value.length-T,H=k(E);D===!0&&h();const L=x(H),K=e.fillMask!==!1?w(L):L,R=u.value!==K;q.value!==K&&(q.value=K),R===!0&&(u.value=K),document.activeElement===q&&We(()=>{if(K===a){const A=e.reverseFillMask===!0?a.length:0;q.setSelectionRange(A,A,"forward");return}if(P==="insertFromPaste"&&e.reverseFillMask!==!0){const A=T-1;m.right(q,A,A);return}if(["deleteContentBackward","deleteContentForward"].indexOf(P)>-1){const A=e.reverseFillMask===!0?T===0?K.length>L.length?1:0:Math.max(0,K.length-(K===a?0:Math.min(L.length,$)+1))+1:T;q.setSelectionRange(A,A,"forward");return}if(e.reverseFillMask===!0)if(R===!0){const A=Math.max(0,K.length-(K===a?0:Math.min(L.length,$+1)));A===1&&T===1?q.setSelectionRange(A,A,"forward"):m.rightReverse(q,A,A)}else{const A=K.length-$;q.setSelectionRange(A,A,"backward")}else if(R===!0){const A=Math.max(0,l.indexOf(wt),Math.min(L.length,T)-1);m.right(q,A,A)}else{const A=T-1;m.right(q,A,A)}});const M=e.unmaskedValue===!0?k(K):K;String(e.modelValue)!==M&&n(M,!0)}function g(E,D,P){const q=x(k(E.value));D=Math.max(0,l.indexOf(wt),Math.min(q.length,D)),E.setSelectionRange(D,P,"forward")}const m={left(E,D,P,q){const T=l.slice(D-1).indexOf(wt)===-1;let $=Math.max(0,D-1);for(;$>=0;$--)if(l[$]===wt){D=$,T===!0&&D++;break}if($<0&&l[D]!==void 0&&l[D]!==wt)return m.right(E,0,0);D>=0&&E.setSelectionRange(D,q===!0?P:D,"backward")},right(E,D,P,q){const T=E.value.length;let $=Math.min(T,P+1);for(;$<=T;$++)if(l[$]===wt){P=$;break}else l[$-1]===wt&&(P=$);if($>T&&l[P-1]!==void 0&&l[P-1]!==wt)return m.left(E,T,T);E.setSelectionRange(q?D:P,P,"forward")},leftReverse(E,D,P,q){const T=f(E.value.length);let $=Math.max(0,D-1);for(;$>=0;$--)if(T[$-1]===wt){D=$;break}else if(T[$]===wt&&(D=$,$===0))break;if($<0&&T[D]!==void 0&&T[D]!==wt)return m.rightReverse(E,0,0);D>=0&&E.setSelectionRange(D,q===!0?P:D,"backward")},rightReverse(E,D,P,q){const T=E.value.length,$=f(T),H=$.slice(0,P+1).indexOf(wt)===-1;let L=Math.min(T,P+1);for(;L<=T;L++)if($[L-1]===wt){P=L,P>0&&H===!0&&P--;break}if(L>T&&$[P-1]!==void 0&&$[P-1]!==wt)return m.leftReverse(E,T,T);E.setSelectionRange(q===!0?D:P,P,"forward")}};function b(E){if(us(E)===!0)return;const D=i.value,P=D.selectionStart,q=D.selectionEnd;if(E.keyCode===37||E.keyCode===39){const T=m[(E.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];E.preventDefault(),T(D,P,q,E.shiftKey)}else E.keyCode===8&&e.reverseFillMask!==!0&&P===q?m.left(D,P,q,!0):E.keyCode===46&&e.reverseFillMask===!0&&P===q&&m.rightReverse(D,P,q,!0)}function x(E){if(E==null||E==="")return"";if(e.reverseFillMask===!0)return C(E);const D=o;let P=0,q="";for(let T=0;T<D.length;T++){const $=E[P],H=D[T];if(typeof H=="string")q+=H,$===H&&P++;else if($!==void 0&&H.regex.test($))q+=H.transform!==void 0?H.transform($):$,P++;else return q}return q}function C(E){const D=o,P=l.indexOf(wt);let q=E.length-1,T="";for(let $=D.length-1;$>=0&&q>-1;$--){const H=D[$];let L=E[q];if(typeof H=="string")T=H+T,L===H&&q--;else if(L!==void 0&&H.regex.test(L))do T=(H.transform!==void 0?H.transform(L):L)+T,q--,L=E[q];while(P===$&&L!==void 0&&H.regex.test(L));else return T}return T}function k(E){return typeof E!="string"||s===void 0?typeof E=="number"?s(""+E):E:s(E)}function w(E){return a.length-E.length<=0?E:e.reverseFillMask===!0&&E.length>0?a.slice(0,-E.length)+E:E+a.slice(E.length)}return{innerValue:u,hasMask:r,moveCursorForPaste:g,updateMaskValue:p,onMaskedKeydown:b}}const Ji={name:String};function km(e){return y(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function ks(e={}){return(t,n,i)=>{t[n](F("input",O({class:"hidden"+(i||"")},e.value)))}}function Cs(e){return y(()=>e.name||e.for)}function ed(e,t){function n(){const i=e.modelValue;try{const l="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(i)===i&&("length"in i?Array.from(i):[i]).forEach(a=>{l.items.add(a)}),{files:l.files}}catch{return{files:void 0}}}return t===!0?y(()=>{if(e.type==="file")return n()}):y(n)}const Cm=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Sm=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Em=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/;function td(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.composing!==!0)return;n.target.composing=!1,e(n)}else n.type==="compositionupdate"?typeof n.data=="string"&&Cm.test(n.data)===!1&&Sm.test(n.data)===!1&&Em.test(n.data)===!1&&(n.target.composing=!1):n.target.composing=!0}}var $t=_e({name:"QInput",inheritAttrs:!1,props:te(O(O(O({},Hl),xm),Ji),{modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]}),emits:[...ao,"paste","change"],setup(e,{emit:t,attrs:n}){const i={};let l=NaN,a,o,s,r;const u=S(null),c=Cs(e),{innerValue:d,hasMask:f,moveCursorForPaste:h,updateMaskValue:p,onMaskedKeydown:g}=wm(e,t,H,u),m=ed(e,!0),b=y(()=>yi(d.value)),x=td($),C=oo(),k=y(()=>e.type==="textarea"||e.autogrow===!0),w=y(()=>k.value===!0||["text","search","url","tel","password"].includes(e.type)),E=y(()=>{const W=te(O({},C.splitAttrs.listeners.value),{onInput:$,onPaste:T,onChange:K,onBlur:R,onFocus:Ut});return W.onCompositionstart=W.onCompositionupdate=W.onCompositionend=x,f.value===!0&&(W.onKeydown=g),e.autogrow===!0&&(W.onAnimationend=L),W}),D=y(()=>{const W=te(O({tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:c.value},C.splitAttrs.attributes.value),{id:C.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0});return k.value===!1&&(W.type=e.type),e.autogrow===!0&&(W.rows=1),W});G(()=>e.type,()=>{u.value&&(u.value.value=e.modelValue)}),G(()=>e.modelValue,W=>{if(f.value===!0){if(o===!0&&(o=!1,String(W)===l))return;p(W)}else d.value!==W&&(d.value=W,e.type==="number"&&i.hasOwnProperty("value")===!0&&(a===!0?a=!1:delete i.value));e.autogrow===!0&&We(L)}),G(()=>e.autogrow,W=>{W===!0?We(L):u.value!==null&&n.rows>0&&(u.value.style.height="auto")}),G(()=>e.dense,()=>{e.autogrow===!0&&We(L)});function P(){Ol(()=>{const W=document.activeElement;u.value!==null&&u.value!==W&&(W===null||W.id!==C.targetUid.value)&&u.value.focus({preventScroll:!0})})}function q(){u.value!==null&&u.value.select()}function T(W){if(f.value===!0&&e.reverseFillMask!==!0){const ue=W.target;h(ue,ue.selectionStart,ue.selectionEnd)}t("paste",W)}function $(W){if(!W||!W.target||W.target.composing===!0)return;if(e.type==="file"){t("update:modelValue",W.target.files);return}const ue=W.target.value;if(f.value===!0)p(ue,!1,W.inputType);else if(H(ue),w.value===!0&&W.target===document.activeElement){const{selectionStart:N,selectionEnd:X}=W.target;N!==void 0&&X!==void 0&&We(()=>{W.target===document.activeElement&&ue.indexOf(W.target.value)===0&&W.target.setSelectionRange(N,X)})}e.autogrow===!0&&L()}function H(W,ue){r=()=>{e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==W&&l!==W&&(ue===!0&&(o=!0),t("update:modelValue",W),We(()=>{l===W&&(l=NaN)})),r=void 0},e.type==="number"&&(a=!0,i.value=W),e.debounce!==void 0?(clearTimeout(s),i.value=W,s=setTimeout(r,e.debounce)):r()}function L(){const W=u.value;if(W!==null){const ue=W.parentNode.style;ue.marginBottom=W.scrollHeight-1+"px",W.style.height="1px",W.style.height=W.scrollHeight+"px",ue.marginBottom=""}}function K(W){x(W),clearTimeout(s),r!==void 0&&r(),t("change",W.target.value)}function R(W){W!==void 0&&Ut(W),clearTimeout(s),r!==void 0&&r(),a=!1,o=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{u.value!==null&&(u.value.value=d.value!==void 0?d.value:"")})}function M(){return i.hasOwnProperty("value")===!0?i.value:d.value!==void 0?d.value:""}Xe(()=>{R()}),De(()=>{e.autogrow===!0&&L()}),Object.assign(C,{innerValue:d,fieldClass:y(()=>`q-${k.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:y(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length>0),inputRef:u,emitValue:H,hasValue:b,floatingLabel:y(()=>b.value===!0||yi(e.displayValue)),getControl:()=>F(k.value===!0?"textarea":"input",O(O(O({ref:u,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle},D.value),E.value),e.type!=="file"?{value:M()}:m.value)),getShadowControl:()=>F("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(k.value===!0?"":" text-no-wrap")},[F("span",{class:"invisible"},M()),F("span",e.shadowText)])});const A=so(C),z=we();return Object.assign(z.proxy,{focus:P,select:q,getNativeElement:()=>u.value}),A}});const Fm=/(-\w)/g;function Dm(e){const t={};for(const n in e){const i=n.replace(Fm,l=>l[1].toUpperCase());t[i]=e[n]}return t}var Bm=_e({name:"QStepper",props:te(O(O({},bt),lm),{flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String}),emits:am,setup(e,{slots:t}){const n=we(),i=_t(e,n.proxy.$q),{updatePanelsList:l,isValidPanelName:a,updatePanelIndex:o,getPanelContent:s,getPanels:r,panelDirectives:u,goToPanel:c,keepAliveProps:d,needsUniqueKeepAliveWrapper:f}=om();$l(uc,y(()=>O({goToPanel:c,keepAliveProps:d,needsUniqueKeepAliveWrapper:f},e)));const h=y(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0||i.value===!0?" q-stepper--flat no-shadow":"")+(e.bordered===!0||i.value===!0&&e.flat===!1?" q-stepper--bordered":"")+(i.value===!0?" q-stepper--dark q-dark":"")),p=y(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function g(){const m=Ie(t.message,[]);if(e.vertical===!0){a(e.modelValue)&&o();const b=F("div",{class:"q-stepper__content"},Ie(t.default));return m===void 0?[b]:m.concat(b)}return[F("div",{class:p.value},r().map(b=>{const x=Dm(b.props);return F(Uc,{key:x.name,stepper:e,step:x,goToPanel:c})})),m,kl("div",{class:"q-stepper__content q-panel-parent"},s(),"cont",e.swipeable,()=>u.value)]}return()=>(l(t),F("div",{class:h.value},on(t.navigation,g())))}});const Am={class:"q-ma-md"},Pm=B("div",null,"Pixiv \u4F7F\u7528 refresh_token \u8FDB\u884C\u8EAB\u4EFD\u9A8C\u8BC1",-1),Mm=B("div",null,"\u4E3A\u4E86\u83B7\u5F97 refresh_token \uFF0C\u9700\u8981\u4EE5\u4E0B\u51C6\u5907",-1),qm=B("ul",null,[B("li",null,"\u6709\u4E00\u4E2A\u73B0\u4EE3\u6D4F\u89C8\u5668\uFF0C\u5982 Edge, Chrome, Firefox"),B("li",null,"\u6253\u5F00\u6D4F\u89C8\u5668\u7684\u300C\u5F00\u53D1\u8005\u5DE5\u5177\u300D\uFF1B\u6709\u7684\u300C\u5F00\u53D1\u8005\u5DE5\u5177\u300D\u754C\u9762\u4E3A\u82F1\u6587\uFF0C\u4E0B\u8FF0\u7686\u4E3A\u4E2D\u6587\uFF0C\u8BF7\u81EA\u884C\u8FA8\u8BA4\u5BF9\u5E94\u82F1\u6587"),B("li",null,"\u80FD\u591F\u8BBF\u95EE Pixiv")],-1),Tm=B("div",{class:"q-mt-sm"},"\u6253\u5F00\u540E\u8BF7\u56DE\u5230\u6B64\u9875\u9762\uFF0C\u7EE7\u7EED\u4E0B\u9762\u7684\u6B65\u9AA4",-1),Vm=B("div",null,"\u63A5\u4E0B\u6765\u7684\u64CD\u4F5C\u9700\u8981\u7528\u5230\u6D4F\u89C8\u5668\u7684\u300C\u5F00\u53D1\u8005\u5DE5\u5177 / DevTools\u300D",-1),$m=B("ul",null,[B("li",null,"\u5728\u521A\u624D\u6253\u5F00\u7684 Pixiv \u767B\u9646\u9875\u9762\u6253\u5F00\u300C\u5F00\u53D1\u8005\u5DE5\u5177\u300D"),B("li",null,"\u5C06\u300C\u5F00\u53D1\u8005\u5DE5\u5177\u300D\u5207\u6362\u5230\u300C\u7F51\u7EDC / Network\u300D \u6807\u7B7E\u680F"),B("li",null,"\u5F00\u542F\u300C\u6301\u7EED\u8BB0\u5F55 / \u4FDD\u7559\u65E5\u5FD7\u300D. \u5982\u679C\u4E0D\u5F00\u542F\uFF0C\u4E0B\u9762\u6240\u9700\u8981\u7684\u5B57\u6BB5\u53EF\u80FD\u5728\u8DF3\u8F6C\u540E\u4E22\u5931"),B("li",null,"\u5728\u300C\u5F00\u53D1\u8005\u5DE5\u5177\u300D\u7684\u300C\u7B5B\u9009 / Filter\u300D\u6846\u4E2D\u8F93\u5165\u300Ccallback?\u300D"),B("li",null,"\u767B\u9646\u8D26\u53F7. \u767B\u5F55\u8FC7\u7A0B\u4E2D\u4EA7\u751F\u7684\u8BF7\u6C42\u4F1A\u88AB\u300C\u5F00\u53D1\u8005\u5DE5\u5177\u300D\u8BB0\u5F55"),B("li",null,' \u767B\u9646\u6210\u529F\u540E\uFF0C\u300C\u5F00\u53D1\u8005\u5DE5\u5177\u300D\u7684\u300C\u7F51\u7EDC\u300D\u9875\u9762\u4F1A\u51FA\u73B0\u4E00\u4E2A\u5F62\u5982 "https://app-api.pixiv.net/.../callback?state=...&code=..."\u7684\u5B57\u6BB5 '),B("li",null,"\u5C06\u300Ccode=\u300D\u540E\u7684\u5185\u5BB9\u590D\u5236\u5230\u4E0B\u9762\u7684\u8F93\u5165\u6846\u4E2D\uFF0C\u70B9\u51FB\u63D0\u4EA4")],-1),Lm=B("div",null,"Refresh Token \u4E3A",-1),Rm={class:"text-h5"},Om=B("div",null,"\u6B64\u5B57\u7B26\u4E32\u53EF\u4EE5\u7528\u4E8E\u65E0\u5BC6\u7801\u767B\u5F55 Pixiv \u8D26\u53F7\uFF0C\u8BF7\u59A5\u5584\u4FDD\u7BA1",-1),Im={key:0},zm={key:1},Nm=Ee({__name:"GetToken",emits:["updateProps","updateTitle"],setup(e,{emit:t}){De(()=>{t("updateTitle","\u83B7\u53D6 RefreshToken")});const n=S(1),i=S(""),l=S(),a=S();De(()=>{ds("refresh_token_path").then(r=>{a.value=r})});function o(){Yf().then(r=>{window.open(r)})}function s(){Xf(i.value).then(r=>{l.value=r,n.value=4})}return(r,u)=>(I(),J("div",Am,[v(Bm,{modelValue:n.value,"onUpdate:modelValue":u[5]||(u[5]=c=>n.value=c),vertical:"",color:"primary",animated:""},{default:_(()=>[v(na,{name:1,title:"\u51C6\u5907",done:n.value>1,icon:"assignment"},{default:_(()=>[Pm,Mm,qm,v(Bo,null,{default:_(()=>[v(ae,{onClick:u[0]||(u[0]=c=>n.value=2),color:"primary",label:"\u7EE7\u7EED"})]),_:1})]),_:1},8,["done"]),v(na,{name:2,title:"\u524D\u5F80\u767B\u5F55\u9875\u9762",done:n.value>2,icon:"launch"},{default:_(()=>[v(ae,{onClick:o},{default:_(()=>[j("\u4F7F\u7528\u6B64\u6309\u94AE\u6253\u5F00 Pixiv \u767B\u5F55\u9875\u9762")]),_:1}),Tm,v(Bo,null,{default:_(()=>[v(ae,{onClick:u[1]||(u[1]=c=>n.value=3),color:"primary",label:"\u7EE7\u7EED"}),v(ae,{flat:"",onClick:u[2]||(u[2]=c=>n.value=1),color:"primary",label:"\u8FD4\u56DE"})]),_:1})]),_:1},8,["done"]),v(na,{name:3,title:"\u83B7\u5F97 code",done:n.value>3,icon:"code"},{default:_(()=>[Vm,$m,v($t,{modelValue:i.value,"onUpdate:modelValue":u[3]||(u[3]=c=>i.value=c),label:"Code",onKeyup:vn(s,["enter"])},null,8,["modelValue","onKeyup"]),v(Bo,null,{default:_(()=>[v(ae,{onClick:s,color:"primary",label:"\u63D0\u4EA4"}),v(ae,{flat:"",onClick:u[4]||(u[4]=c=>n.value=2),color:"primary",label:"\u8FD4\u56DE"})]),_:1})]),_:1},8,["done"]),v(na,{name:4,title:"\u5B8C\u6210",icon:"check"},{default:_(()=>[Lm,B("div",Rm,Y(l.value),1),Om,a.value===null?(I(),J("div",Im," \u76EE\u524D\u672A\u8BBE\u5B9A refresh_token_path \uFF0C\u5373\u4FDD\u5B58 refresh_token \u7684\u6587\u4EF6\u8DEF\u5F84. \u8BF7\u8BBE\u5B9A\u6B64\u914D\u7F6E\u9879\u540E\u5C06\u4E0A\u8FF0 refresh_token \u590D\u5236\u5230\u8BE5\u6587\u4EF6\u4E2D. ")):(I(),J("div",zm,"\u5DF2\u4FDD\u5B58\u81F3 "+Y(a.value),1))]),_:1})]),_:1},8,["modelValue"])]))}}),Hm={ratio:[String,Number]};function jm(e,t){return y(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const Wm=16/9;var xn=_e({name:"QImg",props:te(O({},Hm),{src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Wm},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String}),emits:["load","error"],setup(e,{slots:t,emit:n}){const i=S(e.initialRatio),l=jm(e,i);let a;const o=[S(null),S(e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null)],s=S(0),r=S(!1),u=S(!1),c=y(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),d=y(()=>({width:e.width,height:e.height})),f=y(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),h=y(()=>te(O({},e.imgStyle),{objectFit:e.fit,objectPosition:e.position}));G(()=>p(),g);function p(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function g(D){if(clearTimeout(a),u.value=!1,D===null){r.value=!1,o[0].value=null,o[1].value=null;return}r.value=!0,o[s.value].value=D}function m({target:D}){a!==null&&(clearTimeout(a),i.value=D.naturalHeight===0?.5:D.naturalWidth/D.naturalHeight,b(D,1))}function b(D,P){a===null||P===1e3||(D.complete===!0?x(D):a=setTimeout(()=>{b(D,P+1)},50))}function x(D){a!==null&&(s.value=s.value===1?0:1,o[s.value].value=null,r.value=!1,u.value=!1,n("load",D.currentSrc||D.src))}function C(D){clearTimeout(a),r.value=!1,u.value=!0,o[0].value=null,o[1].value=null,n("error",D)}function k(D,P){return F("div",{class:"q-img__container absolute-full",key:D},P)}function w(D){const P=o[D].value,q=O({key:"img_"+D,class:f.value,style:h.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable},P);return s.value===D?(q.class+=" q-img__image--waiting",Object.assign(q,{onLoad:m,onError:C})):q.class+=" q-img__image--loaded",k("img"+D,F("img",q))}function E(){return r.value!==!0?F("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Ie(t[u.value===!0?"error":"default"])):F("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[F(hc,{color:e.spinnerColor,size:e.spinnerSize})])}return g(p()),Xe(()=>{clearTimeout(a),a=null}),()=>{const D=[];return l.value!==null&&D.push(F("div",{key:"filler",style:l.value})),u.value!==!0&&(o[0].value!==null&&D.push(w(0)),o[1].value!==null&&D.push(w(1))),D.push(F(Dt,{name:"q-transition--fade"},E)),F("div",{class:c.value,style:d.value,role:"img","aria-label":e.alt},D)}}});const Um={key:0},Qm={class:"normal-pre"},Km={key:1},Ym={key:2},Xm={class:"row justify-right no-wrap q-gutter-md items-center"},Gm={class:"col-6"},Zm={class:"col-6"},Jm={class:"inline-pre"},eg=Ee({__name:"WahuCliItem",props:{text:{},src:{}},setup(e){return(t,n)=>(I(),J(Te,null,[t.text!==void 0&&t.src===void 0?(I(),J("div",Um,[B("pre",Qm,Y(t.text),1)])):Se("",!0),t.text===void 0&&t.src!==void 0?(I(),J("div",Km,[v(xn,{src:t.src,width:"100%",height:"300px",fit:"contain"},null,8,["src"])])):Se("",!0),t.text!==void 0&&t.src!==void 0?(I(),J("div",Ym,[B("div",Xm,[B("div",Gm,[v(xn,{src:t.src,width:"100%",height:"300px",fit:"contain"},null,8,["src"])]),B("div",Zm,[B("pre",Jm,Y(t.text),1)])])])):Se("",!0)],64))}});var tg=mt(eg,[["__scopeId","data-v-70930ce6"]]);const ng={style:{width:"100%",height:"100%"},class:"q-mx-sm"},ig={class:"text-grey-5"},sa=5,lg=Ee({__name:"WahuCli",setup(e){const t=S([{text:`WahuCli
\u8F93\u5165 man \u6765\u83B7\u5F97\u5E2E\u52A9
`}]),n=S(""),i=S("$"),l=S(!1),a=S([]),o=S([]),s=S(0),r=S([]),u=S(null),c=S(null),d=S(null);let f=S();function h(){const P=n.value;if(o.value.push(P),s.value=-1,n.value="",a.value=Array.from(new Set(o.value)),f.value===void 0){if(P!=""){if(b(`

$ `+P),p(),D(P))return;l.value=!0,rr(P).then(q=>{l.value=!1,f.value=q,g()})}}else i.value=">",g(P),b(`
`+i.value+" "+P)}function p(){u.value!==null&&d.value!==null&&setTimeout(()=>{u.value.setScrollPosition("vertical",d.value.offsetTop,300)},50)}De(()=>{rr("wahu").then(P=>{f.value=P,g()})});async function g(P){for(;f.value!==void 0;){const q=await f.value.next(P===void 0?null:P);if(P=void 0,i.value=">",q.done){f.value=void 0,i.value="$";return}const T=q.value.match(/\[:input=.+\]/);if(T!==null){i.value=T[0].slice(8,-1);return}b(q.value)}}function m(P){return P[P.length-1]}function b(P){if(P!==void 0){const q=P.match(/\[:img=.+\]/),T=P.match(/\[:rewrite\].+/),$=P.match(/\[:erase\]/);if(q!==null)P.match(/\[:img=.+\].+/)!==null?t.value.push({src:q[0].slice(6,-1),text:P.slice(q[0].length)}):t.value.push({src:q[0].slice(6,-1)});else if(T!==null){const H=P.slice(10);m(t.value).text!==null?m(t.value).text=H:t.value.push({text:H})}else $!==null?t.value.splice(t.value.length-1,1):P.startsWith(`
`)?t.value.push({text:P.slice(1)}):m(t.value).text!==void 0?m(t.value).text+=P:t.value.push({text:P});p()}}function x(){s.value<a.value.length&&(s.value+=1,s.value==a.value.length?(s.value=-1,n.value="",a.value=Array.from(new Set(o.value))):n.value=a.value[s.value],p())}function C(){s.value>0?s.value-=1:(s.value=-1)&&(s.value=a.value.length-1),n.value=a.value[s.value],p()}function k(P){n.value=P,a.value=Array.from(new Set(o.value.filter(q=>q.startsWith(n.value)))),s.value==-1?(Gf(n.value).then(q=>{r.value=q}),p()):s.value=-1}const w=y(()=>{const P=(sa-1)/2;return s.value<=P?[a.value.slice(0,sa),s.value]:s.value>=a.value.length-P?[a.value.slice(a.value.length-sa),s.value-a.value.length+sa]:[a.value.slice(s.value-P,s.value+P+1),P]}),E=`
\u8F93\u5165 --help \u6765\u83B7\u5F97\u547D\u4EE4\u5217\u8868
\u6307\u793A\u7B26\uFF1A
  \u5F53\u6307\u793A\u7B26\u4E3A $ \uFF0C\u8868\u660E\u547D\u4EE4\u884C\u7EC8\u7AEF\u5904\u4E8E\u5F85\u673A\u72B6\u6001\uFF0C\u53EF\u4EE5\u6267\u884C\u547D\u4EE4
  \u5F53\u6307\u793A\u7B26\u4E3A > \uFF0C\u8868\u660E\u547D\u4EE4\u884C\u7EC8\u7AEF\u6B63\u5728\u6267\u884C\u547D\u4EE4\uFF0C\u6B64\u65F6\u8F93\u5165\u7684\u5B57\u7B26\u4F1A\u88AB\u5B58\u5165\u7F13\u51B2\u533A\uFF0C\u4E0B\u6B21\u547D\u4EE4\u884C\u811A\u672C\u8BF7\u6C42\u8F93\u5165\u7684\u65F6\u5019\u4ECE\u7F13\u51B2\u533A\u8BFB\u53D6
\u5386\u53F2\uFF1A
  \u53EF\u4EE5\u4F7F\u7528\u4E0A\u4E0B\u7BAD\u5934\u952E\u56DE\u6EAF\u547D\u4EE4\u884C\u6267\u884C\u5386\u53F2\uFF1B\u5386\u53F2\u5B58\u50A8\u5728\u524D\u7AEF\uFF0C\u9875\u9762\u5237\u65B0\u540E\u4F1A\u4E22\u5931
\u6E05\u5C4F\uFF1A
  \u6267\u884C clear \u6E05\u5C4F
\u6BCF\u4E2A\u547D\u4EE4\u884C\u7EC8\u7AEF\u4E4B\u95F4\u76F8\u4E92\u72EC\u7ACB\uFF0C\u5E76\u53D1\u6267\u884C\uFF0C\u4E5F\u5C31\u662F\u8BF4\u53EF\u4EE5\u6253\u5F00\u591A\u4E2A Home \u9875\u9762\u5206\u522B\u6267\u884C\u547D\u4EE4
`.trim();function D(P){if(P=="clear")t.value=[];else if(P=="man")t.value.push({text:E});else if(P=="history")t.value.push({text:a.value.slice(void 0,a.value.length-1).join(`
`)});else return!1;return p(),!0}return(P,q)=>(I(),ie(Si,{ref_key:"scrollArea",ref:u,style:"padding-left: 0px; padding-right: 0px;margin-top:50px"},{default:_(()=>[B("div",ng,[B("div",null,[(I(!0),J(Te,null,ut(t.value,(T,$)=>(I(),J("div",{key:$},[v(tg,Zf(Jf(T)),null,16)]))),128))]),v($t,{"model-value":n.value,onKeyup:[vn(h,["enter"]),vn(C,["up"]),vn(x,["down"])],dense:"",prefix:i.value,autofocus:"",class:"cli-input",loading:l.value,ref_key:"inputBox",ref:c,"onUpdate:modelValue":k},null,8,["model-value","onKeyup","prefix","loading"]),he(B("pre",{class:"text-grey-5"},Y(" "+r.value.join(" ")),513),[[Ke,n.value!=""&&ne(f)===void 0]]),(I(!0),J(Te,null,ut(w.value[0],(T,$)=>he((I(),J("div",{key:$},[B("pre",ig,Y($==w.value[1]?"-> "+T:"   "+T),1)])),[[Ke,s.value!=-1]])),128)),B("div",{ref_key:"inputBoxAnchor",ref:d},null,512)])]),_:1},512))}});var nd=mt(lg,[["__scopeId","data-v-b08e02fc"]]);const ag={class:"container"},og=Ee({__name:"Home",emits:["updateProps","updateTitle"],setup(e,{emit:t}){De(()=>{t("updateTitle","Home")});const n=S(!1),i=S(!1),l=S(!1);S(null);const a=zl();return y(()=>a.platform.is.mobile?"95vw":"75vw"),De(()=>{setTimeout(()=>{n.value=!0},500),setTimeout(()=>{i.value=!0,l.value=!0},250)}),(o,s)=>(I(),J("div",ag,[he(v(nd,{class:"wahu-cli"},null,512),[[Ke,l.value]])]))}});var sg=mt(og,[["__scopeId","data-v-ca157f52"]]),et=_e({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=y(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>F(e.tag,{class:n.value},Ie(t.default))}});const rg={xs:2,sm:4,md:6,lg:10,xl:14};function Or(e,t,n){return{transform:t===!0?`translateX(${n.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var qn=_e({name:"QLinearProgress",props:te(O(O({},bt),Ll),{value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean}),setup(e,{slots:t}){const{proxy:n}=we(),i=_t(e,n.$q),l=Rl(e,rg),a=y(()=>e.indeterminate===!0||e.query===!0),o=y(()=>e.reverse!==e.query),s=y(()=>te(O({},l.value!==null?l.value:{}),{"--q-linear-progress-speed":`${e.animationSpeed}ms`})),r=y(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),u=y(()=>Or(e.buffer!==void 0?e.buffer:1,o.value,n.$q)),c=y(()=>`q-linear-progress__track absolute-full q-linear-progress__track--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__track--${i.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),d=y(()=>Or(a.value===!0?1:e.value,o.value,n.$q)),f=y(()=>`q-linear-progress__model absolute-full q-linear-progress__model--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__model--${a.value===!0?"in":""}determinate`),h=y(()=>({width:`${e.value*100}%`})),p=y(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"}`);return()=>{const g=[F("div",{class:c.value,style:u.value}),F("div",{class:f.value,style:d.value})];return e.stripe===!0&&a.value===!1&&g.push(F("div",{class:p.value,style:h.value})),F("div",{class:r.value,style:s.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},on(t.default,g))}}});const ug=["top","middle","bottom"];var pt=_e({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>ug.includes(e)}},setup(e,{slots:t}){const n=y(()=>e.align!==void 0?{verticalAlign:e.align}:null),i=y(()=>{const l=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(l!==void 0?` text-${l}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>F("div",{class:i.value,style:n.value,role:"alert","aria-label":e.label},e.label!==void 0?e.label:Ie(t.default))}});const cg=B("span",{class:"pb-0 mb-0",style:{"margin-right":"50px"}},"\u4FE1\u606F\uFF1A",-1),dg={class:"text-body-2 text-grey-8 flex items-center justify-center",style:{"column-gap":"50px"}},fg={style:{"margin-left":"50px"}},id=Ee({__name:"IllustInformation",props:{detail:{}},setup(e){return(t,n)=>(I(),ie(ke,{class:"q-ma-sm"},{default:_(()=>[v(et,{class:"my-2 display: flex;"},{default:_(()=>[cg,B("span",dg,[B("span",null,"\u603B\u6536\u85CF\uFF1A "+Y(t.detail.total_bookmarks),1),B("span",null,"\u603B\u67E5\u770B\uFF1A"+Y(t.detail.total_view),1),B("span",null,[he(v(pt,{rounded:"",color:"red"},{default:_(()=>[j(Y(t.detail.x_restrict==1?"R-18":"R-18G"),1)]),_:1},512),[[Ke,t.detail.x_restrict]])]),B("span",fg,"\u5206\u8FA8\u7387\uFF1A"+Y(t.detail.width)+" X "+Y(t.detail.height),1)])]),_:1})]),_:1}))}}),hg=["innerHTML"],ld=Ee({__name:"IllustCaption",props:{detail:{}},setup(e){return(t,n)=>(I(),ie(ke,{class:"q-ma-sm"},{default:_(()=>[v(et,null,{default:_(()=>[j("\u63CF\u8FF0")]),_:1}),v(et,null,{default:_(()=>[B("p",{class:"text-body-2",innerHTML:t.detail.caption},null,8,hg)]),_:1})]),_:1}))}}),vg=["onClick"],mg={class:"text-body-2 text-grey-8"},ad=Ee({__name:"IllustTags",props:{detail:{},dbName:{}},setup(e){const t=e;function n(i){t.dbName===void 0?Ot({component:"PixivSearchIllust",props:{initialQueryString:'-s etag "'+i+'"'}}):Ot({component:"IllustQueryLocal",title:t.dbName,props:{dbName:t.dbName,initialQueryString:'-t "'+i+'"'}},!0)}return(i,l)=>(I(),ie(ke,{class:"q-ma-sm"},{default:_(()=>[v(et,null,{default:_(()=>[j("\u6807\u7B7E")]),_:1}),v(et,null,{default:_(()=>[(I(!0),J(Te,null,ut(i.detail.tags,a=>(I(),J("div",{key:a.name},[B("div",{class:"text-body-2 cursor-pointer",onClick:o=>n(a.name)},[j(Y(a.name)+" ",1),v(Oe,null,{default:_(()=>[j(" \u5728 "+Y(i.dbName===void 0?"Pixiv":i.dbName)+" \u641C\u7D22\u6807\u7B7E "+Y(a.name),1)]),_:2},1024)],8,vg),B("div",mg,Y(a.translated),1)]))),128))]),_:1})]),_:1}))}}),gg=["src"],pg=B("br",null,null,-1),bg={class:"text-body-2 text-grey-8"},od=Ee({__name:"PixivUserPanel",props:{user:{}},setup(e){return(t,n)=>(I(),ie(ke,{class:"q-ma-sm"},{default:_(()=>[v(je,null,{default:_(()=>[v(ge,{top:"",avatar:""},{default:_(()=>[v(fs,null,{default:_(()=>[B("img",{src:`${ne(jn)}/${t.user.profile_image}`},null,8,gg)]),_:1})]),_:1}),v(ge,null,{default:_(()=>[B("span",{class:"cursor-pointer",onClick:n[0]||(n[0]=i=>ne(Ot)({component:"PixivUserDetail",props:{uid:t.user.uid}}))},[j(Y(t.user.name)+" ",1),v(Oe,null,{default:_(()=>[j(" \u67E5\u770B "+Y(t.user.name)+" \u7684\u8BE6\u60C5 ",1)]),_:1})]),pg,B("div",bg,[t.user.is_followed?(I(),ie(pt,{key:0,style:{width:"60px"}},{default:_(()=>[v(ve,{name:"bookmark"}),j(" \u5DF2\u5173\u6CE8 ")]),_:1})):Se("",!0),j(" / uid = "+Y(t.user.uid),1)])]),_:1})]),_:1})]),_:1}))}});function sd(e,t){const n=S(null),i=y(()=>e.disable!==!0?null:F("span",{ref:n,class:"no-outline",tabindex:-1}));function l(a){const o=t.value;a!==void 0&&a.type.indexOf("key")===0?o!==null&&document.activeElement!==o&&o.contains(document.activeElement)===!0&&o.focus():n.value!==null&&(a===void 0||o!==null&&o.contains(a.target)===!0)&&n.value.focus()}return{refocusTargetEl:i,refocusTarget:l}}var rd={xs:30,sm:35,md:40,lg:50,xl:60};const ud=te(O(O(O({},bt),Ll),Ji),{modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]}),cd=["update:modelValue"];function dd(e,t){const{props:n,slots:i,emit:l,proxy:a}=we(),{$q:o}=a,s=_t(n,o),r=S(null),{refocusTargetEl:u,refocusTarget:c}=sd(n,r),d=Rl(n,rd),f=y(()=>n.val!==void 0&&Array.isArray(n.modelValue)),h=y(()=>f.value===!0?n.modelValue.indexOf(n.val):-1),p=y(()=>f.value===!0?h.value>-1:n.modelValue===n.trueValue),g=y(()=>f.value===!0?h.value===-1:n.modelValue===n.falseValue),m=y(()=>p.value===!1&&g.value===!1),b=y(()=>n.disable===!0?-1:n.tabindex||0),x=y(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(s.value===!0?` q-${e}--dark`:"")+(n.dense===!0?` q-${e}--dense`:"")+(n.leftLabel===!0?" reverse":"")),C=y(()=>{const H=p.value===!0?"truthy":g.value===!0?"falsy":"indet",L=n.color!==void 0&&(n.keepColor===!0||(e==="toggle"?p.value===!0:g.value!==!0))?` text-${n.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${H}${L}`}),k=y(()=>{const H={type:"checkbox"};return n.name!==void 0&&Object.assign(H,{"^checked":p.value===!0?"checked":void 0,name:n.name,value:f.value===!0?n.val:n.trueValue}),H}),w=ks(k),E=y(()=>{const H={tabindex:b.value,role:"checkbox","aria-label":n.label,"aria-checked":m.value===!0?"mixed":p.value===!0?"true":"false"};return n.disable===!0&&(H["aria-disabled"]="true"),H});function D(H){H!==void 0&&(it(H),c(H)),n.disable!==!0&&l("update:modelValue",P(),H)}function P(){if(f.value===!0){if(p.value===!0){const H=n.modelValue.slice();return H.splice(h.value,1),H}return n.modelValue.concat([n.val])}if(p.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(g.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function q(H){(H.keyCode===13||H.keyCode===32)&&it(H)}function T(H){(H.keyCode===13||H.keyCode===32)&&D(H)}const $=t(p,m);return Object.assign(a,{toggle:D}),()=>{const H=$();n.disable!==!0&&w(H,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const L=[F("div",{class:C.value,style:d.value},H)];u.value!==null&&L.push(u.value);const K=n.label!==void 0?on(i.default,[n.label]):Ie(i.default);return K!==void 0&&L.push(F("div",{class:`q-${e}__label q-anchor--skip`},K)),F("div",te(O({ref:r,class:x.value},E.value),{onClick:D,onKeydown:q,onKeyup:T}),L)}}const _g=F("div",{key:"svg",class:"q-checkbox__bg absolute"},[F("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24","aria-hidden":"true"},[F("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),F("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var zn=_e({name:"QCheckbox",props:ud,emits:cd,setup(e){function t(n,i){const l=y(()=>(n.value===!0?e.checkedIcon:i.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>l.value!==null?[F("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[F(ve,{class:"q-checkbox__icon",name:l.value})])]:[_g]}return dd("checkbox",t)}}),Wn=_e({name:"QCardActions",props:te(O({},eh),{vertical:Boolean}),setup(e,{slots:t}){const n=th(e),i=y(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>F("div",{class:i.value},Ie(t.default))}});const el=Ee({__name:"CheckboxGroup",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e;function i(a){return n.modelValue.indexOf(a)!=-1}function l(a,o){const s=n.modelValue.indexOf(a);o?s==-1&&t("update:modelValue",[a].concat(n.modelValue)):s!=-1&&t("update:modelValue",n.modelValue.slice(0,s).concat(n.modelValue.slice(s+1)))}return(a,o)=>nh(a.$slots,"default",{getState:i,toggle:l})}});const yg={key:0},xg={key:1},wg=Ee({__name:"IllustImagePages",props:{pageCount:{},dbName:{},iid:{},modelValue:{},imageSrcList:{},disabled:{type:Boolean}},emits:["onPreview"],setup(e){return(t,n)=>(I(),ie(el,{"model-value":t.modelValue,"onUpdate:modelValue":n[0]||(n[0]=i=>t.$emit("update:modelValue",i))},{default:_(({getState:i,toggle:l})=>[(I(!0),J(Te,null,ut(t.pageCount,(a,o)=>(I(),ie(ke,{key:a,class:"q-ma-sm"},{default:_(()=>[v(Wn,null,{default:_(()=>[v(zn,{"model-value":i(a-1),"onUpdate:modelValue":s=>l(a-1,s),label:`\u6536\u85CF ${a}`,val:a-1,disable:t.disabled},null,8,["model-value","onUpdate:modelValue","label","val","disable"])]),_:2},1024),t.dbName!==void 0?(I(),J("div",yg,[v(xn,{src:`${ne(ur)}/${t.dbName}/${t.iid}/${a-1}`,class:"image",fit:"contain",onClick:s=>t.$emit("onPreview_local",`${ne(ur)}/${t.dbName}/${t.iid}/${a-1}`)},null,8,["src","onClick"])])):Se("",!0),t.dbName===void 0&&t.imageSrcList!==void 0?(I(),J("div",xg,[v(xn,{src:`${ne(jn)}${t.imageSrcList[a-1]}`,class:"image",fit:"contain",onClick:s=>t.$emit("onPreview",o)},null,8,["src","onClick"])])):Se("",!0)]),_:2},1024))),128))]),_:1},8,["model-value"]))}});var fd=mt(wg,[["__scopeId","data-v-f9a9c566"]]);const kg=F("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24","aria-hidden":"true"},[F("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),F("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var Ii=_e({name:"QRadio",props:te(O(O(O({},bt),Ll),Ji),{modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]}),emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:i}=we(),l=_t(e,i.$q),a=Rl(e,rd),o=S(null),{refocusTargetEl:s,refocusTarget:r}=sd(e,o),u=y(()=>e.modelValue===e.val),c=y(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(l.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),d=y(()=>{const C=e.color!==void 0&&(e.keepColor===!0||u.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${u.value===!0?"truthy":"falsy"}${C}`}),f=y(()=>(u.value===!0?e.checkedIcon:e.uncheckedIcon)||null),h=y(()=>e.disable===!0?-1:e.tabindex||0),p=y(()=>{const C={type:"radio"};return e.name!==void 0&&Object.assign(C,{"^checked":u.value===!0?"checked":void 0,name:e.name,value:e.val}),C}),g=ks(p);function m(C){C!==void 0&&(it(C),r(C)),e.disable!==!0&&u.value!==!0&&n("update:modelValue",e.val,C)}function b(C){(C.keyCode===13||C.keyCode===32)&&it(C)}function x(C){(C.keyCode===13||C.keyCode===32)&&m(C)}return Object.assign(i,{set:m}),()=>{const C=f.value!==null?[F("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[F(ve,{class:"q-radio__icon",name:f.value})])]:[kg];e.disable!==!0&&g(C,"unshift"," q-radio__native q-ma-none q-pa-none");const k=[F("div",{class:d.value,style:a.value},C)];s.value!==null&&k.push(s.value);const w=e.label!==void 0?on(t.default,[e.label]):Ie(t.default);return w!==void 0&&k.push(F("div",{class:"q-radio__label q-anchor--skip"},w)),F("div",{ref:o,class:c.value,tabindex:h.value,role:"radio","aria-label":e.label,"aria-checked":u.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:m,onKeydown:b,onKeyup:x},k)}}}),jl=_e({name:"QToggle",props:te(O({},ud),{icon:String,iconColor:String}),emits:cd,setup(e){function t(n,i){const l=y(()=>(n.value===!0?e.checkedIcon:i.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),a=y(()=>n.value===!0?e.iconColor:null);return()=>[F("div",{class:"q-toggle__track"}),F("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},l.value!==void 0?[F(ve,{name:l.value,color:a.value})]:void 0)]}return dd("toggle",t)}});const hd={radio:Ii,checkbox:zn,toggle:jl},Cg=Object.keys(hd);var Sg=_e({name:"QOptionGroup",props:te(O({},bt),{modelValue:{required:!0},options:{type:Array,validator:e=>e.every(t=>"value"in t&&"label"in t)},name:String,type:{default:"radio",validator:e=>Cg.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean}),emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{proxy:{$q:i}}=we(),l=Array.isArray(e.modelValue);e.type==="radio"?l===!0&&console.error("q-option-group: model should not be array"):l===!1&&console.error("q-option-group: model should be array in your case");const a=_t(e,i),o=y(()=>hd[e.type]),s=y(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),r=y(()=>{const c={};return e.type==="radio"&&(c.role="radiogroup",e.disable===!0&&(c["aria-disabled"]="true")),c});function u(c){t("update:modelValue",c)}return()=>F("div",O({class:s.value},r.value),e.options.map((c,d)=>{const f=n["label-"+d]!==void 0?()=>n["label-"+d](c):n.label!==void 0?()=>n.label(c):void 0;return F("div",[F(o.value,{modelValue:e.modelValue,val:c.value,name:c.name===void 0?e.name:c.name,disable:e.disable||c.disable,label:f===void 0?c.label:null,leftLabel:c.leftLabel===void 0?e.leftLabel:c.leftLabel,color:c.color===void 0?e.color:c.color,checkedIcon:c.checkedIcon,uncheckedIcon:c.uncheckedIcon,dark:c.dark||a.value,size:c.size===void 0?e.size:c.size,dense:e.dense,keepColor:c.keepColor===void 0?e.keepColor:c.keepColor,"onUpdate:modelValue":u},f)])}))}});const Xn=vc("options",{state:()=>({dl_type_option:["origin","large","medium","sqmedium"],dbName:"",img_pre_state:!0,show_cancel:!1}),getters:{},actions:{}}),Gn=vc("settings",{state:()=>({h_switch:!1,ai_switch:!1,user_id:0,leftDrawerOpen:!1}),persist:{enabled:!0,strategies:[{key:"Wahu-settings",storage:localStorage}]},getters:{},actions:{}});const Zn=e=>(kn("data-v-639631c2"),e=e(),Cn(),e),Eg={class:"m-image-wrap"},Fg={class:"m-preview-mask"},Dg=["onClick","onWheel"],Bg={class:"m-preview-body"},Ag={class:"m-preview-operations"},Pg={style:{display:"flex","align-items":"center","column-gap":"10px"}},Mg={class:"scale-times"},qg={style:{display:"flex","align-items":"center","column-gap":"10px","flex-direction":"row-reverse"}},Tg=Zn(()=>B("svg",{class:"u-icon",focusable:"false","data-icon":"close","aria-hidden":"true",viewBox:"64 64 896 896"},[B("path",{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"})],-1)),Vg=Zn(()=>B("svg",{class:"u-icon",focusable:"false","data-icon":"zoom-in","aria-hidden":"true",viewBox:"64 64 896 896"},[B("path",{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"})],-1)),$g=Zn(()=>B("svg",{class:"u-icon",focusable:"false","data-icon":"zoom-out","aria-hidden":"true",viewBox:"64 64 896 896"},[B("path",{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"})],-1)),Lg=Zn(()=>B("svg",{class:"u-icon",focusable:"false","data-icon":"expand","aria-hidden":"true",viewBox:"0 0 1024 1024"},[B("path",{d:"M365.714286 329.142857q0 45.714286-32 77.714286t-77.714286 32-77.714286-32-32-77.714286 32-77.714286 77.714286-32 77.714286 32 32 77.714286z m585.142857 219.428572v256H146.285714v-109.714286l182.857143-182.857143 91.428572 91.428571 292.571428-292.571428z m54.857143-402.285715H91.428571q-7.428571 0-12.857142 5.428572T73.142857 164.571429v694.857142q0 7.428571 5.428572 12.857143t12.857142 5.428572h914.285715q7.428571 0 12.857143-5.428572t5.428571-12.857143V164.571429q0-7.428571-5.428571-12.857143T1005.714286 146.285714z m91.428571 18.285715v694.857142q0 37.714286-26.857143 64.571429t-64.571428 26.857143H91.428571q-37.714286 0-64.571428-26.857143T0 859.428571V164.571429q0-37.714286 26.857143-64.571429t64.571428-26.857143h914.285715q37.714286 0 64.571428 26.857143t26.857143 64.571429z","p-id":"1435"})],-1)),Rg=Zn(()=>B("svg",{class:"u-icon",focusable:"false","data-icon":"rotate-right","aria-hidden":"true",viewBox:"64 64 896 896"},[B("path",{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}),B("path",{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"})],-1)),Og=Zn(()=>B("svg",{class:"u-icon",focusable:"false","data-icon":"rotate-left","aria-hidden":"true",viewBox:"64 64 896 896"},[B("path",{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}),B("path",{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"})],-1)),Ig={class:"u-spin-circle"},zg=["src"],Ng=Zn(()=>B("svg",{focusable:"false",class:"u-switch","data-icon":"left","aria-hidden":"true",viewBox:"64 64 896 896"},[B("path",{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"})],-1)),Hg=[Ng],jg=Zn(()=>B("svg",{focusable:"false",class:"u-switch","data-icon":"right","aria-hidden":"true",viewBox:"64 64 896 896"},[B("path",{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"})],-1)),Wg=[jg],Ug=Ee({__name:"ImagePreview",props:{name:{default:""},width:{default:300},height:{default:"100%"},fit:{default:"contain"},src:{default:""},preview:{default:"\u9884\u89C8"},zoomRatio:{default:.1},minZoomScale:{default:.1},maxZoomScale:{default:10},resetOnDbclick:{type:Boolean,default:!0},loop:{type:Boolean,default:!1}},setup(e,{expose:t}){const n=e,i=Xn(),l=Gn();y(()=>typeof n.width=="number"?n.width+"px":n.width),y(()=>typeof n.height=="number"?n.height+"px":n.height);const a=y(()=>{if(Array.isArray(n.src)){let R=[];for(let M=0;M<n.src.length;M++)R.push(jn+n.src[M]);return console.log("images",R),R}else return[n.src]}),o=y(()=>a.value.length);De(()=>{document.addEventListener("keydown",b)}),Ci(()=>{document.removeEventListener("keydown",b)}),S(!1);const s=S(!1),r=S(0),u=S(!1),c=S(0),d=S(1),f=S(0),h=S(0),p=S(0),g=S(0),m=S([{label:"1X",value:1},{label:"2X",value:2},{label:"3X",value:3},{label:"4X",value:4},{label:"5X",value:5}]);function b(R){R.preventDefault(),u.value&&o.value>1&&((R.key==="ArrowLeft"||R.key==="ArrowUp")&&L(),(R.key==="ArrowRight"||R.key==="ArrowDown")&&K())}function x(){s.value=!0}function C(R=0){d.value=1,c.value=0,p.value=0,g.value=0,u.value=!0,r.value=R,i.img_pre_state=!1,l.leftDrawerOpen=!1}function k(R,M){const A=String(R).split(".")[1],z=String(M).split(".")[1];let W=Math.max((A==null?void 0:A.length)||0,(z==null?void 0:z.length)||0),ue=R.toFixed(W),N=M.toFixed(W);return(+ue.replace(".","")+ +N.replace(".",""))/Math.pow(10,W)}function w(){u.value=!1,i.img_pre_state=!0}function E(){d.value+n.zoomRatio>n.maxZoomScale?d.value=n.maxZoomScale:d.value=k(d.value,n.zoomRatio)}function D(){d.value-n.zoomRatio<n.minZoomScale?d.value=n.minZoomScale:d.value=k(d.value,-n.zoomRatio)}function P(){d.value=1,c.value=0,p.value=0,g.value=0}function q(R){R.deltaY<0?E():D()}function T(){c.value-=90}function $(){c.value+=90}function H(R){const A=R.target.getBoundingClientRect();A.top,A.bottom,A.right,A.left,document.body.clientWidth,document.body.clientHeight,f.value=R.clientX,h.value=R.clientY;const z=p.value,W=g.value;document.onmousemove=ue=>{p.value=z+ue.clientX-f.value,g.value=W+ue.clientY-h.value},document.onmouseup=()=>{document.onmousemove=null}}function L(){n.loop?r.value=(r.value-1+o.value)%o.value:r.value>0&&r.value--,s.value=!1}function K(){n.loop?r.value=(r.value+1)%o.value:r.value<o.value-1&&r.value++,s.value=!1}return t({onPreview:C}),(R,M)=>(I(),J("div",Eg,[v(Dt,{name:"mask"},{default:_(()=>[he(B("div",Fg,null,512),[[Ke,u.value]])]),_:1}),v(Dt,{name:"preview"},{default:_(()=>[he(B("div",{class:"m-preview-wrap",onClick:Ca(w,["self"]),onWheel:Ca(q,["prevent"])},[B("div",Bg,[B("div",Ag,[B("div",Pg,[B("span",Mg,[B("span",null,Y(d.value),1),j(" X ")]),v(Sg,{modelValue:d.value,"onUpdate:modelValue":M[0]||(M[0]=A=>d.value=A),options:m.value,color:"primary",inline:"",dense:""},null,8,["modelValue","options"])]),B("div",qg,[B("div",{class:"u-preview-operation",onClick:w},[Tg,v(Oe,null,{default:_(()=>[j("\u5173\u95ED")]),_:1})]),B("div",{class:hl(["u-preview-operation",{"u-operation-disabled":d.value===R.maxZoomScale}]),onClick:E},[Vg,v(Oe,null,{default:_(()=>[j("\u653E\u5927")]),_:1})],2),B("div",{class:hl(["u-preview-operation",{"u-operation-disabled":d.value===R.minZoomScale}]),onClick:D},[$g,v(Oe,null,{default:_(()=>[j("\u7F29\u5C0F")]),_:1})],2),B("div",{class:"u-preview-operation",onClick:P},[Lg,v(Oe,null,{default:_(()=>[j("\u8FD8\u539F")]),_:1})]),B("div",{class:"u-preview-operation",onClick:$},[Rg,v(Oe,null,{default:_(()=>[j("\u5411\u53F3\u65CB\u8F6C")]),_:1})]),B("div",{class:"u-preview-operation",onClick:T},[Og,v(Oe,null,{default:_(()=>[j("\u5411\u5DE6\u65CB\u8F6C")]),_:1})])])]),B("div",{class:"m-preview-image",style:Ba(`transform: translate3d(${p.value}px, ${g.value}px, 0px);`)},[he(B("div",Ig,null,512),[[Ke,!s.value]]),(I(!0),J(Te,null,ut(a.value,(A,z)=>he((I(),J("img",{key:z,class:"u-preview-image",style:Ba(`transform: scale3d(${d.value}, ${d.value}, 1) rotate(${c.value}deg);`),src:A,onMousedown:M[1]||(M[1]=Ca(W=>H(W),["prevent"])),onLoad:x,onDblclick:M[2]||(M[2]=W=>R.resetOnDbclick?P():()=>!1)},null,44,zg)),[[Ke,r.value===z]])),128))],4),o.value>1?(I(),J(Te,{key:0},[B("div",{class:hl(["m-switch-left",{"u-switch-disabled":r.value===0&&!R.loop}]),onClick:L},Hg,2),B("div",{class:hl(["m-switch-right",{"u-switch-disabled":r.value===o.value-1&&!R.loop}]),onClick:K},Wg,2)],64)):Se("",!0)])],40,Dg),[[Ke,u.value]])]),_:1})]))}});var vd=mt(Ug,[["__scopeId","data-v-639631c2"]]);const Qg={class:"q-ma-md"},Kg={class:"text-h4"},Yg={class:"text-h6 text-grey-8"},Xg={key:0,class:"q-mx-lg q-my-none text-subtitle-2 text-grey-8"},Gg={class:"row justify-center"},Zg={class:"col-md-8 col-lg-7 col-sm-12 col-xs-12"},Jg={class:"col-md-3 col-lg-4 col-sm-12 col-xs-12"},ep={class:"text-body-1 text-grey-8 q-mx-md"},tp={class:"text-body-2"},np={key:1},ip={class:"text-h4 q-ma-md"},lp=B("div",{class:"text-h2"},"\u63D2\u753B\u8BE6\u60C5 Not Found \u311F( \u2594, \u2594 )\u310F",-1),ap=B("div",{class:"text-h2"},"\u6536\u85CF\u9875 Not Found \u311F( \u2594, \u2594 )\u310F",-1),op=Ee({__name:"IllustDetailLocal",props:{dbName:{},iid:{}},emits:["updateProps","updateTitle"],setup(e,{emit:t}){const n=e,i=S(null),l=S(""),a=g=>{l.value=jn+g,console.log("fun_imageURLList_url",g),i.value.onPreview()},o=g=>{console.log("src_local:",g),l.value=g,i.value.onPreview()},s=S(),r=S([]),u=S(),c=S(""),d=S(!1),f=S(!1),h=S(!1);De(()=>{t("updateTitle",n.dbName+"/"+n.iid),mc(n.dbName,n.iid).then(g=>{g===null?f.value=!0:(s.value=g,t("updateTitle",n.dbName+"/"+s.value.title))}),gc(n.dbName,n.iid).then(g=>{g===null?(h.value=!0,r.value=[]):(r.value=g.pages,u.value=g.add_timestamp)}).then(()=>{G(r,()=>{if(r.value===void 0)throw Error("selectedPage \u4E3A undefined");ci(n.dbName,n.iid,r.value)})})}),G(c,()=>{d.value=!1;let g=c.value.split(","),m=[];for(let b of g){if(b=="")continue;let x=Number(b);if(isNaN(x)||Math.round(x)!=x){d.value=!0;return}else{if(x==-1){h.value=!0,ci(n.dbName,n.iid,[]);return}m.push(x)}}m.length>=1&&(h.value=!1,ci(n.dbName,n.iid,m))});function p(){Ot({component:"IllustDetailPixiv",props:{iid:n.iid},title:`Pixiv/${n.iid}`},!0)}return(g,m)=>(I(),J(Te,null,[s.value!==void 0?(I(),ie(ke,{key:0,class:"q-ma-sm",style:{"margin-top":"50px"}},{default:_(()=>[B("div",Qg,[B("span",Kg,Y(s.value.title),1),B("span",Yg," / iid = "+Y(s.value.iid)+" / \u672C\u5730\u6536\u85CF\u5939 = "+Y(g.dbName),1)]),u.value!==void 0?(I(),J("div",Xg," \u6DFB\u52A0\u4E8E "+Y(new Date(u.value).toLocaleString()),1)):Se("",!0),B("div",Gg,[B("div",Zg,[v(fd,{modelValue:r.value,"onUpdate:modelValue":m[0]||(m[0]=b=>r.value=b),"db-name":g.dbName,"page-count":s.value.page_count,iid:g.iid,disabled:!1,onOnPreview_local:o},null,8,["modelValue","db-name","page-count","iid"]),v(vd,{ref_key:"imgPreviewRef_local",ref:i,width:400,height:300,zoomRatio:.1,minZoomScale:.8,resetOnDbclick:"",maxZoomScale:5,src:l.value},null,8,["src"]),v(id,{detail:s.value},null,8,["detail"]),v(ld,{detail:s.value},null,8,["detail"])]),B("div",Jg,[v(ad,{detail:s.value,"db-name":g.dbName},null,8,["detail","db-name"]),v(od,{user:s.value.user},null,8,["user"]),v(ke,{class:"q-ma-sm"},{default:_(()=>[v(et,null,{default:_(()=>[j("Pximg \u670D\u52A1\u5668\u56FE\u7247\u94FE\u63A5\uFF1A")]),_:1}),(I(!0),J(Te,null,ut(s.value.image_large.length,b=>(I(),J("div",{key:b},[B("div",ep,"\u9875 "+Y(b),1),v(et,null,{default:_(()=>[B("div",tp,[v(ae,{flat:"",onClick:x=>a(s.value.image_origin[b-1])},{default:_(()=>[j(" original ")]),_:2},1032,["onClick"]),v(ae,{flat:"",onClick:x=>a(s.value.image_large[b-1])},{default:_(()=>[j(" large ")]),_:2},1032,["onClick"]),v(ae,{flat:"",onClick:x=>a(s.value.image_medium[b-1])},{default:_(()=>[j(" medium ")]),_:2},1032,["onClick"]),v(ae,{flat:"",onClick:x=>a(s.value.image_sqmedium[b-1])},{default:_(()=>[j(" square_medium ")]),_:2},1032,["onClick"])])]),_:2},1024)]))),128))]),_:1}),v(ae,{onClick:p,stretch:"",class:"q-ma-sm",icon:"launch",label:"\u67E5\u770B Pixiv \u8BE6\u60C5\u9875\u9762"})])])]),_:1})):Se("",!0),s.value===void 0?(I(),J("div",np,[v(qn,{indeterminate:""}),B("span",ip," / db_name = "+Y(n.dbName)+" / iid = "+Y(n.iid),1)])):Se("",!0),f.value&&r.value!==void 0?(I(),ie(ke,{key:2,class:"q-ma-md"},{default:_(()=>[v(et,null,{default:_(()=>[lp]),_:1}),v(et,null,{default:_(()=>[v($t,{label:"\u8BBE\u7F6E\u6536\u85CF\u9875",underlined:"",hint:"\u7528\u82F1\u6587\u9017\u53F7\u5206\u5272\u6574\u6570 e.g. 0,1,2 \uFF1B\u8F93\u5165 -1 \u6765\u6E05\u9664\u6536\u85CF",placeholder:r.value.join(","),modelValue:c.value,"onUpdate:modelValue":m[1]||(m[1]=b=>c.value=b),error:d.value},null,8,["placeholder","modelValue","error"])]),_:1})]),_:1})):Se("",!0),h.value?(I(),ie(ke,{key:3,class:"q-ma-md"},{default:_(()=>[v(et,null,{default:_(()=>[ap]),_:1})]),_:1})):Se("",!0)],64))}});var sp=_e({name:"QField",inheritAttrs:!1,props:Hl,emits:ao,setup(){return so(oo())}});const rp={xs:8,sm:10,md:14,lg:20,xl:24};var md=_e({name:"QChip",props:te(O(O({},bt),Ll),{dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}}),emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=we(),l=_t(e,i),a=Rl(e,rp),o=y(()=>e.selected===!0||e.icon!==void 0),s=y(()=>e.selected===!0?e.iconSelected||i.iconSet.chip.selected:e.icon),r=y(()=>e.iconRemove||i.iconSet.chip.remove),u=y(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=y(()=>{const m=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(m?` text-${m} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(u.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(l.value===!0?" q-chip--dark q-dark":"")}),d=y(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function f(m){m.keyCode===13&&h(m)}function h(m){e.disable||(n("update:selected",!e.selected),n("click",m))}function p(m){(m.keyCode===void 0||m.keyCode===13)&&(it(m),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function g(){const m=[];u.value===!0&&m.push(F("div",{class:"q-focus-helper"})),o.value===!0&&m.push(F(ve,{class:"q-chip__icon q-chip__icon--left",name:s.value}));const b=e.label!==void 0?[F("div",{class:"ellipsis"},[e.label])]:void 0;return m.push(F("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},dc(t.default,b))),e.iconRight&&m.push(F(ve,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&m.push(F(ve,te(O({class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:r.value},d.value),{onClick:p,onKeyup:p}))),m}return()=>{if(e.modelValue===!1)return;const m={class:c.value,style:a.value};return u.value===!0&&Object.assign(m,d.value,{onClick:h,onKeyup:f}),kl("div",m,g(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Et,e.ripple]])}}});const cn=1e3,up=["start","center","end","start-force","center-force","end-force"],gd=Array.prototype.filter,cp=window.getComputedStyle(document.body).overflowAnchor===void 0?Hn:function(e,t){requestAnimationFrame(()=>{if(e===void 0)return;const n=e.children||[];gd.call(n,l=>l.dataset&&l.dataset.qVsAnchor!==void 0).forEach(l=>{delete l.dataset.qVsAnchor});const i=n[t];i&&i.dataset&&(i.dataset.qVsAnchor="")})};function zi(e,t){return e+t}function Po(e,t,n,i,l,a,o,s){const r=e===window?document.scrollingElement||document.documentElement:e,u=l===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-o-s,scrollMaxSize:0,offsetStart:-o,offsetEnd:-s};if(l===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=r.scrollLeft,c.scrollViewSize+=r.clientWidth),c.scrollMaxSize=r.scrollWidth,a===!0&&(c.scrollStart=(El===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=r.scrollTop,c.scrollViewSize+=r.clientHeight),c.scrollMaxSize=r.scrollHeight),n!==null)for(let d=n.previousElementSibling;d!==null;d=d.previousElementSibling)d.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=d[u]);if(i!==null)for(let d=i.nextElementSibling;d!==null;d=d.nextElementSibling)d.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=d[u]);if(t!==e){const d=r.getBoundingClientRect(),f=t.getBoundingClientRect();l===!0?(c.offsetStart+=f.left-d.left,c.offsetEnd-=f.width):(c.offsetStart+=f.top-d.top,c.offsetEnd-=f.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function Ir(e,t,n,i){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(i===!0&&(t=(El===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(i===!0&&(t=(El===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function ll(e,t,n,i){if(n>=i)return 0;const l=t.length,a=Math.floor(n/cn),o=Math.floor((i-1)/cn)+1;let s=e.slice(a,o).reduce(zi,0);return n%cn!==0&&(s-=t.slice(a*cn,n).reduce(zi,0)),i%cn!==0&&i!==l&&(s-=t.slice(i,o*cn).reduce(zi,0)),s}const pd={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},bd=Object.keys(pd),_d=O({virtualScrollHorizontal:Boolean,onVirtualScroll:Function},pd);function yd({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:i}){const l=we(),{props:a,emit:o,proxy:s}=l,{$q:r}=s;let u,c,d,f=[],h;const p=S(0),g=S(0),m=S({}),b=S(null),x=S(null),C=S(null),k=S({from:0,to:0}),w=y(()=>a.tableColspan!==void 0?a.tableColspan:100);i===void 0&&(i=y(()=>a.virtualScrollItemSize));const E=y(()=>i.value+";"+a.virtualScrollHorizontal),D=y(()=>E.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);G(D,()=>{M()}),G(E,P);function P(){R(c,!0)}function q(N){R(N===void 0?c:N)}function T(N,X){const oe=t();if(oe==null||oe.nodeType===8)return;const se=Po(oe,n(),b.value,x.value,a.virtualScrollHorizontal,r.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);d!==se.scrollViewSize&&M(se.scrollViewSize),H(oe,se,Math.min(e.value-1,Math.max(0,parseInt(N,10)||0)),0,up.indexOf(X)>-1?X:c>-1&&N>c?"end":"start")}function $(){const N=t();if(N==null||N.nodeType===8)return;const X=Po(N,n(),b.value,x.value,a.virtualScrollHorizontal,r.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),oe=e.value-1,se=X.scrollMaxSize-X.offsetStart-X.offsetEnd-g.value;if(u===X.scrollStart)return;if(X.scrollMaxSize<=0){H(N,X,0,0);return}d!==X.scrollViewSize&&M(X.scrollViewSize),L(k.value.from);const Re=Math.floor(X.scrollMaxSize-Math.max(X.scrollViewSize,X.offsetEnd)-Math.min(h[oe],X.scrollViewSize/2));if(Re>0&&Math.ceil(X.scrollStart)>=Re){H(N,X,oe,X.scrollMaxSize-X.offsetEnd-f.reduce(zi,0));return}let pe=0,be=X.scrollStart-X.offsetStart,Ve=be;if(be<=se&&be+X.scrollViewSize>=p.value)be-=p.value,pe=k.value.from,Ve=be;else for(let le=0;be>=f[le]&&pe<oe;le++)be-=f[le],pe+=cn;for(;be>0&&pe<oe;)be-=h[pe],be>-X.scrollViewSize?(pe++,Ve=be):Ve=h[pe]+be;H(N,X,pe,Ve)}function H(N,X,oe,se,Re){const pe=typeof Re=="string"&&Re.indexOf("-force")>-1,be=pe===!0?Re.replace("-force",""):Re,Ve=be!==void 0?be:"start";let le=Math.max(0,oe-m.value[Ve]),ce=le+m.value.total;ce>e.value&&(ce=e.value,le=Math.max(0,ce-m.value.total)),u=X.scrollStart;const Ge=le!==k.value.from||ce!==k.value.to;if(Ge===!1&&be===void 0){z(oe);return}const{activeElement:Ue}=document,Ne=C.value;Ge===!0&&Ne!==null&&Ne!==Ue&&Ne.contains(Ue)===!0&&(Ne.addEventListener("focusout",K),setTimeout(()=>{Ne!==void 0&&Ne.removeEventListener("focusout",K)})),cp(Ne,oe-le);const Bt=be!==void 0?h.slice(le,oe).reduce(zi,0):0;if(Ge===!0){const yt=ce>=k.value.from&&le<=k.value.to?k.value.to:ce;k.value={from:le,to:yt},p.value=ll(f,h,0,le),g.value=ll(f,h,ce,e.value),requestAnimationFrame(()=>{k.value.to!==ce&&u===X.scrollStart&&(k.value={from:k.value.from,to:ce},g.value=ll(f,h,ce,e.value))})}requestAnimationFrame(()=>{if(u!==X.scrollStart)return;Ge===!0&&L(le);const yt=h.slice(le,oe).reduce(zi,0),xt=yt+X.offsetStart+p.value,ee=xt+h[oe];let xe=xt+se;if(be!==void 0){const Fe=yt-Bt,Ae=X.scrollStart+Fe;xe=pe!==!0&&Ae<xt&&ee<Ae+X.scrollViewSize?Ae:be==="end"?ee-X.scrollViewSize:xt-(be==="start"?0:Math.round((X.scrollViewSize-h[oe])/2))}u=xe,Ir(N,xe,a.virtualScrollHorizontal,r.lang.rtl),z(oe)})}function L(N){const X=C.value;if(X){const oe=gd.call(X.children,le=>le.classList&&le.classList.contains("q-virtual-scroll--skip")===!1),se=oe.length,Re=a.virtualScrollHorizontal===!0?le=>le.getBoundingClientRect().width:le=>le.offsetHeight;let pe=N,be,Ve;for(let le=0;le<se;){for(be=Re(oe[le]),le++;le<se&&oe[le].classList.contains("q-virtual-scroll--with-prev")===!0;)be+=Re(oe[le]),le++;Ve=be-h[pe],Ve!==0&&(h[pe]+=Ve,f[Math.floor(pe/cn)]+=Ve),pe++}}}function K(){C.value!==void 0&&C.value.focus()}function R(N,X){const oe=1*i.value;(X===!0||Array.isArray(h)===!1)&&(h=[]);const se=h.length;h.length=e.value;for(let pe=e.value-1;pe>=se;pe--)h[pe]=oe;const Re=Math.floor((e.value-1)/cn);f=[];for(let pe=0;pe<=Re;pe++){let be=0;const Ve=Math.min((pe+1)*cn,e.value);for(let le=pe*cn;le<Ve;le++)be+=h[le];f.push(be)}c=-1,u=void 0,p.value=ll(f,h,0,k.value.from),g.value=ll(f,h,k.value.to,e.value),N>=0?(L(k.value.from),We(()=>{T(N)})):W()}function M(N){if(N===void 0&&typeof window!="undefined"){const be=t();be!=null&&be.nodeType!==8&&(N=Po(be,n(),b.value,x.value,a.virtualScrollHorizontal,r.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}d=N;const X=parseFloat(a.virtualScrollSliceRatioBefore)||0,oe=parseFloat(a.virtualScrollSliceRatioAfter)||0,se=1+X+oe,Re=N===void 0||N<=0?1:Math.ceil(N/i.value),pe=Math.max(1,Re,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/se));m.value={total:Math.ceil(pe*se),start:Math.ceil(pe*X),center:Math.ceil(pe*(.5+X)),end:Math.ceil(pe*(1+X)),view:Re}}function A(N,X){const oe=a.virtualScrollHorizontal===!0?"width":"height",se={["--q-virtual-scroll-item-"+oe]:i.value+"px"};return[N==="tbody"?F(N,{class:"q-virtual-scroll__padding",key:"before",ref:b},[F("tr",[F("td",{style:O({[oe]:`${p.value}px`},se),colspan:w.value})])]):F(N,{class:"q-virtual-scroll__padding",key:"before",ref:b,style:O({[oe]:`${p.value}px`},se)}),F(N,{class:"q-virtual-scroll__content",key:"content",ref:C,tabindex:-1},X.flat()),N==="tbody"?F(N,{class:"q-virtual-scroll__padding",key:"after",ref:x},[F("tr",[F("td",{style:O({[oe]:`${g.value}px`},se),colspan:w.value})])]):F(N,{class:"q-virtual-scroll__padding",key:"after",ref:x,style:O({[oe]:`${g.value}px`},se)})]}function z(N){c!==N&&(a.onVirtualScroll!==void 0&&o("virtual-scroll",{index:N,from:k.value.from,to:k.value.to-1,direction:N<c?"decrease":"increase",ref:s}),c=N)}M();const W=rs($,r.platform.is.ios===!0?120:35);hs(()=>{M()});let ue=!1;return Ki(()=>{ue=!0}),Yi(()=>{if(ue!==!0)return;const N=t();u!==void 0&&N!==void 0&&N!==null&&N.nodeType!==8?Ir(N,u,a.virtualScrollHorizontal,r.lang.rtl):T(c)}),Xe(()=>{W.cancel()}),Object.assign(s,{scrollTo:T,reset:P,refresh:q}),{virtualScrollSliceRange:k,virtualScrollSliceSizeComputed:m,setVirtualScrollSize:M,onVirtualScrollEvt:W,localResetVirtualScroll:R,padVirtualScroll:A,scrollTo:T,reset:P,refresh:q}}const zr=e=>["add","add-unique","toggle"].includes(e),dp=".*+?^${}()|[]\\",fp=Object.keys(Hl);var wn=_e({name:"QSelect",inheritAttrs:!1,props:te(O(O(O({},_d),Ji),Hl),{modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:zr},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function}),emits:[...ao,"add","remove","input-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:t,emit:n}){const{proxy:i}=we(),{$q:l}=i,a=S(!1),o=S(!1),s=S(-1),r=S(""),u=S(!1),c=S(!1);let d,f,h,p,g,m,b,x,C;const k=S(null),w=S(null),E=S(null),D=S(null),P=S(null),q=Cs(e),T=td(U),$=y(()=>Array.isArray(e.options)?e.options.length:0),H=y(()=>e.virtualScrollItemSize===void 0?e.dense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:L,virtualScrollSliceSizeComputed:K,localResetVirtualScroll:R,padVirtualScroll:M,onVirtualScrollEvt:A,reset:z,scrollTo:W,setVirtualScrollSize:ue}=yd({virtualScrollLength:$,getVirtualScrollTarget:mo,getVirtualScrollEl:Tn,virtualScrollItemSizeComputed:H}),N=oo(),X=y(()=>{const V=e.mapOptions===!0&&e.multiple!==!0,fe=e.modelValue!==void 0&&(e.modelValue!==null||V===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const re=e.mapOptions===!0&&f!==void 0?f:[],Pe=fe.map(lt=>bn(lt,re));return e.modelValue===null&&V===!0?Pe.filter(lt=>lt!==null):Pe}return fe}),oe=y(()=>{const V={};return fp.forEach(fe=>{const re=e[fe];re!==void 0&&(V[fe]=re)}),V}),se=y(()=>e.optionsDark===null?N.isDark.value:e.optionsDark),Re=y(()=>yi(X.value)),pe=y(()=>{let V="q-field__input q-placeholder col";return e.hideSelected===!0||X.value.length===0?[V,e.inputClass]:(V+=" q-field__input--padding",e.inputClass===void 0?V:[V,e.inputClass])}),be=y(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),Ve=y(()=>$.value===0),le=y(()=>X.value.map(V=>Me.value(V)).join(", ")),ce=y(()=>e.optionsHtml===!0?()=>!0:V=>V!=null&&V.html===!0),Ge=y(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||X.value.some(ce.value))),Ue=y(()=>N.focused.value===!0?e.tabindex:-1),Ne=y(()=>({tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-owns":`${N.targetUid.value}_lb`,"aria-controls":`${N.targetUid.value}_lb`})),Bt=y(()=>{const V={id:`${N.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"};return s.value>=0&&(V["aria-activedescendant"]=`${N.targetUid.value}_${s.value}`),V}),yt=y(()=>X.value.map((V,fe)=>({index:fe,opt:V,html:ce.value(V),selected:!0,removeAtIndex:Xt,toggleOption:It,tabindex:Ue.value}))),xt=y(()=>{if($.value===0)return[];const{from:V,to:fe}=L.value;return e.options.slice(V,fe).map((re,Pe)=>{const lt=Q.value(re)===!0,Ze=V+Pe,gt={clickable:!0,active:!1,activeClass:Fe.value,manualFocus:!0,focused:!1,disable:lt,tabindex:-1,dense:e.optionsDense,dark:se.value,role:"option",id:`${N.targetUid.value}_${Ze}`,onClick:()=>{It(re)}};return lt!==!0&&(qe(re)===!0&&(gt.active=!0),s.value===Ze&&(gt.focused=!0),gt["aria-selected"]=gt.active===!0?"true":"false",l.platform.is.desktop===!0&&(gt.onMousemove=()=>{a.value===!0&&Gt(Ze)})),{index:Ze,opt:re,html:ce.value(re),label:Me.value(re),selected:gt.active,focused:gt.focused,toggleOption:It,setOptionIndex:Gt,itemProps:gt}})}),ee=y(()=>e.dropdownIcon!==void 0?e.dropdownIcon:l.iconSet.arrow.dropdown),xe=y(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Fe=y(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Ae=y(()=>Z(e.optionValue,"value")),Me=y(()=>Z(e.optionLabel,"label")),Q=y(()=>Z(e.optionDisable,"disable")),me=y(()=>X.value.map(V=>Ae.value(V))),Be=y(()=>{const V={onInput:U,onChange:T,onKeydown:sn,onKeyup:ft,onKeypress:zt,onFocus:Ye,onClick(fe){h===!0&&Ut(fe)}};return V.onCompositionstart=V.onCompositionupdate=V.onCompositionend=T,V});G(X,V=>{f=V,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&N.innerLoading.value!==!0&&(o.value!==!0&&a.value!==!0||Re.value!==!0)&&(p!==!0&&Pi(),(o.value===!0||a.value===!0)&&Ce(""))},{immediate:!0}),G(()=>e.fillInput,Pi),G(a,_o),G($,Bf);function dt(V){return e.emitValue===!0?Ae.value(V):V}function Yt(V){if(V>-1&&V<X.value.length)if(e.multiple===!0){const fe=e.modelValue.slice();n("remove",{index:V,value:fe.splice(V,1)[0]}),n("update:modelValue",fe)}else n("update:modelValue",null)}function Xt(V){Yt(V),N.focus()}function pn(V,fe){const re=dt(V);if(e.multiple!==!0){e.fillInput===!0&&ye(Me.value(V),!0,!0),n("update:modelValue",re);return}if(X.value.length===0){n("add",{index:0,value:re}),n("update:modelValue",e.multiple===!0?[re]:re);return}if(fe===!0&&qe(V)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const Pe=e.modelValue.slice();n("add",{index:Pe.length,value:re}),Pe.push(re),n("update:modelValue",Pe)}function It(V,fe){if(N.editable.value!==!0||V===void 0||Q.value(V)===!0)return;const re=Ae.value(V);if(e.multiple!==!0){fe!==!0&&(ye(e.fillInput===!0?Me.value(V):"",!0,!0),ei()),w.value!==null&&w.value.focus(),(X.value.length===0||nl(Ae.value(X.value[0]),re)!==!0)&&n("update:modelValue",e.emitValue===!0?re:V);return}if((h!==!0||u.value===!0)&&N.focus(),Ye(),X.value.length===0){const Ze=e.emitValue===!0?re:V;n("add",{index:0,value:Ze}),n("update:modelValue",e.multiple===!0?[Ze]:Ze);return}const Pe=e.modelValue.slice(),lt=me.value.findIndex(Ze=>nl(Ze,re));if(lt>-1)n("remove",{index:lt,value:Pe.splice(lt,1)[0]});else{if(e.maxValues!==void 0&&Pe.length>=e.maxValues)return;const Ze=e.emitValue===!0?re:V;n("add",{index:Pe.length,value:Ze}),Pe.push(Ze)}n("update:modelValue",Pe)}function Gt(V){if(l.platform.is.desktop!==!0)return;const fe=V>-1&&V<$.value?V:-1;s.value!==fe&&(s.value=fe)}function Wt(V=1,fe){if(a.value===!0){let re=s.value;do re=yr(re+V,-1,$.value-1);while(re!==-1&&re!==s.value&&Q.value(e.options[re])===!0);s.value!==re&&(Gt(re),W(re),fe!==!0&&e.useInput===!0&&e.fillInput===!0&&de(re>=0?Me.value(e.options[re]):m))}}function bn(V,fe){const re=Pe=>nl(Ae.value(Pe),V);return e.options.find(re)||fe.find(re)||V}function Z(V,fe){const re=V!==void 0?V:fe;return typeof re=="function"?re:Pe=>Pe!==null&&typeof Pe=="object"&&re in Pe?Pe[re]:Pe}function qe(V){const fe=Ae.value(V);return me.value.find(re=>nl(re,fe))!==void 0}function Ye(V){e.useInput===!0&&w.value!==null&&(V===void 0||w.value===V.target&&V.target.value===le.value)&&w.value.select()}function nt(V){ki(V,27)===!0&&a.value===!0&&(Ut(V),ei(),Pi()),n("keyup",V)}function ft(V){const{value:fe}=V.target;if(V.keyCode!==void 0){nt(V);return}if(V.target.value="",clearTimeout(d),Pi(),typeof fe=="string"&&fe.length>0){const re=fe.toLocaleLowerCase(),Pe=Ze=>{const gt=e.options.find(Rt=>Ze.value(Rt).toLocaleLowerCase()===re);return gt===void 0?!1:(X.value.indexOf(gt)===-1?It(gt):ei(),!0)},lt=Ze=>{Pe(Ae)!==!0&&(Pe(Me)===!0||Ze===!0||Ce(fe,!0,()=>lt(!0)))};lt()}else N.clearValue(V)}function zt(V){n("keypress",V)}function sn(V){if(n("keydown",V),us(V)===!0)return;const fe=r.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),re=V.shiftKey!==!0&&e.multiple!==!0&&(s.value>-1||fe===!0);if(V.keyCode===27){tn(V);return}if(V.keyCode===9&&re===!1){Bi();return}if(V.target===void 0||V.target.id!==N.targetUid.value)return;if(V.keyCode===40&&N.innerLoading.value!==!0&&a.value===!1){it(V),Ai();return}if(V.keyCode===8&&e.hideSelected!==!0&&r.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Yt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(V.keyCode===35||V.keyCode===36)&&(typeof r.value!="string"||r.value.length===0)&&(it(V),s.value=-1,Wt(V.keyCode===36?1:-1,e.multiple)),(V.keyCode===33||V.keyCode===34)&&K.value!==void 0&&(it(V),s.value=Math.max(-1,Math.min($.value,s.value+(V.keyCode===33?-1:1)*K.value.view)),Wt(V.keyCode===33?1:-1,e.multiple)),(V.keyCode===38||V.keyCode===40)&&(it(V),Wt(V.keyCode===38?-1:1,e.multiple));const Pe=$.value;if((x===void 0||C<Date.now())&&(x=""),Pe>0&&e.useInput!==!0&&V.key!==void 0&&V.key.length===1&&V.altKey===V.ctrlKey&&(V.keyCode!==32||x.length>0)){a.value!==!0&&Ai(V);const lt=V.key.toLocaleLowerCase(),Ze=x.length===1&&x[0]===lt;C=Date.now()+1500,Ze===!1&&(it(V),x+=lt);const gt=new RegExp("^"+x.split("").map(yo=>dp.indexOf(yo)>-1?"\\"+yo:yo).join(".*"),"i");let Rt=s.value;if(Ze===!0||Rt<0||gt.test(Me.value(e.options[Rt]))!==!0)do Rt=yr(Rt+1,-1,Pe-1);while(Rt!==s.value&&(Q.value(e.options[Rt])===!0||gt.test(Me.value(e.options[Rt]))!==!0));s.value!==Rt&&We(()=>{Gt(Rt),W(Rt),Rt>=0&&e.useInput===!0&&e.fillInput===!0&&de(Me.value(e.options[Rt]))});return}if(!(V.keyCode!==13&&(V.keyCode!==32||e.useInput===!0||x!=="")&&(V.keyCode!==9||re===!1))){if(V.keyCode!==9&&it(V),s.value>-1&&s.value<Pe){It(e.options[s.value]);return}if(fe===!0){const lt=(Ze,gt)=>{if(gt){if(zr(gt)!==!0)return}else gt=e.newValueMode;if(Ze==null)return;ye("",e.multiple!==!0,!0),(gt==="toggle"?It:pn)(Ze,gt==="add-unique"),e.multiple!==!0&&(w.value!==null&&w.value.focus(),ei())};if(e.onNewValue!==void 0?n("new-value",r.value,lt):lt(r.value),e.multiple!==!0)return}a.value===!0?Bi():N.innerLoading.value!==!0&&Ai()}}function Tn(){return h===!0?P.value:E.value!==null&&E.value.__qPortalInnerRef.value!==null?E.value.__qPortalInnerRef.value:void 0}function mo(){return Tn()}function go(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?yt.value.map(V=>t["selected-item"](V)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?yt.value.map((V,fe)=>F(md,{key:"option-"+fe,removable:N.editable.value===!0&&Q.value(V.opt)!==!0,dense:!0,textColor:e.color,tabindex:Ue.value,onRemove(){V.removeAtIndex(fe)}},()=>F("span",{class:"ellipsis",[V.html===!0?"innerHTML":"textContent"]:Me.value(V.opt)}))):[F("span",{[Ge.value===!0?"innerHTML":"textContent"]:e.displayValue!==void 0?e.displayValue:le.value})]}function Gl(){if(Ve.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:r.value}):void 0;const V=t.option!==void 0?t.option:re=>F(je,O({key:re.index},re.itemProps),()=>F(ge,()=>F(jt,()=>F("span",{[re.html===!0?"innerHTML":"textContent"]:re.label}))));let fe=M("div",xt.value.map(V));return t["before-options"]!==void 0&&(fe=t["before-options"]().concat(fe)),on(t["after-options"],fe)}function po(V,fe){const re=fe===!0?O(O({},Ne.value),N.splitAttrs.attributes.value):void 0,Pe=O(te(O({ref:fe===!0?w:void 0,key:"i_t",class:pe.value,style:e.inputStyle,value:r.value!==void 0?r.value:"",type:"search"},re),{id:fe===!0?N.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":V!==!0&&e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0}),Be.value);return V!==!0&&h===!0&&(Array.isArray(Pe.class)===!0?Pe.class=[...Pe.class,"no-pointer-events"]:Pe.class+=" no-pointer-events"),F("input",Pe)}function U(V){clearTimeout(d),!(V&&V.target&&V.target.composing===!0)&&(de(V.target.value||""),p=!0,m=r.value,N.focused.value!==!0&&(h!==!0||u.value===!0)&&N.focus(),e.onFilter!==void 0&&(d=setTimeout(()=>{Ce(r.value)},e.inputDebounce)))}function de(V){r.value!==V&&(r.value=V,n("input-value",V))}function ye(V,fe,re){p=re!==!0,e.useInput===!0&&(de(V),(fe===!0||re!==!0)&&(m=V),fe!==!0&&Ce(V))}function Ce(V,fe,re){if(e.onFilter===void 0||fe!==!0&&N.focused.value!==!0)return;N.innerLoading.value===!0?n("filter-abort"):(N.innerLoading.value=!0,c.value=!0),V!==""&&e.multiple!==!0&&X.value.length>0&&p!==!0&&V===Me.value(X.value[0])&&(V="");const Pe=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);clearTimeout(g),g=Pe,n("filter",V,(lt,Ze)=>{(fe===!0||N.focused.value===!0)&&g===Pe&&(clearTimeout(g),typeof lt=="function"&&lt(),c.value=!1,We(()=>{N.innerLoading.value=!1,N.editable.value===!0&&(fe===!0?a.value===!0&&ei():a.value===!0?_o(!0):a.value=!0),typeof Ze=="function"&&We(()=>{Ze(i)}),typeof re=="function"&&We(()=>{re(i)})}))},()=>{N.focused.value===!0&&g===Pe&&(clearTimeout(g),N.innerLoading.value=!1,c.value=!1),a.value===!0&&(a.value=!1)})}function ze(){return F(Mn,te(O({ref:E,class:be.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&Ve.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:se.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:xe.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0},Bt.value),{onScrollPassive:A,onBeforeShow:tr,onBeforeHide:ht,onShow:rt}),Gl)}function ht(V){nr(V),Bi()}function rt(){ue()}function rn(V){Ut(V),w.value!==null&&w.value.focus(),u.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Mt(V){Ut(V),We(()=>{u.value=!1})}function Fi(){const V=[F(sp,te(O(te(O({class:`col-auto ${N.fieldClass.value}`},oe.value),{for:N.targetUid.value,dark:se.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:r.value.length>0}),N.splitAttrs.listeners.value),{onFocus:rn,onBlur:Mt}),te(O({},t),{rawControl:()=>N.getControl(!0),before:void 0,after:void 0}))];return a.value===!0&&V.push(F("div",te(O({ref:P,class:be.value+" scroll",style:e.popupContentStyle},Bt.value),{onClick:tn,onScrollPassive:A}),Gl())),F(Kt,{ref:D,modelValue:o.value,position:e.useInput===!0?"top":void 0,transitionShow:b,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:tr,onBeforeHide:Di,onHide:bo,onShow:Df},()=>F("div",{class:"q-select__dialog"+(se.value===!0?" q-select__dialog--dark q-dark":"")+(u.value===!0?" q-select__dialog--focused":"")},V))}function Di(V){nr(V),D.value!==null&&D.value.__updateRefocusTarget(N.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),N.focused.value=!1}function bo(V){ei(),N.focused.value===!1&&n("blur",V),Pi()}function Df(){const V=document.activeElement;(V===null||V.id!==N.targetUid.value)&&w.value!==null&&w.value!==V&&w.value.focus(),ue()}function Bi(){o.value!==!0&&(s.value=-1,a.value===!0&&(a.value=!1),N.focused.value===!1&&(clearTimeout(g),g=void 0,N.innerLoading.value===!0&&(n("filter-abort"),N.innerLoading.value=!1,c.value=!1)))}function Ai(V){N.editable.value===!0&&(h===!0?(N.onControlFocusin(V),o.value=!0,We(()=>{N.focus()})):N.focus(),e.onFilter!==void 0?Ce(r.value):(Ve.value!==!0||t["no-option"]!==void 0)&&(a.value=!0))}function ei(){o.value=!1,Bi()}function Pi(){e.useInput===!0&&ye(e.multiple!==!0&&e.fillInput===!0&&X.value.length>0&&Me.value(X.value[0])||"",!0,!0)}function _o(V){let fe=-1;if(V===!0){if(X.value.length>0){const re=Ae.value(X.value[0]);fe=e.options.findIndex(Pe=>nl(Ae.value(Pe),re))}R(fe)}Gt(fe)}function Bf(){a.value===!0&&N.innerLoading.value===!1&&(z(),We(()=>{a.value===!0&&N.innerLoading.value===!1&&_o(!0)}))}function er(){o.value===!1&&E.value!==null&&E.value.updatePosition()}function tr(V){V!==void 0&&Ut(V),n("popup-show",V),N.hasPopupOpen=!0,N.onControlFocusin(V)}function nr(V){V!==void 0&&Ut(V),n("popup-hide",V),N.hasPopupOpen=!1,N.onControlFocusout(V)}function ir(){h=l.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||Ve.value===!1:!0),b=l.platform.is.ios===!0&&h===!0&&e.useInput===!0?"fade":e.transitionShow}return fc(ir),ih(er),ir(),Xe(()=>{clearTimeout(d)}),Object.assign(i,{showPopup:Ai,hidePopup:ei,removeAtIndex:Yt,add:pn,toggleOption:It,getOptionIndex:()=>s.value,setOptionIndex:Gt,moveOptionSelection:Wt,filter:Ce,updateMenuPosition:er,updateInputValue:ye,isOptionSelected:qe,getEmittingOptionValue:dt,isOptionDisabled:(...V)=>Q.value.apply(null,V)===!0,getOptionValue:(...V)=>Ae.value.apply(null,V),getOptionLabel:(...V)=>Me.value.apply(null,V)}),Object.assign(N,{innerValue:X,fieldClass:y(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:k,targetRef:w,hasValue:Re,showPopup:Ai,floatingLabel:y(()=>(e.hideSelected===!0?r.value.length>0:Re.value===!0)||yi(e.displayValue)),getControlChild:()=>{if(N.editable.value!==!1&&(o.value===!0||Ve.value!==!0||t["no-option"]!==void 0))return h===!0?Fi():ze();N.hasPopupOpen===!0&&(N.hasPopupOpen=!1)},controlEvents:{onFocusin(V){N.onControlFocusin(V)},onFocusout(V){N.onControlFocusout(V,()=>{Pi(),Bi()})},onClick(V){if(tn(V),h!==!0&&a.value===!0){Bi(),w.value!==null&&w.value.focus();return}Ai(V)}},getControl:V=>{const fe=go(),re=V===!0||o.value!==!0||h!==!0;if(e.useInput===!0)fe.push(po(V,re));else if(N.editable.value===!0){const lt=re===!0?Ne.value:void 0;fe.push(F("input",te(O({ref:re===!0?w:void 0,key:"d_t",class:"q-select__focus-target",id:re===!0?N.targetUid.value:void 0,readonly:!0},lt),{onKeydown:sn,onKeyup:nt,onKeypress:zt}))),re===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&fe.push(F("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:ft}))}if(q.value!==void 0&&e.disable!==!0&&me.value.length>0){const lt=me.value.map(Ze=>F("option",{value:Ze,selected:!0}));fe.push(F("select",{class:"hidden",name:q.value,multiple:e.multiple},lt))}const Pe=e.useInput===!0||re!==!0?void 0:N.splitAttrs.attributes.value;return F("div",O({class:"q-field__native row items-center"},Pe),fe)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[F(ve,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:ee.value})]:null}),so(N)}});const hp={style:{color:"#f27474","font-weight":"bold"}},vp={class:"q-ma-sm"},mp={class:"text-body-2 text-grey-6"},gp={class:"flex justify-between items-center"},pp={class:"flex",style:{"column-gap":"8px"}},bp={key:1,style:{display:"flex","align-items":"center",zoom:"1.3",height:"16px"}},Ss=Ee({__name:"IllustCardPixiv",props:{detail:{},index:{},height:{},selected:{type:Boolean},unselectable:{type:Boolean},score:{}},emits:["update:select"],setup(e,{emit:t}){const n=e,i=Gn();function l(){Ot({component:"IllustDetailPixiv",title:`Pixiv/${n.detail.iid}`,props:{iid:n.detail.iid}},!0)}function a(){Ot({component:"PixivUserDetail",title:"User:"+n.detail.user.name,props:{uid:n.detail.user.uid}})}const o=()=>{for(let r=0;r<n.detail.tags.length;r++)if(n.detail.tags[r].name.toLowerCase().includes("ai"))return!0};function s(){return!(!i.h_switch&&n.detail.x_restrict)}return(r,u)=>(I(),ie(ke,{class:"shadow-3",style:{"padding-bottom":"1px"}},{default:_(()=>[v(je,null,{default:_(()=>[v(ge,null,{default:_(()=>[r.score!==void 0?(I(),ie(jt,{key:0},{default:_(()=>[v(pt,null,{default:_(()=>[v(ve,{name:"check"}),j(Y(r.score),1)]),_:1}),v(Oe,null,{default:_(()=>[j("\u6A21\u7CCA\u5339\u914D\u7684\u5206\u6570")]),_:1})]),_:1})):Se("",!0),v(jt,{onClick:l,class:"cursor-pointer",style:{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},{default:_(()=>[j(Y(r.detail.title)+" ",1),v(Oe,null,{default:_(()=>[j(Y(r.detail.title),1)]),_:1})]),_:1}),v(jt,{onClick:a,caption:"",class:"cursor-pointer"},{default:_(()=>[r.detail.user.is_followed?(I(),ie(ve,{key:0,name:"how_to_reg",style:{"font-size":"18px","font-weight":"bold",color:"#81f3c4"}})):Se("",!0),j(" by "),B("span",hp,Y(r.detail.user.name),1)]),_:1})]),_:1}),r.unselectable?Se("",!0):(I(),ie(ge,{key:0,side:"",top:""},{default:_(()=>[v(zn,{"model-value":r.selected,"onUpdate:modelValue":u[0]||(u[0]=c=>r.$emit("update:select",c))},null,8,["model-value"])]),_:1}))]),_:1}),s()?(I(),ie(xn,{key:0,class:"ani-img",loading:"lazy",alt:ne(Pa),src:r.detail.visible?ne(jn)+r.detail.image_medium[0]:ne(lh),fit:"cover",height:r.height,"placeholder-src":ne(pl),onClick:l},null,8,["alt","src","height","placeholder-src"])):(I(),ie(xn,{key:1,src:ne(pc),fit:"cover",height:r.height},null,8,["src","height"])),B("div",vp,[B("div",null,[B("div",mp," / iid = "+Y(r.detail.iid)+" / uid = "+Y(r.detail.user.uid),1),B("div",gp,[B("div",pp,[r.detail.visible?Se("",!0):(I(),ie(pt,{key:0,rounded:"",color:"grey"},{default:_(()=>[v(ve,{name:"sentiment_dissatisfied"}),j(" \u5DF2\u5931\u6548 ")]),_:1})),r.detail.is_bookmarked?(I(),J("span",bp,[v(ve,{name:"favorite",style:{color:"#f2361d"}})])):Se("",!0),r.detail.page_count!=1?(I(),ie(pt,{key:2},{default:_(()=>[v(ve,{name:"photo_library",style:{"margin-right":"3px"}}),j(" "+Y(r.detail.page_count),1)]),_:1})):Se("",!0),v(pt,null,{default:_(()=>[v(ve,{name:"bookmarks",style:{"margin-right":"3px"}}),j(" "+Y(r.detail.total_bookmarks),1)]),_:1}),he(v(pt,{rounded:"",color:"red"},{default:_(()=>[j(Y(r.detail.x_restrict==1?"R-18":"R-18G"),1)]),_:1},512),[[Ke,r.detail.x_restrict]]),he(v(pt,{color:"secondary"},{default:_(()=>[v(Oe,null,{default:_(()=>[j("\u4EC5\u4F9B\u53C2\u8003")]),_:1}),j("AI")]),_:1},512),[[Ke,o()]])]),v(pt,{outline:"",color:"teal","text-color":"black"},{default:_(()=>[j(Y(r.index+1),1)]),_:1})])])])]),_:1}))}});const _p=Ee({__name:"GotoTop",setup(e){const t=S(null),n=S(!1);function i(a){a.position.top>100?n.value=!0:n.value=!1}function l(){t.value!==null&&t.value.scrollIntoView({block:"start",behavior:"smooth"})}return(a,o)=>(I(),J(Te,null,[B("div",{class:"top-anchor",ref_key:"topAnchor",ref:t},null,512),v(xs,{onScroll:i}),v(Dt,{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"},{default:_(()=>[he(v(ae,{onClick:l,style:{position:"fixed",right:"10px",bottom:"75px","z-index":"5"},color:"primary"},{default:_(()=>[v(ve,{name:"arrow_upward"})]),_:1},512),[[Ke,n.value]])]),_:1})],64))}});var tl=mt(_p,[["__scopeId","data-v-16e2f5be"]]);const yp=["top","right","bottom","left"],xd={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>yp.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function wd(e,t){return{formClass:y(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:y(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:y(()=>{if(e.externalLabel===!0){const n=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(n===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const kd={start:"self-end",center:"self-center",end:"self-start"},xp=Object.keys(kd);var Nt=_e({name:"QFabAction",props:te(O({},xd),{icon:{type:String,default:""},anchor:{type:String,validator:e=>xp.includes(e)},to:[String,Object],replace:Boolean}),emits:["click"],setup(e,{slots:t,emit:n}){const i=Kn(bc,()=>({showing:{value:!0},onChildClick:Hn})),{formClass:l,labelProps:a}=wd(e,i.showing),o=y(()=>{const d=kd[e.anchor];return l.value+(d!==void 0?` ${d}`:"")}),s=y(()=>e.disable===!0||i.showing.value!==!0);function r(d){i.onChildClick(d),n("click",d)}function u(){const d=[];return t.icon!==void 0?d.push(t.icon()):e.icon!==""&&d.push(F(ve,{name:e.icon})),(e.label!==""||t.label!==void 0)&&d[a.value.action](F("div",a.value.data,t.label!==void 0?t.label():[e.label])),on(t.default,d)}const c=we();return Object.assign(c.proxy,{click:r}),()=>F(ae,te(O({class:o.value},e),{noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:s.value,onClick:r}),u)}});const wp=["up","right","down","left"],kp=["left","center","right"];var Cd=_e({name:"QFab",props:te(O(O({},xd),Xi),{icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>wp.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>kp.includes(e)}}),emits:Gi,setup(e,{slots:t}){const n=S(null),i=S(e.modelValue===!0),{proxy:{$q:l}}=we(),{formClass:a,labelProps:o}=wd(e,i),s=y(()=>e.persistent!==!0),{hide:r,toggle:u}=Zi({showing:i,hideOnRouteChange:s}),c=y(()=>({opened:i.value})),d=y(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${a.value}`+(i.value===!0?" q-fab--opened":" q-fab--closed")),f=y(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${i.value===!0?"opened":"closed"}`),h=y(()=>`q-fab__icon-holder  q-fab__icon-holder--${i.value===!0?"opened":"closed"}`);function p(m,b){const x=t[m],C=`q-fab__${m} absolute-full`;return x===void 0?F(ve,{class:C,name:e[b]||l.iconSet.fab[b]}):F("div",{class:C},x(c.value))}function g(){const m=[];return e.hideIcon!==!0&&m.push(F("div",{class:h.value},[p("icon","icon"),p("active-icon","activeIcon")])),(e.label!==""||t.label!==void 0)&&m[o.value.action](F("div",o.value.data,t.label!==void 0?t.label(c.value):[e.label])),on(t.tooltip,m)}return $l(bc,{showing:i,onChildClick(m){r(m),n.value!==null&&n.value.$el.focus()}}),()=>F("div",{class:d.value},[F(ae,te(O({ref:n,class:a.value},e),{noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":i.value===!0?"true":"false","aria-haspopup":"true",onClick:u}),g),F("div",{class:f.value},Ie(t.default))])}});function Nr(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var fn=to({name:"close-popup",beforeMount(e,{value:t}){const n={depth:Nr(t),handler(i){n.depth!==0&&setTimeout(()=>{const l=tv(e);l!==void 0&&nv(l,i,n.depth)})},handlerKey(i){ki(i,13)===!0&&n.handler(i)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=Nr(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const Cp=Ee({__name:"PixivIllustToolbar",props:{modelValue:{},details:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=S([]),l=S(!1);function a(){In().then(g=>{i.value=g})}let o={};G(()=>n.details,()=>{o={};for(let g of n.details)o[g.iid]=g});function s(g){let m=[];for(let b of n.modelValue){const x=o[b].page_count;if(x!==void 0){let C=[];for(let k=0;k<x;k++)C.push(k);m.push(ci(g,b,C))}}Promise.all(m).then(()=>{Le({level:"success",msg:"\u6DFB\u52A0\u4E86 "+m.length+" \u6761\u6536\u85CF\u5230 "+g})})}function r(){t("update:modelValue",[])}function u(){let g=[];for(let m of n.details.map(b=>b.iid))n.modelValue.indexOf(m)==-1&&g.push(m);t("update:modelValue",g)}function c(){ah(n.modelValue).then(()=>{Le({level:"info",msg:"\u6DFB\u52A0\u4E86 "+n.modelValue.length+" \u6761\u4E0B\u8F7D\u5230\u4E34\u65F6\u4E0B\u8F7D\u76EE\u5F55"})})}const d=S(!1),f=S(!1);function h(){d.value=!0;let g=[];for(let m of n.modelValue)o[m]!==void 0&&(o[m].is_bookmarked==!1?g.push(m):Le({level:"warning",msg:`${m} - ${o[m].title} \u5DF2\u88AB\u6536\u85CF`}));vs(g).then(()=>{d.value=!1,Le({level:"success",msg:`\u6536\u85CF\u4E86 ${g.length} \u5F20\u63D2\u753B`})})}function p(){f.value=!0;let g=[];for(let m of n.modelValue)o[m]!==void 0&&(o[m].is_bookmarked==!0?g.push(m):Le({level:"warning",msg:`${m} - ${o[m].title} \u672A\u88AB\u6536\u85CF`}));ms(g).then(()=>{f.value=!1,Le({level:"success",msg:`\u53D6\u6D88\u6536\u85CF\u4E86 ${g.length} \u5F20\u63D2\u753B`})})}return(g,m)=>(I(),ie(Dt,{appear:"","enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutLeft"},{default:_(()=>[g.modelValue.length>0?(I(),ie(Cd,{key:0,color:"primary",icon:"keyboard_arrow_down",direction:"down",label:`\u9009\u4E2D ${g.modelValue.length} \u9879`,class:"db-toolbar",square:"","vertical-actions-align":"left",style:{"backdrop-filter":"blur(7px)"},persistent:"",modelValue:l.value,"onUpdate:modelValue":m[6]||(m[6]=b=>l.value=b)},{default:_(()=>[v(Nt,{color:"primary",square:"",onClick:r,label:"\u53D6\u6D88\u9009\u62E9","external-label":"",icon:"cancel"}),v(Nt,{color:"primary",label:"\u6DFB\u52A0\u5230","external-label":"",icon:"add_to_photos",square:"",onClick:m[0]||(m[0]=b=>{a(),l.value=!0})},{default:_(()=>[v(Mn,null,{default:_(()=>[v(dn,null,{default:_(()=>[(I(!0),J(Te,null,ut(i.value,b=>he((I(),ie(je,{key:b,clickable:"",onClick:x=>s(b)},{default:_(()=>[v(ge,null,{default:_(()=>[j(Y(b),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[fn]])),128))]),_:1})]),_:1})]),_:1}),v(Nt,{color:"primary",square:"",label:"\u5168\u9009","external-label":"",icon:"select_all",onClick:m[1]||(m[1]=b=>{g.$emit("update:modelValue",g.details.map(x=>x.iid)),l.value=!0})}),v(Nt,{color:"primary",square:"",label:"\u53CD\u9009","external-label":"",icon:"tab_unselected",onClick:m[2]||(m[2]=b=>{u(),l.value=!0})}),v(Nt,{color:"primary",square:"",label:"\u6536\u85CF","external-label":"",icon:"bookmark_add",onClick:m[3]||(m[3]=b=>{h(),l.value=!0}),loading:d.value},null,8,["loading"]),v(Nt,{color:"primary",square:"",label:"\u53D6\u6D88\u6536\u85CF","external-label":"",icon:"bookmark_remove",onClick:m[4]||(m[4]=b=>{p(),l.value=!0}),loading:f.value},null,8,["loading"]),v(Nt,{color:"primary",square:"",label:"\u4E0B\u8F7D","external-label":"",icon:"file_download",onClick:m[5]||(m[5]=b=>{c(),l.value=!0})})]),_:1},8,["label","modelValue"])):Se("",!0)]),_:1}))}});var Sd=mt(Cp,[["__scopeId","data-v-1975c2b8"]]);const Sp={class:"row q-col-gutter-sm q-ma-md",style:{"margin-top":"45px"}},Es=Ee({__name:"IllustListPixiv",props:{illusts:{},scores:{}},setup(e){const t=S([]);return(n,i)=>(I(),J(Te,null,[v(el,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=l=>t.value=l)},{default:_(({toggle:l,getState:a})=>[B("div",Sp,[v(Yn,{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"},{default:_(()=>[(I(!0),J(Te,null,ut(n.illusts,(o,s)=>(I(),J("div",{class:"col-md-3 col-sm-6 col-xs-12 col-lg-2",key:o.iid},[v(Ss,{"onUpdate:select":r=>l(o.iid,r),detail:o,index:s,selected:a(o.iid),height:"300px",score:n.scores===void 0||n.scores[s]==-1?void 0:n.scores[s].toFixed(2)},null,8,["onUpdate:select","detail","index","selected","score"])]))),128))]),_:2},1024)])]),_:1},8,["modelValue"]),v(Sd,{modelValue:t.value,"onUpdate:modelValue":i[1]||(i[1]=l=>t.value=l),details:n.illusts},null,8,["modelValue","details"]),v(tl)],64))}});const Ep=e=>(kn("data-v-aba750a8"),e=e(),Cn(),e),Fp={class:"q-ma-md"},Dp={class:"text-h4"},Bp={class:"text-h6 text-medium-emphasis"},Ap={class:"col-2 q-ma-md absolute-right"},Pp={style:{"margin-left":"10px"}},Mp={class:"row justify-center"},qp={class:"col-md-8 col-lg-7 col-sm-12 col-xs-12"},Tp={class:"row justify-center"},Vp={class:"col-6"},$p={class:"col-6"},Lp={class:"col-md-3 col-lg-4 col-sm-12 col-xs-12"},Rp={key:1},Op={class:"text-h4 q-ma-md"},Ip=Ep(()=>B("div",{class:"q-ma-md text-h6"},"\u76F8\u5173\u63D2\u753B",-1)),zp={class:"row q-ma-lg"},Np={class:"col-12 q-mb-md"},Hp=Ee({__name:"IllustDetailPixiv",props:{iid:{}},emits:["updateProps","updateTitle"],setup(e,{emit:t}){const n=e,i=S(null),l=C=>{i.value.onPreview(C)},a=["original","large","medium","square_medium"],o=S(),s=S([]),r=S(),u=S(),c=S([]);De(()=>{t("updateTitle","Pixiv/"+n.iid),ds("fallback_image_size").then(C=>{r.value=C}),oh(n.iid).then(C=>{o.value=C,t("updateTitle","Pixiv/"+C.title)}),In().then(C=>{c.value=C})});const d=ui(()=>o.value===void 0?[pl]:o.value.image_origin),f=ui(()=>r.value===void 0||o.value===void 0?[pl]:r.value=="original"?o.value.image_origin:r.value=="large"?o.value.image_large:r.value=="medium"?o.value.image_medium:r.value=="square_medium"?o.value.image_sqmedium:[pl]);G(u,C=>{C!==void 0&&gc(C,n.iid).then(k=>{k==null?s.value=[]:s.value=k.pages})}),G(s,()=>{if(s.value===void 0)throw Error("selectedPage \u4E3A undefined");u.value!==void 0&&ci(u.value,n.iid,s.value)});const h=S([]),p=S();De(()=>{sh(n.iid).then(C=>{p.value=C})}),Ci(()=>{p.value!==void 0&&p.value.throw!==void 0&&p.value.throw(new bi)});const g=S(!1);function m(){p.value!==void 0&&(g.value=!0,p.value.next().then(C=>{if(C.done){p.value=void 0,Le({level:"info",msg:"\u5DF2\u52A0\u8F7D\u6240\u6709\u63D2\u753B"});return}h.value=h.value.concat(C.value),g.value=!1}))}const b=S(!1);function x(){o.value!==void 0&&(o.value.is_bookmarked?(b.value=!0,ms([n.iid]).then(()=>{Le({level:"success",msg:`\u4ECE Pixiv \u6536\u85CF\u5220\u9664 ${n.iid}`}),b.value=!1,o.value!==void 0&&(o.value.is_bookmarked=!1)}).catch(()=>{b.value=!1})):(b.value=!0,vs([n.iid]).then(()=>{Le({level:"success",msg:`\u6DFB\u52A0 ${n.iid} \u5230 Pixiv \u6536\u85CF`}),b.value=!1,o.value!==void 0&&(o.value.is_bookmarked=!0)}).catch(()=>{b.value=!1})))}return(C,k)=>(I(),J(Te,null,[o.value!==void 0?(I(),ie(ke,{key:0,class:"q-ma-sm",style:{"margin-top":"50px"}},{default:_(()=>[B("div",Fp,[B("span",Dp,Y(o.value.title),1),B("span",Bp," / iid = "+Y(o.value.iid),1),B("div",Ap,[v(ae,{onClick:x,loading:b.value,color:"primary"},{default:_(()=>[o.value.is_bookmarked?(I(),ie(ve,{key:0,name:"favorite",style:{color:"#f2361d"}})):(I(),ie(ve,{key:1,name:"favorite_border"})),B("span",Pp,Y(o.value.is_bookmarked?"\u53D6\u6D88\u6536\u85CF":"\u6536\u85CF"),1)]),_:1},8,["loading"])])]),B("div",Mp,[B("div",qp,[v(ke,{class:"q-ma-sm"},{default:_(()=>[B("div",Tp,[B("div",Vp,[v(wn,{options:a,modelValue:r.value,"onUpdate:modelValue":k[0]||(k[0]=w=>r.value=w),label:"\u9009\u62E9\u56FE\u7247\u8D28\u91CF",dense:"",class:"q-ma-sm"},null,8,["modelValue"])]),B("div",$p,[v(wn,{class:"q-ma-sm",options:c.value,modelValue:u.value,"onUpdate:modelValue":k[1]||(k[1]=w=>u.value=w),label:"\u9009\u62E9\u672C\u5730\u6536\u85CF\u5939",dense:""},null,8,["options","modelValue"])])])]),_:1}),v(fd,{modelValue:s.value,"onUpdate:modelValue":k[2]||(k[2]=w=>s.value=w),iid:C.iid,"page-count":o.value.page_count,disabled:u.value===void 0,"image-src-list":ne(f),onOnPreview:l},null,8,["modelValue","iid","page-count","disabled","image-src-list"]),v(vd,{ref_key:"imgPreviewRef_pixiv",ref:i,width:400,height:300,zoomRatio:.1,minZoomScale:.8,resetOnDbclick:"",maxZoomScale:5,src:ne(d)},null,8,["src"]),v(id,{detail:o.value},null,8,["detail"]),v(ld,{detail:o.value},null,8,["detail"])]),B("div",Lp,[v(ad,{detail:o.value},null,8,["detail"]),v(od,{user:o.value.user},null,8,["user"])])])]),_:1})):Se("",!0),o.value===void 0?(I(),J("div",Rp,[v(qn,{indeterminate:""}),B("span",Op," Pixiv / iid = "+Y(n.iid),1)])):Se("",!0),v(ke,{class:"q-ma-sm"},{default:_(()=>[Ip,v(Es,{illusts:h.value},null,8,["illusts"]),he(B("div",zp,[B("div",Np,[v(ae,{onClick:m,color:"primary float-right",stretch:"",loading:g.value},{default:_(()=>[j("\u4E0B\u4E00\u9875")]),_:1},8,["loading"])])],512),[[Ke,p.value!==void 0]])]),_:1})],64))}});var jp=mt(Hp,[["__scopeId","data-v-aba750a8"]]),Fs=_e({name:"QPagination",props:te(O({},bt),{modelValue:{type:Number,required:!0},min:{type:Number,default:1},max:{type:Number,required:!0},color:{type:String,default:"primary"},textColor:String,activeColor:String,activeTextColor:String,inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},maxPages:{type:Number,default:0,validator:e=>e>=0},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,dense:Boolean,padding:{type:String,default:"3px 2px"}}),emits:["update:modelValue"],setup(e,{emit:t}){const{proxy:n}=we(),{$q:i}=n,l=_t(e,i),a=S(null),o=y({get:()=>e.modelValue,set:E=>{if(E=parseInt(E,10),e.disable||isNaN(E))return;const D=Tt(E,e.min,e.max);e.modelValue!==D&&t("update:modelValue",D)}});G(()=>e.min+e.max,()=>{o.value=e.modelValue});function s(E,D){return[!0,!1].includes(E)?E:D}const r=y(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),u=y(()=>o.value+" / "+e.max),c=y(()=>s(e.boundaryLinks,e.input)),d=y(()=>s(e.boundaryNumbers,!e.input)),f=y(()=>s(e.directionLinks,e.input)),h=y(()=>s(e.ellipses,!e.input)),p=y(()=>{const E=[e.iconFirst||i.iconSet.pagination.first,e.iconPrev||i.iconSet.pagination.prev,e.iconNext||i.iconSet.pagination.next,e.iconLast||i.iconSet.pagination.last];return i.lang.rtl===!0?E.reverse():E}),g=y(()=>e.disable===!0?{"aria-disabled":"true"}:{}),m=y(()=>({round:e.round,rounded:e.rounded,outline:e.outline,unelevated:e.unelevated,push:e.push,glossy:e.glossy,dense:e.dense,padding:e.padding,color:e.color,flat:!0,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),b=y(()=>({flat:e.flat,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor}));function x(E){o.value=E}function C(E){o.value=o.value+E}function k(){o.value=a.value,a.value=null}function w(E,D){const P=O(O({},m.value),E);return D!==void 0&&(e.toFn!==void 0?P.to=e.toFn(D):P.onClick=()=>x(D)),F(ae,P)}return Object.assign(n,{set:x,setByOffset:C}),()=>{const E=[],D=[],P=[];if(c.value&&(E.push(w({key:"bls",disable:e.disable||e.modelValue<=e.min,icon:p.value[0]},e.min)),D.unshift(w({key:"ble",disable:e.disable||e.modelValue>=e.max,icon:p.value[3]},e.max))),f.value&&(E.push(w({key:"bdp",disable:e.disable||e.modelValue<=e.min,icon:p.value[1]},e.modelValue-1)),D.unshift(w({key:"bdn",disable:e.disable||e.modelValue>=e.max,icon:p.value[2]},e.modelValue+1))),e.input===!0)P.push(F($t,{class:"inline",style:{width:`${u.value.length/1.5}em`},type:"number",dense:!0,value:a.value,disable:e.disable,dark:l.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:u.value,min:e.min,max:e.max,"onUpdate:modelValue"(q){a.value=q},onKeyup(q){ki(q,13)===!0&&k()},onBlur:k}));else{let q=Math.max(e.maxPages,1+(h.value?2:0)+(d.value?2:0)),T=e.min,$=e.max,H=!1,L=!1,K=!1,R=!1;e.maxPages&&q<e.max-e.min+1&&(q=1+Math.floor(q/2)*2,T=Math.max(e.min,Math.min(e.max-q+1,e.modelValue-Math.floor(q/2))),$=Math.min(e.max,T+q-1),d.value&&(K=!0,T+=1),h.value&&T>e.min+(d.value?1:0)&&(H=!0,T+=1),d.value&&(R=!0,$-=1),h.value&&$<e.max-(d.value?1:0)&&(L=!0,$-=1));const M={minWidth:`${Math.max(2,String(e.max).length)}em`};if(K){const A=e.min===e.modelValue;E.push(w(O({key:"bns",style:M,disable:e.disable,flat:!A,label:e.min},A?b.value:{}),e.min))}if(R){const A=e.max===e.modelValue;D.unshift(w(O({key:"bne",style:M,disable:e.disable,flat:!A,label:e.max},A?b.value:{}),e.max))}H&&E.push(w({key:"bes",style:M,disable:e.disable,label:"\u2026",ripple:!1},T-1)),L&&D.unshift(w({key:"bee",style:M,disable:e.disable,label:"\u2026",ripple:!1},$+1));for(let A=T;A<=$;A++){const z={key:`bpg${A}`,style:M,disable:e.disable,label:A};A===e.modelValue&&Object.assign(z,b.value),P.push(w(z,A))}}return F("div",O({class:r.value},g.value),[E,F("div",{class:"row justify-center"},[P]),D])}}});const Wp={style:{color:"#f27474","font-weight":"bold"}},Up={class:"q-ma-sm"},Qp={class:"text-body-2 text-grey-6"},Kp={class:"flex justify-between items-center"},Yp={class:"flex",style:{"column-gap":"8px"}},Xp={key:1,style:{display:"flex","align-items":"center",zoom:"1.3",height:"16px"}},Ds=Ee({__name:"IllustCardLocal",props:{dbName:{},iid:{},selected:{type:Boolean},page:{},index:{},height:{},displayedPage:{},score:{}},emits:["update:select"],setup(e,{emit:t}){const n=e,i=Gn(),l=S(!1),a=S(""),o=S(""),s=S(-1),r=S(1),u=S(""),c=S(!0),d=S(!1),f=S(),h=S(),p=S({});function g(){l.value||(l.value=!0,mc(n.dbName,n.iid).then(w=>{if(w===null){a.value="Unknown",o.value="Unknown",s.value=-1,u.value=Pa;return}f.value=w.is_bookmarked,h.value=w.x_restrict,p.value=w.tags,c.value=w.visible,a.value=w.title,o.value=w.user.name,d.value=w.user.is_followed,s.value=w.user.uid,r.value=w.page_count,n.displayedPage===void 0?u.value=`/ilstdbimage/${n.dbName}/${n.iid}/0`:u.value=`/ilstdbimage/${n.dbName}/${n.iid}/${n.displayedPage}`}))}De(g);function m(){Ot({component:"IllustDetailLocal",title:`${n.dbName}/${n.iid}`,props:{dbName:n.dbName,iid:n.iid}},!0)}function b(){Ot({component:"IllustQueryLocal",title:n.dbName,props:{dbName:n.dbName,initialQueryString:"-U "+s.value}},!0)}function x(w){t("update:select",w)}const C=()=>{if(p.value){for(let w=0;w<Object.values(p.value).length;w++)if(Object.values(p.value)[w].name.toLowerCase().includes("ai"))return!0}};function k(){return!(!i.h_switch&&h.value)}return(w,E)=>(I(),ie(ke,{class:"shadow-3",style:{"padding-bottom":"1px"}},{default:_(()=>[v(je,null,{default:_(()=>[v(ge,null,{default:_(()=>[w.score!==void 0?(I(),ie(jt,{key:0},{default:_(()=>[v(pt,null,{default:_(()=>[v(ve,{name:"check"}),j(Y(w.score),1)]),_:1}),v(Oe,null,{default:_(()=>[j("\u6A21\u7CCA\u5339\u914D\u7684\u5206\u6570")]),_:1})]),_:1})):Se("",!0),v(jt,{onClick:m,class:"cursor-pointer",style:{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},{default:_(()=>[j(Y(a.value)+" ",1),v(Oe,null,{default:_(()=>[j(Y(a.value),1)]),_:1})]),_:1}),v(jt,{onClick:b,caption:"",class:"cursor-pointer"},{default:_(()=>[d.value?(I(),ie(ve,{key:0,name:"how_to_reg",style:{"font-size":"18px","font-weight":"bold",color:"#81f3c4"}})):Se("",!0),j(" by "),B("span",Wp,Y(o.value),1)]),_:1})]),_:1}),v(ge,{side:"",top:""},{default:_(()=>[v(zn,{"model-value":w.selected,"onUpdate:modelValue":x},null,8,["model-value"])]),_:1})]),_:1}),k()?(I(),ie(xn,{key:0,class:"ani-img",loading:"lazy",alt:ne(Pa),src:u.value,fit:"cover",height:w.height,"placeholder-src":ne(pl),onClick:m},null,8,["alt","src","height","placeholder-src"])):(I(),ie(xn,{key:1,src:ne(pc),fit:"cover",height:w.height,onClick:m},null,8,["src","height"])),B("div",Up,[B("div",null,[B("div",Qp," / iid = "+Y(w.iid)+" / uid = "+Y(s.value),1),B("div",Kp,[B("div",Yp,[c.value?Se("",!0):(I(),ie(pt,{key:0,rounded:"",color:"grey"},{default:_(()=>[v(ve,{name:"sentiment_dissatisfied"}),j(" \u5DF2\u5931\u6548 ")]),_:1})),f.value?(I(),J("span",Xp,[v(ve,{name:"favorite",style:{color:"#f2361d"}})])):Se("",!0),r.value!=1?(I(),ie(pt,{key:2},{default:_(()=>[v(ve,{name:"photo_library",style:{"margin-right":"3px"}}),j(" "+Y(r.value),1)]),_:1})):Se("",!0),he(v(pt,{rounded:"",color:"red"},{default:_(()=>[j(Y(h.value==1?"R-18":"R-18G"),1)]),_:1},512),[[Ke,h.value]]),he(v(pt,{color:"secondary"},{default:_(()=>[j("AI")]),_:1},512),[[Ke,C()]])]),v(pt,{outline:"",color:"teal","text-color":"black"},{default:_(()=>[j(Y((w.page-1)*ne(Qt)+(w.index+1)),1)]),_:1})])])])]),_:1}))}});const Gp=e=>(kn("data-v-04316f3b"),e=e(),Cn(),e),Zp=Gp(()=>B("div",{class:"text-h5"},"\u786E\u8BA4\u5220\u9664\uFF1F\u6240\u6709\u8BE6\u60C5\u548C\u6536\u85CF\u4FE1\u606F\u90FD\u5C06\u88AB\u5220\u9664",-1)),Jp={class:"text-body-1"},e0=Ee({__name:"DatabaseToolbar",props:{modelValue:{},all:{},dbName:{}},emits:["update:modelValue","delete"],setup(e,{emit:t}){const n=e,i=Xn(),l=S([]),a=S(!1),o=S(!1);function s(){In().then(m=>{const b=m.indexOf(n.dbName);m.splice(b,1),l.value=m})}function r(m){rh(n.dbName,m,n.modelValue).then(()=>{Le({level:"success",msg:`\u4ECE ${n.dbName} \u590D\u5236\u4E86 ${n.modelValue.length} \u9879\u5230 ${m}`})})}function u(){if(n.modelValue.length<10)for(let m of n.modelValue)ci(n.dbName,m,[]).then(()=>{Le({level:"info",msg:"\u5220\u9664 "+n.dbName+"/"+m}),t("delete")});else ci(n.dbName,n.modelValue[0],[]).then(()=>{Le({level:"info",msg:"\u5220\u9664 "+n.dbName+"/"+n.modelValue[0]+"\u7B49"+n.modelValue.length+"\u9879"}),t("delete")})}function c(){t("update:modelValue",[])}function d(){let m=[];for(let b of n.all)n.modelValue.indexOf(b)==-1&&m.push(b);t("update:modelValue",m)}const f=S(!1),h=S(!1);function p(){f.value=!0,vs(n.modelValue).then(()=>{f.value=!1,Le({level:"success",msg:`\u6DFB\u52A0\u4E86 ${n.modelValue.length} \u6761\u6536\u85CF`})}).catch(()=>{f.value=!1})}function g(){h.value=!0,ms(n.modelValue).then(()=>{h.value=!1,Le({level:"success",msg:`\u5220\u9664\u4E86 ${n.modelValue.length} \u6761\u6536\u85CF`})}).catch(()=>{h.value=!1})}return(m,b)=>(I(),J(Te,null,[v(Dt,{appear:"","enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutLeft"},{default:_(()=>[m.modelValue.length>0?(I(),ie(Cd,{key:0,color:"primary",icon:"keyboard_arrow_down",direction:"down",label:`\u9009\u4E2D ${m.modelValue.length} \u9879`,class:"db-toolbar",square:"","vertical-actions-align":"left",style:{"backdrop-filter":"blur(7px)"},persistent:"",modelValue:o.value,"onUpdate:modelValue":b[6]||(b[6]=x=>o.value=x)},{default:_(()=>[v(Nt,{color:"primary",square:"",onClick:c,label:"\u53D6\u6D88\u9009\u62E9","external-label":"",icon:"cancel"}),v(Nt,{color:"primary",label:"\u590D\u5236\u5230","external-label":"",icon:"copy_all",onClick:b[0]||(b[0]=x=>{s(),o.value=!0}),square:""},{default:_(()=>[v(Mn,null,{default:_(()=>[v(dn,null,{default:_(()=>[(I(!0),J(Te,null,ut(l.value,x=>he((I(),ie(je,{key:x,clickable:"",onClick:C=>r(x)},{default:_(()=>[v(ge,null,{default:_(()=>[j(Y(x),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[fn]])),128))]),_:1})]),_:1})]),_:1}),v(Nt,{color:"primary",square:"",onClick:b[1]||(b[1]=x=>{m.$emit("update:modelValue",m.all),o.value=!0}),label:"\u5168\u9009","external-label":"",icon:"select_all"}),v(Nt,{color:"primary",square:"",onClick:b[2]||(b[2]=x=>{d(),o.value=!0}),label:"\u53CD\u9009","external-label":"",icon:"tab_unselected"}),v(Nt,{color:"primary",label:"\u5220\u9664","external-label":"",icon:"delete",square:"",onClick:b[3]||(b[3]=x=>{a.value=!a.value,o.value=!0})}),v(Nt,{color:"primary",label:"\u6536\u85CF","external-label":"",icon:"bookmark_add",square:"",onClick:b[4]||(b[4]=x=>{p(),o.value=!0}),loading:f.value},null,8,["loading"]),he(v(Nt,{color:"primary",label:"\u5220\u9664\u6536\u85CF","external-label":"",icon:"bookmark_remove",square:"",onClick:b[5]||(b[5]=x=>{g(),o.value=!0}),loading:h.value},null,8,["loading"]),[[Ke,ne(i).show_cancel]])]),_:1},8,["label","modelValue"])):Se("",!0)]),_:1}),v(Kt,{modelValue:a.value,"onUpdate:modelValue":b[7]||(b[7]=x=>a.value=x)},{default:_(()=>[v(ke,null,{default:_(()=>[v(et,null,{default:_(()=>[Zp]),_:1}),v(et,null,{default:_(()=>[B("div",Jp,"iid: "+Y(m.modelValue),1)]),_:1}),v(Wn,{align:"right"},{default:_(()=>[he((I(),ie(ae,{flat:"",color:"primary",onClick:u},{default:_(()=>[j("\u786E\u8BA4")]),_:1})),[[fn]]),he((I(),ie(ae,{flat:"",color:"primary"},{default:_(()=>[j("\u53D6\u6D88")]),_:1})),[[fn]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});var Bs=mt(e0,[["__scopeId","data-v-04316f3b"]]);const t0={style:{"margin-top":"40px"}},n0={class:"row q-col-gutter-sm q-ma-md"},i0=Ee({__name:"IllustQueryLocal",props:{dbName:{},initialQueryString:{}},emits:["updateProps","updateTitle"],setup(e,{emit:t}){const n=e,i=S({h_switch:!1,ai_switch:!1});y(()=>i.value.h_switch?"H\u54DF\u897F":"H\u54D2\u54A9"),S(!1);const l=S(""),a=S(!1),o=S([]),s=S(!1),r=S(1),u=S([]);function c(){a.value=!1,t("updateTitle",n.dbName+":"+l.value),t("updateProps",te(O({},n),{initialQueryString:l.value})),s.value=!0,gs(n.dbName,l.value).then(h=>{o.value=h,s.value=!1}).catch(h=>{a.value=!0,s.value=!1,console.log(h)})}De(()=>{t("updateTitle",n.dbName),n.initialQueryString!==void 0&&(l.value=n.initialQueryString,c())});const d=y(()=>o.value.slice(Qt*(r.value-1),Qt*r.value));function f(){o.value=o.value.filter(h=>!u.value.includes(h[0])),u.value=[]}return S(""),(h,p)=>(I(),J("div",t0,[v(qn,{indeterminate:s.value},null,8,["indeterminate"]),o.value.length>ne(Qt)?(I(),ie(Fs,{key:0,class:"q-ma-md flex justify-center",modelValue:r.value,"onUpdate:modelValue":p[0]||(p[0]=g=>r.value=g),max:Math.ceil(o.value.length/ne(Qt)),style:{"margin-top":"100px !important"}},null,8,["modelValue","max"])):Se("",!0),v(el,{modelValue:u.value,"onUpdate:modelValue":p[1]||(p[1]=g=>u.value=g)},{default:_(({toggle:g,getState:m})=>[B("div",n0,[v(Yn,{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"},{default:_(()=>[(I(!0),J(Te,null,ut(d.value,([b,x],C)=>(I(),J("div",{class:"col-md-3 col-sm-6 col-xs-12 col-lg-2",key:b},[v(Ds,{iid:b,index:C,"db-name":n.dbName,"onUpdate:select":k=>g(b,k),selected:m(b),score:x===-1?void 0:x,height:"300px",page:r.value},null,8,["iid","index","db-name","onUpdate:select","selected","score","page"])]))),128))]),_:2},1024)])]),_:1},8,["modelValue"]),v(Bs,{modelValue:u.value,"onUpdate:modelValue":p[2]||(p[2]=g=>u.value=g),"db-name":h.dbName,all:o.value.map(g=>g[0]),onDelete:f},null,8,["modelValue","db-name","all"]),v(tl)]))}});var l0=mt(i0,[["__scopeId","data-v-17c7815e"]]);function Hr(e,{value:t,oldValue:n}){if(typeof t!="function"){e.scrollTarget.removeEventListener("scroll",e.scroll,Ft.passive);return}e.handler=t,typeof n!="function"&&e.scrollTarget.addEventListener("scroll",e.scroll,Ft.passive)}var Ed=to({name:"scroll",mounted(e,t){const n={scrollTarget:Il(e),scroll(){n.handler(io(n.scrollTarget),lo(n.scrollTarget))}};Hr(n,t),e.__qscroll=n},updated(e,t){e.__qscroll!==void 0&&t.oldValue!==t.value&&Hr(e.__qscroll,t)},beforeUnmount(e){const t=e.__qscroll;t.scrollTarget.removeEventListener("scroll",t.scroll,Ft.passive),delete e.__qscroll}});const a0=e=>(kn("data-v-8c5b0458"),e=e(),Cn(),e),o0=a0(()=>B("div",null,null,-1)),s0={class:"flex items-center",style:{"column-gap":"10px"}},r0={class:"q-ma-md"},u0=Ee({__name:"PixivSearchIllust",props:{initialQueryString:{},showNavBar:{type:Boolean},title:{}},emits:["updateProps","updateTitle"],setup(e,{emit:t}){const n=e,i=Gn();Xn();let l=y(()=>i.h_switch?"H\u54DF\u897F":"H\u54D2\u54A9");const a=S(!1),o=S(""),s=S(!1),r=S(!1),u=S(!1),c=S([]),d=S([]),f=S(""),h=S("-i"),p=S(),g=S(0);function m(q){new Date().getTime()-g.value>1e3&&p.value.scrollHeight-q-document.body.offsetHeight<150&&(C(),g.value=new Date().getTime())}let b=S();function x(q){b.value!==void 0&&b.value.throw!==void 0&&b.value.throw(new bi),b.value=q}function C(){b.value!==void 0&&(u.value=!0,b.value.next().then(q=>{if(q.done){b.value=void 0,Le({level:"info",msg:"\u5DF2\u52A0\u8F7D\u6240\u6709\u63D2\u753B"});return}c.value=c.value.concat(q.value.map(T=>T[0])),d.value=d.value.concat(q.value.map(T=>T[1])),u.value=!1,Le({level:"success",msg:"\u83B7\u53D6\u4E86 "+q.value.length+" \u5F20\u63D2\u753B"})}))}function k(q){x(q),C()}function w(q,T){E(q,T),t("updateProps",{initialQueryString:o.value,showNavBar:!0})}function E(q,T=""){s.value=!1,o.value=q+" "+T,t("updateProps",{initialQueryString:o.value}),t("updateTitle","\u641C\u7D22:"+f.value),r.value=!0,_c(o.value).then($=>{c.value=[],d.value=[],k($),r.value=!1}).catch($=>{s.value=!0,r.value=!1,console.log($)})}De(()=>{if(console.log("initialQueryString",n.initialQueryString),n.initialQueryString!=="-s"&&E(n.initialQueryString),console.log("props.title",n.title),n.title)t("updateTitle",n.title);else switch(n.initialQueryString){case"-s":t("updateTitle","Pixiv\u641C\u7D22");break;case"-n":t("updateTitle","\u5927\u5BB6\u7684\u65B0\u4F5C");break;case"-f":t("updateTitle","\u5173\u6CE8\u753B\u5E08\u7684\u65B0\u4F5C");break;case"-r":t("updateTitle","\u63A8\u8350");break}}),Ci(()=>{b.value!==void 0&&b.value.throw!==void 0&&b.value.throw(new bi)});const D=S("");function P(){uh().then(q=>{D.value=q})}return(q,T)=>he((I(),J("div",{style:Ba({"margin-top":q.showNavBar?"100px":"50px"}),ref_key:"pixivSearchRef",ref:p},[he(v(ke,{"inline-actions":"",class:"text-white bg-blue flex justify-between items-center",style:{padding:"0 20px",height:"50px",position:"fixed","z-index":"99",left:"0",right:"0",top:"50px","border-radius":"0"}},{default:_(()=>[o0,B("div",s0,[v(Ii,{"keep-color":"","left-label":"",modelValue:h.value,"onUpdate:modelValue":T[0]||(T[0]=$=>h.value=$),val:"-i",label:"iid",color:"orange"},null,8,["modelValue"]),v(Ii,{"keep-color":"","left-label":"",modelValue:h.value,"onUpdate:modelValue":T[1]||(T[1]=$=>h.value=$),val:"-u",label:"uid",color:"red"},null,8,["modelValue"]),v(Ii,{"keep-color":"","left-label":"",modelValue:h.value,"onUpdate:modelValue":T[2]||(T[2]=$=>h.value=$),val:"-s ptag",label:"tags",color:"purple"},{default:_(()=>[v(Oe,null,{default:_(()=>[j("\u90E8\u5206tag\u641C\u7D22")]),_:1})]),_:1},8,["modelValue"]),v($t,{outlined:"",autofocus:"",modelValue:f.value,"onUpdate:modelValue":T[3]||(T[3]=$=>f.value=$),dense:"","options-dense":"",error:s.value,onKeyup:T[4]||(T[4]=vn($=>w(h.value,f.value),["enter"])),onInput:T[5]||(T[5]=$=>s.value=!1),style:{width:"300px","margin-left":"10px"},"bg-color":"white"},null,8,["modelValue","error"]),B("div",null,[v(ae,{icon:"help",size:"sm",flat:"",onClick:T[6]||(T[6]=$=>{P(),a.value=!a.value})},{default:_(()=>[v(Oe,null,{default:_(()=>[j("\u5E2E\u52A9")]),_:1})]),_:1})]),v(Kt,{modelValue:a.value,"onUpdate:modelValue":T[8]||(T[8]=$=>a.value=$),"full-width":""},{default:_(()=>[v(ke,null,{default:_(()=>[B("pre",r0,Y(D.value),1),v(ae,{flat:"",class:"float-right q-ma-md",color:"primary",onClick:T[7]||(T[7]=$=>a.value=!1)},{default:_(()=>[j("\u5173\u95ED")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),v(jl,{modelValue:ne(i).h_switch,"onUpdate:modelValue":T[9]||(T[9]=$=>ne(i).h_switch=$),"keep-color":"",color:"red",label:ne(l),"left-label":""},null,8,["modelValue","label"])]),_:1},512),[[Ke,q.showNavBar]]),v(Es,{illusts:c.value,scores:d.value},null,8,["illusts","scores"])],4)),[[Ed,m]])}});var c0=mt(u0,[["__scopeId","data-v-8c5b0458"]]);const d0={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Mo={xs:2,sm:4,md:8,lg:16,xl:24};var Dl=_e({name:"QSeparator",props:te(O({},bt),{spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String}),setup(e){const t=we(),n=_t(e,t.proxy.$q),i=y(()=>e.vertical===!0?"vertical":"horizontal"),l=y(()=>` q-separator--${i.value}`),a=y(()=>e.inset!==!1?`${l.value}-${d0[e.inset]}`:""),o=y(()=>`q-separator${l.value}${a.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),s=y(()=>{const r={};if(e.size!==void 0&&(r[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const u=e.spaced===!0?`${Mo.md}px`:e.spaced in Mo?`${Mo[e.spaced]}px`:e.spaced,c=e.vertical===!0?["Left","Right"]:["Top","Bottom"];r[`margin${c[0]}`]=r[`margin${c[1]}`]=u}return r});return()=>F("hr",{class:o.value,style:s.value,"aria-orientation":i.value})}});const ni=ch({}),f0=Object.keys(cs);var Fa=_e({name:"QExpansionItem",props:te(O(O(O({},cs),Xi),bt),{icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]}),emits:[...Gi,"click","after-show","after-hide"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=we(),l=_t(e,i),a=S(e.modelValue!==null?e.modelValue:e.defaultOpened),o=S(null),{hide:s,toggle:r}=Zi({showing:a});let u,c;const d=y(()=>`q-expansion-item q-item-type q-expansion-item--${a.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),f=y(()=>{if(e.contentInsetLevel===void 0)return null;const L=i.lang.rtl===!0?"Right":"Left";return{["padding"+L]:e.contentInsetLevel*56+"px"}}),h=y(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),p=y(()=>{const L={};return f0.forEach(K=>{L[K]=e[K]}),L}),g=y(()=>h.value===!0||e.expandIconToggle!==!0),m=y(()=>e.expandedIcon!==void 0&&a.value===!0?e.expandedIcon:e.expandIcon||i.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),b=y(()=>e.disable!==!0&&(h.value===!0||e.expandIconToggle===!0));G(()=>e.group,L=>{c!==void 0&&c(),L!==void 0&&D()});function x(L){h.value!==!0&&r(L),n("click",L)}function C(L){L.keyCode===13&&k(L,!0)}function k(L,K){K!==!0&&o.value!==null&&o.value.focus(),r(L),it(L)}function w(){n("after-show")}function E(){n("after-hide")}function D(){u===void 0&&(u=Zc()),a.value===!0&&(ni[e.group]=u);const L=G(a,R=>{R===!0?ni[e.group]=u:ni[e.group]===u&&delete ni[e.group]}),K=G(()=>ni[e.group],(R,M)=>{M===u&&R!==void 0&&R!==u&&s()});c=()=>{L(),K(),ni[e.group]===u&&delete ni[e.group],c=void 0}}function P(){const L={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},K=[F(ve,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&a.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:m.value})];return b.value===!0&&(Object.assign(L,{tabindex:0,onClick:k,onKeyup:C}),K.unshift(F("div",{ref:o,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),F(ge,L,()=>K)}function q(){let L;return t.header!==void 0?L=[].concat(t.header()):(L=[F(ge,()=>[F(jt,{lines:e.labelLines},()=>e.label||""),e.caption?F(jt,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&L[e.switchToggleSide===!0?"push":"unshift"](F(ge,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>F(ve,{name:e.icon})))),e.disable!==!0&&L[e.switchToggleSide===!0?"unshift":"push"](P()),L}function T(){const L={ref:"item",style:e.headerStyle,class:e.headerClass,dark:l.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return g.value===!0&&(L.clickable=!0,L.onClick=x,h.value===!0&&Object.assign(L,p.value)),F(je,L,q)}function $(){return he(F("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:f.value},Ie(t.default)),[[Ke,a.value]])}function H(){const L=[T(),F(Wc,{duration:e.duration,onShow:w,onHide:E},$)];return e.expandSeparator===!0&&L.push(F(Dl,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:l.value}),F(Dl,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:l.value})),L}return e.group!==void 0&&D(),Xe(()=>{c!==void 0&&c()}),()=>F("div",{class:d.value},[F("div",{class:"q-expansion-item__container relative-position"},H())])}});const Fd=Ee({__name:"PixivUserNav",props:{name:{},uid:{}},setup(e){const t=e;return(n,i)=>(I(),J(Te,null,[v(ae,{flat:"",onClick:i[0]||(i[0]=l=>ne(Ot)({component:"PixivSearchIllust",props:{initialQueryString:"-u "+n.uid,title:"["+t.name+"] \u4F5C\u54C1"}}))},{default:_(()=>[j(" \u63D2\u753B\u4F5C\u54C1 ")]),_:1}),v(ae,{flat:"",onClick:i[1]||(i[1]=l=>ne(Ot)({component:"PixivSearchIllust",props:{initialQueryString:"-b "+n.uid,title:"["+t.name+"] \u6536\u85CF"}}))},{default:_(()=>[j(" \u6536\u85CF\u63D2\u753B ")]),_:1})],64))}}),Dd=Ee({__name:"PixivUserFollow",props:{uid:{},name:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=S(!1);function l(a){if(a){if(n.modelValue){Le({level:"warning",msg:"\u5DF2\u7ECF\u5173\u6CE8\u7528\u6237 "+n.name+" \uFF0C\u65E0\u6CD5\u5173\u6CE8"});return}i.value=!0,dh(n.uid).then(()=>{Le({level:"success",msg:"\u5173\u6CE8\u4E86\u7528\u6237 "+n.name}),t("update:modelValue",!0),i.value=!1})}else{if(!n.modelValue){Le({level:"warning",msg:"\u672A\u5173\u6CE8\u7528\u6237 "+n.name+" \uFF0C\u4E0D\u80FD\u53D6\u6D88\u5173\u6CE8"});return}i.value=!0,fh(n.uid).then(()=>{Le({level:"success",msg:"\u53D6\u6D88\u5173\u6CE8\u4E86\u7528\u6237 "+n.name}),t("update:modelValue",!1),i.value=!1})}}return(a,o)=>(I(),ie(ae,{onClick:o[0]||(o[0]=s=>l(!a.modelValue)),flat:"",loading:i.value},{default:_(()=>[j(Y(a.modelValue?"\u53D6\u6D88\u5173\u6CE8":"\u5173\u6CE8"),1)]),_:1},8,["loading"]))}}),h0=["src"],v0=B("br",null,null,-1),m0={class:"text-body-2 text-grey-8"},g0={class:"row q-col-gutter-sm q-ma-sm"},p0={class:"row q-ma-sm"},b0=Ee({__name:"PixivUserPreviewList",props:{userPreviews:{}},setup(e){return(t,n)=>(I(),J(Te,null,[v(ke,{class:"q-ma-md"},{default:_(()=>[v(dn,{bordered:""},{default:_(()=>[(I(!0),J(Te,null,ut(t.userPreviews,i=>(I(),J("div",{key:i.user_summery.uid},[v(Fa,{style:{display:"block"}},{header:_(()=>[v(je,null,{default:_(()=>[v(ge,{top:"",avatar:""},{default:_(()=>[v(fs,{rounded:"",size:"60px"},{default:_(()=>[B("img",{src:`${ne(jn)}/${i.user_summery.profile_image}`},null,8,h0)]),_:2},1024)]),_:2},1024),v(ge,null,{default:_(()=>[j(Y(i.user_summery.name)+" ",1),v0,B("div",m0," / uid = "+Y(i.user_summery.uid),1),i.user_summery.is_followed?(I(),ie(pt,{key:0,style:{width:"25px"}},{default:_(()=>[v(ve,{name:"bookmark"})]),_:1})):Se("",!0)]),_:2},1024)]),_:2},1024)]),default:_(()=>[B("div",g0,[(I(!0),J(Te,null,ut(i.illusts,l=>(I(),J("div",{class:"col-md-3 col-sm-6 col-xs-12 col-lg-2",key:l.iid},[v(Ss,{detail:l,unselectable:!0,selected:!1,height:"300px"},null,8,["detail"])]))),128))]),B("div",p0,[v(ae,{onClick:l=>ne(Ot)({component:"PixivUserDetail",props:{uid:i.user_summery.uid}}),flat:"",color:"primary"},{default:_(()=>[j(" \u8BE6\u60C5 ")]),_:2},1032,["onClick"]),v(Fd,{name:i.user_summery.name,uid:i.user_summery.uid},null,8,["name","uid"]),v(Dd,{name:i.user_summery.name,uid:i.user_summery.uid,modelValue:i.user_summery.is_followed,"onUpdate:modelValue":l=>i.user_summery.is_followed=l},null,8,["name","uid","modelValue","onUpdate:modelValue"])]),v(Dl)]),_:2},1024),v(Dl)]))),128))]),_:1})]),_:1}),v(tl)],64))}});const _0={class:"flex items-center",style:{"column-gap":"10px"}},y0={class:"q-ma-md"},x0={class:"row q-ma-lg"},w0={class:"col-12"},k0=Ee({__name:"PixivSearchUser",props:{initialQueryString:{},showNavBar:{type:Boolean},title:{}},emits:["updateProps","updateTitle"],setup(e,{emit:t}){const n=e,i=S(!1),l=S(""),a=S(!1),o=S(!1),s=S([]),r=S(),u=S(!1),c=S(""),d=S("-n"),f=S();De(()=>{console.log("initialQueryString",n.initialQueryString),console.log("props.showNavBar",n.showNavBar),console.log("props.title",n.title),n.initialQueryString!==void 0&&h(n.initialQueryString),n.title?t("updateTitle",n.title):t("updateTitle","\u5173\u6CE8\u7684\u753B\u5E08")});function h(C,k=""){o.value=!1,l.value=C+" "+k,t("updateProps",{initialQueryString:l.value}),c.value||(l.value="-F"),a.value=!0,hh(l.value).then(w=>{typeof w=="number"?Rv({component:"PixivUserDetail",props:{uid:w},title:"\u7528\u6237:"+w}):(a.value=!1,m(w))}).catch(w=>{o.value=!0,a.value=!1,console.log(w)})}Ci(()=>{r.value!==void 0&&r.value.throw!==void 0&&r.value.throw(new bi)});function p(C){r.value!==void 0&&(r.value.throw!==void 0&&r.value.throw(new bi),s.value=[]),r.value=C}function g(){r.value!==void 0&&(u.value=!0,r.value.next().then(C=>{if(C.done){r.value=void 0,Le({level:"info",msg:"\u5DF2\u52A0\u8F7D\u6240\u6709\u7528\u6237\u9884\u89C8"});return}s.value=s.value.concat(C.value),u.value=!1,Le({level:"success",msg:"\u83B7\u53D6\u4E86 "+C.value.length+" \u4E2A\u7528\u6237\u9884\u89C8"})}))}function m(C){p(C),g()}const b=S("");function x(){vh().then(C=>{b.value=C})}return(C,k)=>(I(),J("div",{ref_key:"pixivUserRef",ref:f,style:{"margin-top":"100px"}},[v(ke,{"inline-actions":"",class:"text-white bg-blue flex justify-evenly items-center",style:{padding:"0 20px",height:"50px",position:"fixed","z-index":"99",left:"0",right:"0",top:"50px","border-radius":"0"}},{default:_(()=>[B("div",_0,[v(Ii,{"keep-color":"","left-label":"",modelValue:d.value,"onUpdate:modelValue":k[0]||(k[0]=w=>d.value=w),val:"-n",label:"\u7528\u6237\u540D",color:"cyan"},{default:_(()=>[v(Oe,null,{default:_(()=>[j("\u7528\u6237\u540D\u6A21\u7CCA\u641C\u7D22")]),_:1})]),_:1},8,["modelValue"]),v(Ii,{"keep-color":"","left-label":"",modelValue:d.value,"onUpdate:modelValue":k[1]||(k[1]=w=>d.value=w),val:"-u",label:"uid",color:"red"},null,8,["modelValue"]),v($t,{outlined:"",autofocus:"",dense:"","options-dense":"",modelValue:c.value,"onUpdate:modelValue":k[2]||(k[2]=w=>c.value=w),onKeyup:k[3]||(k[3]=vn(w=>h(d.value,c.value),["enter"])),style:{width:"300px","margin-left":"10px"},"bg-color":"white"},null,8,["modelValue"]),B("div",null,[v(ae,{icon:"help",size:"sm",flat:"",onClick:k[4]||(k[4]=w=>{x(),i.value=!i.value})},{default:_(()=>[v(Oe,null,{default:_(()=>[j("\u5E2E\u52A9")]),_:1})]),_:1})]),v(Kt,{modelValue:i.value,"onUpdate:modelValue":k[6]||(k[6]=w=>i.value=w),"full-width":""},{default:_(()=>[v(ke,null,{default:_(()=>[B("pre",y0,Y(b.value),1),v(ae,{flat:"",class:"float-right q-ma-md",color:"primary",onClick:k[5]||(k[5]=w=>i.value=!1)},{default:_(()=>[j("\u5173\u95ED")]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),v(b0,{"user-previews":s.value},null,8,["user-previews"]),he(B("div",x0,[B("div",w0,[v(ae,{onClick:g,color:"primary float-right",stretch:"",loading:u.value},{default:_(()=>[j("\u4E0B\u4E00\u9875")]),_:1},8,["loading"])])],512),[[Ke,r.value!==void 0]])],512))}});var C0=mt(k0,[["__scopeId","data-v-9f3402a8"]]);const S0=B("br",null,null,-1),E0={class:"text-body-2"},F0=B("br",null,null,-1),D0={class:"absolute-right q-pa-none",style:{height:"75px"}},B0={class:"text-body-1 absolute-bottom"},A0=B("div",{class:"text-h7"},"\u4FE1\u606F",-1),P0={class:"text-body-2 text-grey-9 q-mt-sm"},M0=B("div",{class:"text-h7 q-pb-sm"},"\u5BFC\u822A",-1),q0=Ee({__name:"PixivUserDetail",props:{uid:{}},emits:["updateProps","updateTitle"],setup(e,{emit:t}){const n=e,i=S();return De(()=>{ps(n.uid).then(l=>{i.value=l,t("updateTitle","User:"+i.value.name)})}),(l,a)=>i.value!==void 0?(I(),ie(ke,{key:0,class:"q-ma-md",style:{"margin-top":"50px"}},{default:_(()=>[v(xn,{src:i.value.background_image==""?ne(Pa):ne(jn)+i.value.background_image},{default:_(()=>[v(je,null,{default:_(()=>[v(ge,{avatar:"",top:""},{default:_(()=>[v(fs,{rounded:"",size:"100px"},{default:_(()=>[v(xn,{src:ne(jn)+i.value.profile_image},null,8,["src"])]),_:1})]),_:1}),v(ge,{caption:""},{default:_(()=>[j(Y(i.value.name)+" ",1),S0,B("div",E0,[j(" / uid = "+Y(i.value.uid),1),F0,j("/ account = "+Y(i.value.account),1)])]),_:1})]),_:1}),B("div",D0,[v(Dd,{uid:l.uid,name:i.value.name,modelValue:i.value.is_followed,"onUpdate:modelValue":a[0]||(a[0]=o=>i.value.is_followed=o)},null,8,["uid","name","modelValue"])]),B("div",B0,Y(i.value.comment),1)]),_:1},8,["src"]),v(et,null,{default:_(()=>[A0,B("div",P0," / total_followers = "+Y(i.value.total_followers)+" / total_mypixiv_users = "+Y(i.value.total_mypixiv_users)+" / total_illusts = "+Y(i.value.total_illusts)+" / total_manga = "+Y(i.value.total_manga)+" / total_novels = "+Y(i.value.total_novels)+" / total_bookmarked_illust = "+Y(i.value.total_bookmarked_illust),1)]),_:1}),v(et,null,{default:_(()=>[M0,v(Fd,{name:i.value.name,uid:l.uid},null,8,["name","uid"])]),_:1})]),_:1})):Se("",!0)}});const T0=e=>(kn("data-v-2153f6e5"),e=e(),Cn(),e),V0=T0(()=>B("div",null,null,-1)),$0={class:"flex justify-between items-center"},L0={class:"q-ma-md"},R0={class:"row q-col-gutter-sm q-ma-md",style:{"margin-top":"50px"}},O0=mh("<p data-v-2153f6e5>history</p><p data-v-2153f6e5>history</p><p data-v-2153f6e5>history</p><p data-v-2153f6e5>history</p><p data-v-2153f6e5>history</p><p data-v-2153f6e5>history</p><p data-v-2153f6e5>history</p><p data-v-2153f6e5>history</p><p data-v-2153f6e5>history</p><p data-v-2153f6e5>history</p>",10),I0=Ee({__name:"History",props:{dbName:{},initialQueryString:{}},emits:["updateProps","updateTitle"],setup(e,{emit:t}){const n=e;De(()=>{t("updateTitle","\u6D4F\u89C8\u5386\u53F2")}),S(null),S(["\u7279\u65E5\u65E5rir\u65E5\u65E5\u65E5\u65E5\u65E5\u65E5\u65E5\u65E5","\u963F\u7A33\u540C\u5B66","\u5F57\u661F","\u5C40\u957F","\u7279\u65E5\u65E5rir\u65E5\u65E5\u65E5\u65E5\u65E5\u65E5\u65E5\u65E5","\u963F\u7A33\u540C\u5B66","\u5F57\u661F","\u5C40\u957F","\u7279\u65E5\u65E5rir\u65E5\u65E5\u65E5\u65E5\u65E5\u65E5\u65E5\u65E5","\u963F\u7A33\u540C\u5B66","\u5F57\u661F","\u5C40\u957F","\u7279\u65E5\u65E5rir\u65E5\u65E5\u65E5\u65E5\u65E5\u65E5\u65E5\u65E5","\u963F\u7A33\u540C\u5B66","\u5F57\u661F","\u5C40\u957F"]),S(null),S(["Genshin1","\u80E1\u68431","\u82AD\u82AD\u62C91","\u683C\u857E\u4FEE1","Genshin","\u80E1\u6843","\u82AD\u82AD\u62C9","\u683C\u857E\u4FEE","Genshin","\u80E1\u6843","\u82AD\u82AD\u62C9","\u683C\u857E\u4FEE","Genshin","\u80E1\u6843","\u82AD\u82AD\u62C9","\u683C\u857E\u4FEE"]),S(""),S(!1),S(!1),S("wwe"),S(["wwe"]);const a=S({h_switch:!1,ai_switch:!1});let o=y(()=>a.value.h_switch?"H\u54DF\u897F":"H\u54D2\u54A9");const s=S(!1),r=S(""),u=S(!1),c=S([]),d=S(!1),f=S(1),h=S([]);function p(){u.value=!1,t("updateTitle",n.dbName+":"+r.value),t("updateProps",te(O({},n),{initialQueryString:r.value})),d.value=!0,gs(n.dbName,r.value).then(C=>{c.value=C,d.value=!1}).catch(C=>{u.value=!0,d.value=!1,console.log(C)})}const g=y(()=>c.value.slice(Qt*(f.value-1),Qt*f.value));function m(){c.value=c.value.filter(C=>!h.value.includes(C[0])),h.value=[]}const b=S("");function x(){yc().then(C=>b.value=C)}return(C,k)=>(I(),J(Te,null,[v(ke,{"inline-actions":"",class:"text-white bg-blue flex justify-between items-center",style:{padding:"5px 20px 0 20px",height:"50px",position:"fixed","z-index":"99",left:"0",right:"0",top:"50px","border-radius":"0"}},{default:_(()=>[V0,B("div",$0,[v($t,{outlined:"",modelValue:r.value,"onUpdate:modelValue":k[0]||(k[0]=w=>r.value=w),dense:"","options-dense":"",onKeyup:vn(p,["enter"]),clearable:"","clear-icon":"close","bg-color":"white","input-style":"font-size:20px;color:black;",style:{width:"200px"}},null,8,["modelValue","onKeyup"]),v(ae,{icon:"help",size:"sm",flat:"",onClick:k[1]||(k[1]=w=>{x(),s.value=!s.value})},{default:_(()=>[v(Oe,null,{default:_(()=>[j("\u5E2E\u52A9")]),_:1})]),_:1})]),v(Kt,{modelValue:s.value,"onUpdate:modelValue":k[3]||(k[3]=w=>s.value=w)},{default:_(()=>[v(ke,null,{default:_(()=>[B("pre",L0,Y(b.value),1),v(ae,{flat:"",class:"float-right q-ma-md",color:"primary",onClick:k[2]||(k[2]=w=>s.value=!1)},{default:_(()=>[j("\u5173\u95ED")]),_:1})]),_:1})]),_:1},8,["modelValue"]),c.value.length>ne(Qt)?(I(),ie(Fs,{key:0,class:"flex justify-center",modelValue:f.value,"onUpdate:modelValue":k[4]||(k[4]=w=>f.value=w),max:Math.ceil(c.value.length/ne(Qt)),"max-pages":6,gutter:"md","boundary-numbers":"",color:"white","active-color":"primary",style:{"column-gap":"10px"}},null,8,["modelValue","max"])):Se("",!0),v(jl,{modelValue:a.value.h_switch,"onUpdate:modelValue":k[5]||(k[5]=w=>a.value.h_switch=w),"keep-color":"",color:"red",label:ne(o),"left-label":""},null,8,["modelValue","label"]),v(qn,{indeterminate:d.value},null,8,["indeterminate"])]),_:1}),v(el,{modelValue:h.value,"onUpdate:modelValue":k[6]||(k[6]=w=>h.value=w)},{default:_(({toggle:w,getState:E})=>[B("div",R0,[v(Yn,{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"},{default:_(()=>[(I(!0),J(Te,null,ut(g.value,([D,P])=>(I(),J("div",{class:"col-md-3 col-sm-6 col-xs-12 col-lg-2",key:D},[v(Ds,{iid:D,"db-name":n.dbName,"onUpdate:select":q=>w(D,q),selected:E(D),score:P===-1?void 0:P,height:"300px"},null,8,["iid","db-name","onUpdate:select","selected","score"])]))),128))]),_:2},1024)])]),_:1},8,["modelValue"]),v(Bs,{modelValue:h.value,"onUpdate:modelValue":k[7]||(k[7]=w=>h.value=w),"db-name":C.dbName,all:c.value.map(w=>w[0]),onDelete:m},null,8,["modelValue","db-name","all"]),O0,v(tl)],64))}});var z0=mt(I0,[["__scopeId","data-v-2153f6e5"]]);const Bd=e=>(kn("data-v-5444e487"),e=e(),Cn(),e),N0={class:"flex items-center"},H0={class:"flex",style:{"column-gap":"30px"}},j0={class:"flex items-center flex-nowrap"},W0=Bd(()=>B("span",null,"\u4F5C\u8005\uFF1A",-1)),U0={class:"flex flex-nowrap items-center"},Q0=Bd(()=>B("span",null," Tags\uFF1A ",-1)),K0={class:"row q-ma-lg"},Y0={class:"col-12"},X0=Ee({__name:"PixivFavorite",props:{initialQueryString:{}},emits:["updateProps","updateTitle"],setup(e,{emit:t}){const n=e,i=Gn(),l=Xn();S(!1);const a=S(""),o=S(!1),s=S(!1),r=S(!1),u=S([]),c=S([]),d=S([]);let f=y(()=>i.h_switch?"H\u54DF\u897F":"H\u54D2\u54A9");const h=S([]);let p=[];const g=S(p),m=S([]);let b=[];const x=S(b);function C(R,M){if(R===""){M(()=>{g.value=p});return}M(()=>{const A=R.toLowerCase();g.value=p.filter(z=>z.toLowerCase().indexOf(A)>-1)})}function k(R,M){if(R===""){M(()=>{x.value=b});return}M(()=>{const A=R.toLowerCase();x.value=b.filter(z=>z.toLowerCase().indexOf(A)>-1)})}G(()=>h.value,(R,M)=>{console.log("watch user_select n",R),R==null?h.value=[]:R.length==0?u.value=c.value:u.value=c.value.filter(A=>A.user.name==R)}),G(()=>m.value,(R,M)=>{console.log("watch tag_select n",R),R==null?m.value=[]:R.length==0?u.value=c.value:u.value=c.value.filter(A=>A.tags.map(z=>Object.values(z)).flat(2).includes(m.value))});const w=S(),E=S(0);function D(R){new Date().getTime()-E.value>1e3&&w.value.scrollHeight-R-document.body.offsetHeight<150&&(T(),E.value=new Date().getTime())}let P=S();function q(R){P.value!==void 0&&P.value.throw!==void 0&&P.value.throw(new bi),P.value=R}function T(){P.value!==void 0&&(r.value=!0,P.value.next().then(R=>{if(R.done){P.value=void 0,Le({level:"info",msg:"\u5DF2\u52A0\u8F7D\u6240\u6709\u63D2\u753B"});return}c.value=c.value.concat(R.value.map(M=>M[0])),!h.value.length&&!m.value.length?u.value=c.value:(h.value.length&&(u.value=u.value.concat(R.value.map(M=>M[0])).filter(M=>M.user.name==h.value)),m.value.length&&(u.value=u.value.concat(R.value.map(M=>M[0])).filter(M=>M.tags.map(A=>Object.values(A)).flat(2).includes(m.value)))),p=p.concat(R.value.map(M=>M[0].user.name)).filter((M,A,z)=>z.indexOf(M)===A),b=b.concat(R.value.map(M=>M[0].tags.map(A=>Object.values(A)))).flat(1/0).filter((M,A,z)=>z.indexOf(M)===A).filter(M=>M),d.value=d.value.concat(R.value.map(M=>M[1])),r.value=!1,Le({level:"success",msg:"\u83B7\u53D6\u4E86 "+R.value.length+" \u5F20\u63D2\u753B"})}))}function $(R){q(R),T()}Ci(()=>{P.value!==void 0&&P.value.throw!==void 0&&P.value.throw(new bi),l.show_cancel=!1});function H(){o.value=!1,t("updateProps",{initialQueryString:a.value}),s.value=!0,_c(a.value).then(R=>{u.value=[],d.value=[],$(R),s.value=!1}).catch(R=>{o.value=!0,s.value=!1,console.log(R)})}const L=S(0);function K(){ps(i.user_id).then(R=>{L.value=R.total_bookmarked_illust})}return De(()=>{K(),n.initialQueryString!==void 0&&(a.value=n.initialQueryString,H()),t("updateTitle","Pixiv\u6536\u85CF"),l.show_cancel=!0}),S(""),(R,M)=>he((I(),J("div",{ref_key:"pixivFavRef",ref:w,style:{"padding-top":"50px"}},[v(ke,{"inline-actions":"",class:"text-white bg-blue flex justify-between items-center",style:{padding:"0 20px",height:"50px",position:"fixed","z-index":"99",left:"0",right:"0",top:"50px","border-radius":"0"}},{default:_(()=>[B("div",N0,[B("span",null,[j(" Pixiv\u6536\u85CF\u5939\u603B\u6570\uFF1A "),B("span",null,Y(L.value),1)])]),B("div",H0,[B("div",j0,[W0,v(wn,{outlined:"",modelValue:h.value,"onUpdate:modelValue":M[0]||(M[0]=A=>h.value=A),disable:m.value.length!=0,options:g.value,"use-input":"","input-debounce":"0",onFilter:C,"transition-show":"jump-up","transition-hide":"jump-up",dense:"","options-dense":"",clearable:"",style:{width:"250px"}},{"no-option":_(()=>[v(je,null,{default:_(()=>[v(ge,{class:"text-grey"},{default:_(()=>[j("No results")]),_:1})]),_:1})]),_:1},8,["modelValue","disable","options"])]),B("div",U0,[Q0,v(wn,{outlined:"",modelValue:m.value,"onUpdate:modelValue":M[1]||(M[1]=A=>m.value=A),disable:h.value.length!=0,options:x.value,"use-input":"","input-debounce":"0",onFilter:k,"transition-show":"jump-up","transition-hide":"jump-up",dense:"","options-dense":"",clearable:"",style:{width:"250px"}},{"no-option":_(()=>[v(je,null,{default:_(()=>[v(ge,{class:"text-grey"},{default:_(()=>[j("No results")]),_:1})]),_:1})]),_:1},8,["modelValue","disable","options"])])]),v(jl,{modelValue:ne(i).h_switch,"onUpdate:modelValue":M[2]||(M[2]=A=>ne(i).h_switch=A),"keep-color":"",color:"red",label:ne(f),"left-label":""},null,8,["modelValue","label"])]),_:1}),v(Es,{illusts:u.value,scores:d.value},null,8,["illusts","scores"]),he(B("div",K0,[B("div",Y0,[v(ae,{onClick:T,color:"primary float-right",stretch:"",loading:r.value},{default:_(()=>[j("\u4E0B\u4E00\u9875")]),_:1},8,["loading"])])],512),[[Ke,ne(P)!==void 0]])])),[[Ed,D]])}});var G0=mt(X0,[["__scopeId","data-v-5444e487"]]),Z0=_e({name:"QFile",inheritAttrs:!1,props:te(O(O(O({},Hl),Ji),cm),{modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]}),emits:[...ao,...Gc],setup(e,{slots:t,emit:n,attrs:i}){const{proxy:l}=we(),a=oo(),o=S(null),s=S(!1),r=Cs(e),{pickFiles:u,onDragover:c,onDragleave:d,processFiles:f,getDndNode:h}=dm({editable:a.editable,dnd:s,getFileInput:$,addFilesToQueue:H}),p=ed(e),g=y(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),m=y(()=>yi(g.value)),b=y(()=>g.value.map(M=>M.name).join(", ")),x=y(()=>bv(g.value.reduce((M,A)=>M+A.size,0))),C=y(()=>({totalSize:x.value,filesNumber:g.value.length,maxFiles:e.maxFiles})),k=y(()=>te(O({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:r.value},i),{id:a.targetUid.value,disabled:a.editable.value!==!0})),w=y(()=>e.multiple===!0&&e.append===!0);function E(M){const A=g.value.slice();A.splice(M,1),P(A)}function D(M){const A=g.value.findIndex(M);A>-1&&E(A)}function P(M){n("update:modelValue",e.multiple===!0?M:M[0])}function q(M){M.keyCode===13&&tn(M)}function T(M){(M.keyCode===13||M.keyCode===32)&&u(M)}function $(){return o.value}function H(M,A){const z=f(M,A,g.value,w.value);z!==void 0&&((e.multiple===!0?e.modelValue&&z.every(W=>g.value.includes(W)):e.modelValue===z[0])||P(w.value===!0?g.value.concat(z):z))}function L(){return[F("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function K(){if(t.file!==void 0)return g.value.length===0?L():g.value.map((A,z)=>t.file({index:z,file:A,ref:this}));if(t.selected!==void 0)return g.value.length===0?L():t.selected({files:g.value,ref:this});if(e.useChips===!0)return g.value.length===0?L():g.value.map((A,z)=>F(md,{key:"file-"+z,removable:a.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{E(z)}},()=>F("span",{class:"ellipsis",textContent:A.name})));const M=e.displayValue!==void 0?e.displayValue:b.value;return M.length>0?[F("div",{class:e.inputClass,style:e.inputStyle,textContent:M})]:L()}function R(){const M=te(O(O({ref:o},k.value),p.value),{class:"q-field__input fit absolute-full cursor-pointer",onChange:H});return e.multiple===!0&&(M.multiple=!0),F("input",M)}return Object.assign(a,{fieldClass:{value:"q-file q-field--auto-height"},emitValue:P,hasValue:m,inputRef:o,innerValue:g,floatingLabel:y(()=>m.value===!0||yi(e.displayValue)),computedCounter:y(()=>{if(e.counterLabel!==void 0)return e.counterLabel(C.value);const M=e.maxFiles;return`${g.value.length}${M!==void 0?" / "+M:""} (${x.value})`}),getControlChild:()=>h("file"),getControl:()=>{const M={ref:a.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return a.editable.value===!0&&Object.assign(M,{onDragover:c,onDragleave:d,onKeydown:q,onKeyup:T}),F("div",M,[R()].concat(K()))}}),Object.assign(l,{removeAtIndex:E,removeFile:D,getNativeElement:()=>o.value}),so(a)}}),J0=_e({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validation-success","validation-error"],setup(e,{slots:t,emit:n}){const i=we(),l=S(null);let a=0;const o=[];function s(h){const p=[],g=typeof h=="boolean"?h:e.noErrorFocus!==!0,m=++a,b=(x,C)=>{n("validation-"+(x===!0?"success":"error"),C)};for(let x=0;x<o.length;x++){const C=o[x],k=C.validate();if(typeof k.then=="function")p.push(k.then(w=>({valid:w,comp:C}),w=>({valid:!1,comp:C,err:w})));else if(k!==!0){if(e.greedy===!1)return b(!1,C),g===!0&&typeof C.focus=="function"&&C.focus(),Promise.resolve(!1);p.push({valid:!1,comp:C})}}return p.length===0?(b(!0),Promise.resolve(!0)):Promise.all(p).then(x=>{const C=x.filter(D=>D.valid!==!0);if(C.length===0)return m===a&&b(!0),!0;const{valid:k,comp:w,err:E}=C[0];return m===a&&(E!==void 0&&console.error(E),b(!1,w),g===!0&&k!==!0&&typeof w.focus=="function"&&w.focus()),!1})}function r(){a++,o.forEach(h=>{typeof h.resetValidation=="function"&&h.resetValidation()})}function u(h){h!==void 0&&it(h);const p=a+1;s().then(g=>{p===a&&g===!0&&(e.onSubmit!==void 0?n("submit",h):h!==void 0&&h.target!==void 0&&typeof h.target.submit=="function"&&h.target.submit())})}function c(h){h!==void 0&&it(h),n("reset"),We(()=>{r(),e.autofocus===!0&&e.noResetFocus!==!0&&d()})}function d(){Ol(()=>{if(l.value===null)return;const h=l.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(l.value.querySelectorAll("[tabindex]"),p=>p.tabIndex>-1);h!=null&&h.focus({preventScroll:!0})})}$l(cc,{bindComponent(h){o.push(h)},unbindComponent(h){const p=o.indexOf(h);p>-1&&o.splice(p,1)}});let f=!1;return Ki(()=>{f=!0}),Yi(()=>{f===!0&&e.autofocus===!0&&d()}),De(()=>{e.autofocus===!0&&d()}),Object.assign(i.proxy,{validate:s,resetValidation:r,submit:u,reset:c,focus:d,getValidationComponents:()=>o}),()=>F("form",{class:"q-form",ref:l,onSubmit:u,onReset:c},Ie(t.default))}});const jr=Ee({__name:"NumberArrayInput",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e;function i(o){const s=o.split(",");for(const r of s)if(isNaN(Number(r)))return!1;return!0}const l=S(n.modelValue.join(","));function a(){let o=[];for(let s of l.value.split(","))s!==""&&o.push(Number(s));console.log(l.value,o),t("update:modelValue",o)}return(o,s)=>(I(),ie($t,{onFocusout:a,modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=r=>l.value=r),rules:[i],hint:"\u7528\u82F1\u6587\u9017\u53F7\u300C,\u300D\u5206\u5F00","hide-hint":""},null,8,["modelValue","rules"]))}}),eb={class:"text-h6"},tb=Ee({__name:"DatabaseConfig",props:{dbName:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=Xn();G(()=>i.dbName,(r,u)=>{o(r)});const l=S(),a=S(!1);function o(r=n.dbName){bs(r).then(u=>{l.value=u})}De(()=>{o()});function s(){l.value!==void 0&&(a.value=!0,gh(n.dbName,l.value).then(()=>{a.value=!1,t("update:modelValue",!1),Le({level:"success",msg:"\u914D\u7F6E\u66F4\u65B0\u6210\u529F"})}))}return(r,u)=>(I(),ie(Kt,{"model-value":r.modelValue,"onUpdate:modelValue":u[6]||(u[6]=c=>r.$emit("update:modelValue",c))},{default:_(()=>[v(ke,{style:{"min-width":"400px",width:"50vw"}},{default:_(()=>[v(et,null,{default:_(()=>[B("div",eb,"\u914D\u7F6E "+Y(r.dbName),1)]),_:1}),ne(l)!==void 0?(I(),ie(et,{key:0},{default:_(()=>[v(J0,{onSubmit:s},{default:_(()=>[v($t,{modelValue:ne(l).name,"onUpdate:modelValue":u[0]||(u[0]=c=>ne(l).name=c),label:"\u540D\u79F0"},null,8,["modelValue"]),v($t,{type:"textarea",modelValue:ne(l).description,"onUpdate:modelValue":u[1]||(u[1]=c=>ne(l).description=c),label:"\u63CF\u8FF0"},null,8,["modelValue"]),v(jr,{modelValue:ne(l).subscribed_bookmark_uid,"onUpdate:modelValue":u[2]||(u[2]=c=>ne(l).subscribed_bookmark_uid=c),label:"\u8BA2\u9605\u7528\u6237\u6536\u85CF UID"},null,8,["modelValue"]),v(jr,{modelValue:ne(l).subscribed_user_uid,"onUpdate:modelValue":u[3]||(u[3]=c=>ne(l).subscribed_user_uid=c),label:"\u8BA2\u9605\u753B\u5E08 UID"},null,8,["modelValue"]),v(wn,{modelValue:ne(l).subscribe_overwrite,"onUpdate:modelValue":u[4]||(u[4]=c=>ne(l).subscribe_overwrite=c),options:["append","intelligent","replace"],label:"\u8986\u5199\u6A21\u5F0F","hide-hint":"",hint:"intelligent: \u5F53\u67D0\u4E00\u9875\u6240\u6709\u63D2\u753B\u5747\u5728\u6570\u636E\u5E93\u4E2D\uFF0C\u505C\u6B62\u66F4\u65B0\uFF1Bappend: \u8FFD\u52A0\u6307\u5B9A\u9875\u6570\u7684\u63D2\u753B\uFF1Breplace: \u5220\u9664\u539F\u6709\u63D2\u753B"},null,8,["modelValue"]),ne(l).subscribe_overwrite!="intelligent"?(I(),ie($t,{key:0,type:"number",modelValue:ne(l).subscribe_pages,"onUpdate:modelValue":u[5]||(u[5]=c=>ne(l).subscribe_pages=c),label:"\u66F4\u65B0\u8BA2\u9605\u7684\u9875\u6570",hint:"-1 \u8868\u793A\u4E0D\u9650\u9875\u6570","hide-hint":""},null,8,["modelValue"])):Se("",!0),v(ae,{flat:"",label:"\u63D0\u4EA4",type:"submit",color:"primary",loading:ne(a),class:"float-right q-ma-md"},null,8,["loading"]),v(ae,{flat:"",label:"\u91CD\u7F6E",color:"primary",class:"float-right q-ma-md",onClick:o})]),_:1})]),_:1})):Se("",!0)]),_:1})]),_:1},8,["model-value"]))}}),nb={class:"q-ma-md"},ib=Ee({__name:"DatabaseActions",props:{dbName:{}},emits:["updateSubscrip","updateNum"],setup(e,{emit:t}){const n=e,i=S(!1),l=S(!1),a=S(`\u66F4\u65B0\u8BA2\u9605..
`),o=S(null),s=S(),r=S(!1);async function u(p){for(;;){let g=await p.next();if(a.value+=`
`+g.value,o.value!=null&&o.value.setScrollPercentage("vertical",1,.1),g.done){r.value=!1,t("updateSubscrip"),t("updateNum",n.dbName);return}}}function c(){l.value=!0,bs(n.dbName).then(p=>{ph(n.dbName,p.subscribe_pages).then(u)}),r.value=!0}const d=S();function f(){bh(n.dbName).then(p=>{d.value=window.URL.createObjectURL(new Blob([p],{type:"application/json"}))})}function h(p){s.value=p;const g=new FileReader;g.readAsText(p,"utf-8"),g.onload=()=>{typeof g.result=="string"?_h(n.dbName,g.result).then(()=>{Le({level:"success",msg:"\u5BFC\u5165 JSON \u5230 "+n.dbName+" \u6210\u529F"})}):Le({level:"error",msg:"\u8BFB\u53D6\u6587\u4EF6\u5931\u8D25"})}}return(p,g)=>(I(),J("div",null,[v(zc,{color:"secondary",icon:"menu"},{default:_(()=>[v(dn,null,{default:_(()=>[he((I(),ie(je,{clickable:"",flat:"",onClick:g[0]||(g[0]=m=>i.value=!i.value)},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"settings"})]),_:1}),v(ge,null,{default:_(()=>[j("\u914D\u7F6E")]),_:1})]),_:1})),[[fn]]),he((I(),ie(je,{clickable:"",onClick:c,loading:r.value},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"sync"})]),_:1}),v(ge,null,{default:_(()=>[j("\u66F4\u65B0\u8BA2\u9605")]),_:1})]),_:1},8,["loading"])),[[fn]]),he((I(),ie(je,{clickable:"",onClick:g[1]||(g[1]=m=>l.value=!l.value),loading:r.value},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"history"})]),_:1}),v(ge,null,{default:_(()=>[j("\u8BA2\u9605\u8BB0\u5F55")]),_:1})]),_:1},8,["loading"])),[[fn]]),v(je,{clickable:"",onClick:f},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"file_upload"})]),_:1}),v(ge,null,{default:_(()=>[j("\u5BFC\u51FA JSON")]),_:1}),v(Mn,{"auto-close":"",anchor:"top right"},{default:_(()=>[v(ae,{href:d.value,target:"_blank",loading:d.value===void 0,onClick:g[2]||(g[2]=m=>d.value=void 0),label:"\u4E0B\u8F7D"},null,8,["href","loading"])]),_:1})]),_:1}),v(je,{clickable:""},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"file_download"})]),_:1}),v(ge,null,{default:_(()=>[j("\u5BFC\u5165 JSON")]),_:1}),v(Mn,{anchor:"top right"},{default:_(()=>[v(Z0,{"model-value":s.value,"onUpdate:modelValue":h,label:"\u4E0A\u4F20 JSON \u6587\u4EF6"},null,8,["model-value"])]),_:1})]),_:1})]),_:1})]),_:1}),v(tb,{modelValue:i.value,"onUpdate:modelValue":g[3]||(g[3]=m=>i.value=m),"db-name":p.dbName},null,8,["modelValue","db-name"]),v(Kt,{modelValue:l.value,"onUpdate:modelValue":g[4]||(g[4]=m=>l.value=m)},{default:_(()=>[v(ke,{style:{width:"700px","max-width":"80vw"}},{default:_(()=>[v(et,null,{default:_(()=>[v(qn,{indeterminate:r.value},null,8,["indeterminate"])]),_:1}),v(et,null,{default:_(()=>[v(ne(Si),{style:{height:"650px"},ref_key:"infoScroller",ref:o},{default:_(()=>[B("pre",nb,Y(a.value),1)]),_:1},512)]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}});const lb=e=>(kn("data-v-eef983e2"),e=e(),Cn(),e),ab={class:"flex items-center select-div"},ob=lb(()=>B("span",{style:{"font-size":"16px"}},"\u6536\u85CF\u5939\uFF1A",-1)),sb={style:{"margin-left":"20px"}},rb={style:{"margin-left":"20px"}},ub={class:"flex items-center",style:{"column-gap":"10px"}},cb={class:"q-ma-md"},db={class:"flex items-center",style:{"column-gap":"10px"}},fb={class:"row q-col-gutter-sm q-ma-md",style:{"margin-top":"100px"}},hb=Ee({__name:"LocalFavorite",props:{dbName:{},initialQueryString:{},dbNameList:{}},emits:["updateProps","updateTitle"],setup(e,{emit:t}){const n=e,i=Gn(),l=Xn(),a=S(0);function o(k){bs(k).then(w=>{w.subscribed_bookmark_uid[0]&&ps(w.subscribed_bookmark_uid[0]).then(E=>{a.value=E.total_bookmarked_illust})})}G(()=>l.dbName,(k,w)=>{u.value="-a",o(k),g()});let s=y(()=>i.h_switch?"H\u54DF\u897F":"H\u54D2\u54A9");const r=S(!1),u=S(""),c=S(!1),d=S([]),f=S(!1),h=S(1),p=S([]);function g(){c.value=!1,t("updateProps",te(O({},n),{initialQueryString:u.value})),f.value=!0,gs(l.dbName,u.value).then(k=>{d.value=k,f.value=!1}).catch(k=>{c.value=!0,f.value=!1,console.log(k)})}De(()=>{o(n.dbName),t("updateTitle","\u672C\u5730\u6536\u85CF\u5939"),n.initialQueryString!==void 0&&(u.value=n.initialQueryString,g())});const m=y(()=>d.value.slice(Qt*(h.value-1),Qt*h.value));function b(){d.value=d.value.filter(k=>!p.value.includes(k[0])),p.value=[],o(n.dbName)}const x=S("");function C(){yc().then(k=>x.value=k)}return(k,w)=>(I(),J(Te,null,[v(ke,{"inline-actions":"",class:"text-white bg-blue flex justify-between items-center",style:{padding:"0 20px",height:"50px",position:"fixed","z-index":"99",left:"0",right:"0",top:"50px","border-radius":"0"}},{default:_(()=>[B("div",ab,[ob,v(wn,{outlined:"",dense:"",modelValue:ne(l).dbName,"onUpdate:modelValue":w[0]||(w[0]=E=>ne(l).dbName=E),options:Object.values(n.dbNameList),style:{width:"250px"}},null,8,["modelValue","options"]),B("span",sb,"\u603B\u6570\uFF1A"+Y(d.value.length),1),B("span",rb,"\u672A\u540C\u6B65\uFF1A"+Y(a.value>0?a.value-d.value.length:"..."),1)]),B("div",ub,[v($t,{outlined:"",modelValue:u.value,"onUpdate:modelValue":w[1]||(w[1]=E=>u.value=E),dense:"","options-dense":"",onKeyup:vn(g,["enter"]),clearable:"","clear-icon":"close","bg-color":"white","input-style":"font-size:20px;color:black;",style:{width:"300px"}},null,8,["modelValue","onKeyup"]),v(ae,{icon:"help",size:"sm",flat:"",onClick:w[2]||(w[2]=E=>{C(),r.value=!r.value})},{default:_(()=>[v(Oe,null,{default:_(()=>[j("\u5E2E\u52A9")]),_:1})]),_:1})]),v(Kt,{modelValue:r.value,"onUpdate:modelValue":w[4]||(w[4]=E=>r.value=E)},{default:_(()=>[v(ke,null,{default:_(()=>[B("pre",cb,Y(x.value),1),v(ae,{flat:"",class:"float-right q-ma-md",color:"primary",onClick:w[3]||(w[3]=E=>r.value=!1)},{default:_(()=>[j("\u5173\u95ED")]),_:1})]),_:1})]),_:1},8,["modelValue"]),d.value.length>ne(Qt)?(I(),ie(Fs,{key:0,class:"flex justify-center",modelValue:h.value,"onUpdate:modelValue":w[5]||(w[5]=E=>h.value=E),max:Math.ceil(d.value.length/ne(Qt)),"max-pages":8,gutter:"20px","boundary-numbers":"",color:"white","active-color":"primary",style:{"column-gap":"10px"}},null,8,["modelValue","max"])):Se("",!0),B("div",db,[v(jl,{modelValue:ne(i).h_switch,"onUpdate:modelValue":w[6]||(w[6]=E=>ne(i).h_switch=E),"keep-color":"",color:"red",label:ne(s),"left-label":""},null,8,["modelValue","label"]),v(ib,{"db-name":ne(l).dbName,onUpdateSubscrip:g,onUpdateNum:o},null,8,["db-name"])])]),_:1}),v(el,{modelValue:p.value,"onUpdate:modelValue":w[7]||(w[7]=E=>p.value=E)},{default:_(({toggle:E,getState:D})=>[B("div",fb,[v(Yn,{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"},{default:_(()=>[(I(!0),J(Te,null,ut(m.value,([P,q],T)=>(I(),J("div",{class:"col-md-3 col-sm-6 col-xs-12 col-lg-2",key:P},[v(Ds,{iid:P,index:T,"db-name":ne(l).dbName,"onUpdate:select":$=>E(P,$),selected:D(P),score:q===-1?void 0:q,height:"300px",page:h.value},null,8,["iid","index","db-name","onUpdate:select","selected","score","page"])]))),128))]),_:2},1024)])]),_:1},8,["modelValue"]),v(Bs,{modelValue:p.value,"onUpdate:modelValue":w[8]||(w[8]=E=>p.value=E),"db-name":ne(l).dbName,all:d.value.map(E=>E[0]),onDelete:b},null,8,["modelValue","db-name","all"]),v(tl)],64))}});var vb=mt(hb,[["__scopeId","data-v-eef983e2"]]),mb=_e({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:n}){const i=we(),{proxy:{$q:l}}=i,a=o=>{n("click",o)};return()=>{if(e.props===void 0)return F("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:a},Ie(t.default));let o,s;const r=i.vnode.key;if(r){if(o=e.props.colsMap[r],o===void 0)return}else o=e.props.col;if(o.sortable===!0){const c=o.align==="right"?"unshift":"push";s=ss(t.default,[]),s[c](F(ve,{class:o.__iconClass,name:l.iconSet.table.arrowUp}))}else s=Ie(t.default);const u={class:o.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:o.headerStyle,onClick:c=>{o.sortable===!0&&e.props.sort(o),a(c)}};return F("th",u,s)}}});const gb=["horizontal","vertical","cell","none"];var As=_e({name:"QMarkupTable",props:te(O({},bt),{dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>gb.includes(e)}}),setup(e,{slots:t}){const n=we(),i=_t(e,n.proxy.$q),l=y(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(i.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>F("div",{class:l.value},[F("table",{class:"q-table"},Ie(t.default))])}});function Ad(e,t){return F("div",e,[F("table",{class:"q-table"},t)])}const pb={list:dn,table:As},bb=["list","table","__qtable"];var _b=_e({name:"QVirtualScroll",props:te(O({},_d),{type:{type:String,default:"list",validator:e=>bb.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}}),setup(e,{slots:t,attrs:n}){let i;const l=S(null),a=y(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:o,localResetVirtualScroll:s,padVirtualScroll:r,onVirtualScrollEvt:u}=yd({virtualScrollLength:a,getVirtualScrollTarget:p,getVirtualScrollEl:h}),c=y(()=>{if(a.value===0)return[];const x=(C,k)=>({index:o.value.from+k,item:C});return e.itemsFn===void 0?e.items.slice(o.value.from,o.value.to).map(x):e.itemsFn(o.value.from,o.value.to-o.value.from).map(x)}),d=y(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),f=y(()=>e.scrollTarget!==void 0?{}:{tabindex:0});G(a,()=>{s()}),G(()=>e.scrollTarget,()=>{m(),g()});function h(){return l.value.$el||l.value}function p(){return i}function g(){i=Il(h(),e.scrollTarget),i.addEventListener("scroll",u,Ft.passive)}function m(){i!==void 0&&(i.removeEventListener("scroll",u,Ft.passive),i=void 0)}function b(){let x=r(e.type==="list"?"div":"tbody",c.value.map(t.default));return t.before!==void 0&&(x=t.before().concat(x)),on(t.after,x)}return hs(()=>{s()}),De(()=>{g()}),Yi(()=>{g()}),Ki(()=>{m()}),Xe(()=>{m()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Ad({ref:l,class:"q-table__middle "+d.value},b()):F(pb[e.type],O(te(O({},n),{ref:l,class:[n.class,d.value]}),f.value),b)}}});let al=0;const yb={fullscreen:Boolean,noRouteFullscreenExit:Boolean},xb=["update:fullscreen","fullscreen"];function wb(){const e=we(),{props:t,emit:n,proxy:i}=e;let l,a,o;const s=S(!1);lc(e)===!0&&G(()=>i.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&c()}),G(()=>t.fullscreen,d=>{s.value!==d&&r()}),G(s,d=>{n("update:fullscreen",d),n("fullscreen",d)});function r(){s.value===!0?c():u()}function u(){s.value!==!0&&(s.value=!0,o=i.$el.parentNode,o.replaceChild(a,i.$el),document.body.appendChild(i.$el),al++,al===1&&document.body.classList.add("q-body--fullscreen-mixin"),l={handler:c},Aa.add(l))}function c(){s.value===!0&&(l!==void 0&&(Aa.remove(l),l=void 0),o.replaceChild(i.$el,a),s.value=!1,al=Math.max(0,al-1),al===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),i.$el.scrollIntoView!==void 0&&setTimeout(()=>{i.$el.scrollIntoView()})))}return hs(()=>{a=document.createElement("span")}),De(()=>{t.fullscreen===!0&&u()}),Xe(c),Object.assign(i,{toggleFullscreen:r,setFullscreen:u,exitFullscreen:c}),{inFullscreen:s,toggleFullscreen:r}}function kb(e,t){return new Date(e)-new Date(t)}const Cb={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Sb(e,t,n,i){const l=y(()=>{const{sortBy:s}=t.value;return s&&n.value.find(r=>r.name===s)||null}),a=y(()=>e.sortMethod!==void 0?e.sortMethod:(s,r,u)=>{const c=n.value.find(h=>h.name===r);if(c===void 0||c.field===void 0)return s;const d=u===!0?-1:1,f=typeof c.field=="function"?h=>c.field(h):h=>h[c.field];return s.sort((h,p)=>{let g=f(h),m=f(p);return g==null?-1*d:m==null?1*d:c.sort!==void 0?c.sort(g,m,h,p)*d:Ma(g)===!0&&Ma(m)===!0?(g-m)*d:cr(g)===!0&&cr(m)===!0?kb(g,m)*d:typeof g=="boolean"&&typeof m=="boolean"?(g-m)*d:([g,m]=[g,m].map(b=>(b+"").toLocaleString().toLowerCase()),g<m?-1*d:g===m?0:d)})});function o(s){let r=e.columnSortOrder;if(Sa(s)===!0)s.sortOrder&&(r=s.sortOrder),s=s.name;else{const d=n.value.find(f=>f.name===s);d!==void 0&&d.sortOrder&&(r=d.sortOrder)}let{sortBy:u,descending:c}=t.value;u!==s?(u=s,c=r==="da"):e.binaryStateSort===!0?c=!c:c===!0?r==="ad"?u=null:c=!1:r==="ad"?c=!0:u=null,i({sortBy:u,descending:c,page:1})}return{columnToSort:l,computedSortMethod:a,sort:o}}const Eb={filter:[String,Object],filterMethod:Function};function Fb(e,t){const n=y(()=>e.filterMethod!==void 0?e.filterMethod:(i,l,a,o)=>{const s=l?l.toLowerCase():"";return i.filter(r=>a.some(u=>{const c=o(u,r)+"";return(c==="undefined"||c==="null"?"":c.toLowerCase()).indexOf(s)!==-1}))});return G(()=>e.filter,()=>{We(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function Db(e,t){for(const n in t)if(t[n]!==e[n])return!1;return!0}function Wr(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Bb={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Ab(e,t){const{props:n,emit:i}=e,l=S(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length>0?n.rowsPerPageOptions[0]:5},n.pagination)),a=y(()=>{const c=n["onUpdate:pagination"]!==void 0?O(O({},l.value),n.pagination):l.value;return Wr(c)}),o=y(()=>a.value.rowsNumber!==void 0);function s(c){r({pagination:c,filter:n.filter})}function r(c={}){We(()=>{i("request",{pagination:c.pagination||a.value,filter:c.filter||n.filter,getCellValue:t})})}function u(c,d){const f=Wr(O(O({},a.value),c));if(Db(a.value,f)===!0){o.value===!0&&d===!0&&s(f);return}if(o.value===!0){s(f);return}n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?i("update:pagination",f):l.value=f}return{innerPagination:l,computedPagination:a,isServerSide:o,requestServerInteraction:r,setPagination:u}}function Pb(e,t,n,i,l,a){const{props:o,emit:s,proxy:{$q:r}}=e,u=y(()=>i.value===!0?n.value.rowsNumber||0:a.value),c=y(()=>{const{page:k,rowsPerPage:w}=n.value;return(k-1)*w}),d=y(()=>{const{page:k,rowsPerPage:w}=n.value;return k*w}),f=y(()=>n.value.page===1),h=y(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(u.value/n.value.rowsPerPage))),p=y(()=>d.value===0?!0:n.value.page>=h.value),g=y(()=>(o.rowsPerPageOptions.includes(t.value.rowsPerPage)?o.rowsPerPageOptions:[t.value.rowsPerPage].concat(o.rowsPerPageOptions)).map(w=>({label:w===0?r.lang.table.allRows:""+w,value:w})));G(h,(k,w)=>{if(k===w)return;const E=n.value.page;k&&!E?l({page:1}):k<E&&l({page:k})});function m(){l({page:1})}function b(){const{page:k}=n.value;k>1&&l({page:k-1})}function x(){const{page:k,rowsPerPage:w}=n.value;d.value>0&&k*w<u.value&&l({page:k+1})}function C(){l({page:h.value})}return o["onUpdate:pagination"]!==void 0&&s("update:pagination",O({},n.value)),{firstRowIndex:c,lastRowIndex:d,isFirstPage:f,isLastPage:p,pagesNumber:h,computedRowsPerPageOptions:g,computedRowsNumber:u,firstPage:m,prevPage:b,nextPage:x,lastPage:C}}const Mb={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},qb=["update:selected","selection"];function Tb(e,t,n,i){const l=y(()=>{const p={};return e.selected.map(i.value).forEach(g=>{p[g]=!0}),p}),a=y(()=>e.selection!=="none"),o=y(()=>e.selection==="single"),s=y(()=>e.selection==="multiple"),r=y(()=>n.value.length>0&&n.value.every(p=>l.value[i.value(p)]===!0)),u=y(()=>r.value!==!0&&n.value.some(p=>l.value[i.value(p)]===!0)),c=y(()=>e.selected.length);function d(p){return l.value[p]===!0}function f(){t("update:selected",[])}function h(p,g,m,b){t("selection",{rows:g,added:m,keys:p,evt:b});const x=o.value===!0?m===!0?g:[]:m===!0?e.selected.concat(g):e.selected.filter(C=>p.includes(i.value(C))===!1);t("update:selected",x)}return{hasSelectionMode:a,singleSelection:o,multipleSelection:s,allRowsSelected:r,someRowsSelected:u,rowsSelectedNumber:c,isRowSelected:d,clearSelection:f,updateSelection:h}}function Ur(e){return Array.isArray(e)?e.slice():[]}const Vb={expanded:Array},$b=["update:expanded"];function Lb(e,t){const n=S(Ur(e.expanded));G(()=>e.expanded,o=>{n.value=Ur(o)});function i(o){return n.value.includes(o)}function l(o){e.expanded!==void 0?t("update:expanded",o):n.value=o}function a(o,s){const r=n.value.slice(),u=r.indexOf(o);s===!0?u===-1&&(r.push(o),l(r)):u!==-1&&(r.splice(u,1),l(r))}return{isRowExpanded:i,setExpanded:l,updateExpanded:a}}const Rb={visibleColumns:Array};function Ob(e,t,n){const i=y(()=>{if(e.columns!==void 0)return e.columns;const s=e.rows[0];return s!==void 0?Object.keys(s).map(r=>({name:r,label:r.toUpperCase(),field:r,align:Ma(s[r])?"right":"left",sortable:!0})):[]}),l=y(()=>{const{sortBy:s,descending:r}=t.value;return(e.visibleColumns!==void 0?i.value.filter(c=>c.required===!0||e.visibleColumns.includes(c.name)===!0):i.value).map(c=>{const d=c.align||"right",f=`text-${d}`;return te(O({},c),{align:d,__iconClass:`q-table__sort-icon q-table__sort-icon--${d}`,__thClass:f+(c.headerClasses!==void 0?" "+c.headerClasses:"")+(c.sortable===!0?" sortable":"")+(c.name===s?` sorted ${r===!0?"sort-desc":""}`:""),__tdStyle:c.style!==void 0?typeof c.style!="function"?()=>c.style:c.style:()=>null,__tdClass:c.classes!==void 0?typeof c.classes!="function"?()=>f+" "+c.classes:h=>f+" "+c.classes(h):()=>f})})}),a=y(()=>{const s={};return l.value.forEach(r=>{s[r.name]=r}),s}),o=y(()=>e.tableColspan!==void 0?e.tableColspan:l.value.length+(n.value===!0?1:0));return{colList:i,computedCols:l,computedColsMap:a,computedColspan:o}}const ra="q-table__bottom row items-center",Pd={};bd.forEach(e=>{Pd[e]={}});var vi=_e({name:"QTable",props:O(O(O(O(O(O(O(O(te(O({rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0}},Pd),{noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function}),bt),yb),Rb),Eb),Bb),Vb),Mb),Cb),emits:["request","virtual-scroll",...xb,...$b,...qb],setup(e,{slots:t,emit:n}){const i=we(),{proxy:{$q:l}}=i,a=_t(e,l),{inFullscreen:o,toggleFullscreen:s}=wb(),r=y(()=>typeof e.rowKey=="function"?e.rowKey:U=>U[e.rowKey]),u=S(null),c=S(null),d=y(()=>e.grid!==!0&&e.virtualScroll===!0),f=y(()=>" q-table__card"+(a.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),h=y(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.loading===!0?" q-table--loading":"")+(e.grid===!0?" q-table--grid":f.value)+(a.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(o.value===!0?" fullscreen scroll":"")),p=y(()=>h.value+(e.loading===!0?" q-table--loading":""));G(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+h.value,()=>{d.value===!0&&c.value!==null&&c.value.reset()});const{innerPagination:g,computedPagination:m,isServerSide:b,requestServerInteraction:x,setPagination:C}=Ab(i,Wt),{computedFilterMethod:k}=Fb(e,C),{isRowExpanded:w,setExpanded:E,updateExpanded:D}=Lb(e,n),P=y(()=>{let U=e.rows;if(b.value===!0||U.length===0)return U;const{sortBy:de,descending:ye}=m.value;return e.filter&&(U=k.value(U,e.filter,N.value,Wt)),se.value!==null&&(U=Re.value(e.rows===U?U.slice():U,de,ye)),U}),q=y(()=>P.value.length),T=y(()=>{let U=P.value;if(b.value===!0)return U;const{rowsPerPage:de}=m.value;return de!==0&&(be.value===0&&e.rows!==U?U.length>Ve.value&&(U=U.slice(0,Ve.value)):U=U.slice(be.value,Ve.value)),U}),{hasSelectionMode:$,singleSelection:H,multipleSelection:L,allRowsSelected:K,someRowsSelected:R,rowsSelectedNumber:M,isRowSelected:A,clearSelection:z,updateSelection:W}=Tb(e,n,T,r),{colList:ue,computedCols:N,computedColsMap:X,computedColspan:oe}=Ob(e,m,$),{columnToSort:se,computedSortMethod:Re,sort:pe}=Sb(e,m,ue,C),{firstRowIndex:be,lastRowIndex:Ve,isFirstPage:le,isLastPage:ce,pagesNumber:Ge,computedRowsPerPageOptions:Ue,computedRowsNumber:Ne,firstPage:Bt,prevPage:yt,nextPage:xt,lastPage:ee}=Pb(i,g,m,b,C,q),xe=y(()=>T.value.length===0),Fe=y(()=>{const U={};return bd.forEach(de=>{U[de]=e[de]}),U.virtualScrollItemSize===void 0&&(U.virtualScrollItemSize=e.dense===!0?28:48),U});function Ae(){d.value===!0&&c.value.reset()}function Me(){if(e.grid===!0)return po();const U=e.hideHeader!==!0?Ye:null;if(d.value===!0){const ye=t["top-row"],Ce=t["bottom-row"],ze={default:ht=>dt(ht.item,t.body,ht.index)};if(ye!==void 0){const ht=F("tbody",ye({cols:N.value}));ze.before=U===null?()=>ht:()=>[U()].concat(ht)}else U!==null&&(ze.before=U);return Ce!==void 0&&(ze.after=()=>F("tbody",Ce({cols:N.value}))),F(_b,te(O({ref:c,class:e.tableClass,style:e.tableStyle},Fe.value),{scrollTarget:e.virtualScrollTarget,items:T.value,type:"__qtable",tableColspan:oe.value,onVirtualScroll:me}),ze)}const de=[Yt()];return U!==null&&de.unshift(U()),Ad({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},de)}function Q(U,de){if(c.value!==null){c.value.scrollTo(U,de);return}U=parseInt(U,10);const ye=u.value.querySelector(`tbody tr:nth-of-type(${U+1})`);if(ye!==null){const Ce=u.value.querySelector(".q-table__middle.scroll"),{offsetTop:ze}=ye,ht=ze<Ce.scrollTop?"decrease":"increase";Ce.scrollTop=ze,n("virtual-scroll",{index:U,from:0,to:g.value.rowsPerPage-1,direction:ht})}}function me(U){n("virtual-scroll",U)}function Be(){return[F(qn,{class:"q-table__linear-progress",color:e.color,dark:a.value,indeterminate:!0,trackColor:"transparent"})]}function dt(U,de,ye){const Ce=r.value(U),ze=A(Ce);if(de!==void 0)return de(Xt({key:Ce,row:U,pageIndex:ye,__trClass:ze?"selected":""}));const ht=t["body-cell"],rt=N.value.map(Mt=>{const Fi=t[`body-cell-${Mt.name}`],Di=Fi!==void 0?Fi:ht;return Di!==void 0?Di(pn({key:Ce,row:U,pageIndex:ye,col:Mt})):F("td",{class:Mt.__tdClass(U),style:Mt.__tdStyle(U)},Wt(Mt,U))});if($.value===!0){const Mt=t["body-selection"],Fi=Mt!==void 0?Mt(It({key:Ce,row:U,pageIndex:ye})):[F(zn,{modelValue:ze,color:e.color,dark:a.value,dense:e.dense,"onUpdate:modelValue":(Di,bo)=>{W([Ce],[U],Di,bo)}})];rt.unshift(F("td",{class:"q-table--col-auto-width"},Fi))}const rn={key:Ce,class:{selected:ze}};return e.onRowClick!==void 0&&(rn.class["cursor-pointer"]=!0,rn.onClick=Mt=>{n("RowClick",Mt,U,ye)}),e.onRowDblclick!==void 0&&(rn.class["cursor-pointer"]=!0,rn.onDblclick=Mt=>{n("RowDblclick",Mt,U,ye)}),e.onRowContextmenu!==void 0&&(rn.class["cursor-pointer"]=!0,rn.onContextmenu=Mt=>{n("RowContextmenu",Mt,U,ye)}),F("tr",rn,rt)}function Yt(){const U=t.body,de=t["top-row"],ye=t["bottom-row"];let Ce=T.value.map((ze,ht)=>dt(ze,U,ht));return de!==void 0&&(Ce=de({cols:N.value}).concat(Ce)),ye!==void 0&&(Ce=Ce.concat(ye({cols:N.value}))),F("tbody",Ce)}function Xt(U){return Gt(U),U.cols=U.cols.map(de=>{const ye=O({},de);return $i(ye,"value",()=>Wt(de,U.row)),ye}),U}function pn(U){return Gt(U),$i(U,"value",()=>Wt(U.col,U.row)),U}function It(U){return Gt(U),U}function Gt(U){Object.assign(U,{cols:N.value,colsMap:X.value,sort:pe,rowIndex:be.value+U.pageIndex,color:e.color,dark:a.value,dense:e.dense}),$.value===!0&&$i(U,"selected",()=>A(U.key),(de,ye)=>{W([U.key],[U.row],de,ye)}),$i(U,"expand",()=>w(U.key),de=>{D(U.key,de)})}function Wt(U,de){const ye=typeof U.field=="function"?U.field(de):de[U.field];return U.format!==void 0?U.format(ye,de):ye}const bn=y(()=>({pagination:m.value,pagesNumber:Ge.value,isFirstPage:le.value,isLastPage:ce.value,firstPage:Bt,prevPage:yt,nextPage:xt,lastPage:ee,inFullscreen:o.value,toggleFullscreen:s}));function Z(){const U=t.top,de=t["top-left"],ye=t["top-right"],Ce=t["top-selection"],ze=$.value===!0&&Ce!==void 0&&M.value>0,ht="q-table__top relative-position row items-center";if(U!==void 0)return F("div",{class:ht},[U(bn.value)]);let rt;if(ze===!0?rt=Ce(bn.value).slice():(rt=[],de!==void 0?rt.push(F("div",{class:"q-table-control"},[de(bn.value)])):e.title&&rt.push(F("div",{class:"q-table__control"},[F("div",{class:["q-table__title",e.titleClass]},e.title)]))),ye!==void 0&&(rt.push(F("div",{class:"q-table__separator col"})),rt.push(F("div",{class:"q-table__control"},[ye(bn.value)]))),rt.length!==0)return F("div",{class:ht},rt)}const qe=y(()=>R.value===!0?null:K.value);function Ye(){const U=nt();return e.loading===!0&&t.loading===void 0&&U.push(F("tr",{class:"q-table__progress"},[F("th",{class:"relative-position",colspan:oe.value},Be())])),F("thead",U)}function nt(){const U=t.header,de=t["header-cell"];if(U!==void 0)return U(ft({header:!0})).slice();const ye=N.value.map(Ce=>{const ze=t[`header-cell-${Ce.name}`],ht=ze!==void 0?ze:de,rt=ft({col:Ce});return ht!==void 0?ht(rt):F(mb,{key:Ce.name,props:rt},()=>Ce.label)});if(H.value===!0&&e.grid!==!0)ye.unshift(F("th",{class:"q-table--col-auto-width"}," "));else if(L.value===!0){const Ce=t["header-selection"],ze=Ce!==void 0?Ce(ft({})):[F(zn,{color:e.color,modelValue:qe.value,dark:a.value,dense:e.dense,"onUpdate:modelValue":zt})];ye.unshift(F("th",{class:"q-table--col-auto-width"},ze))}return[F("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},ye)]}function ft(U){return Object.assign(U,{cols:N.value,sort:pe,colsMap:X.value,color:e.color,dark:a.value,dense:e.dense}),L.value===!0&&$i(U,"selected",()=>qe.value,zt),U}function zt(U){R.value===!0&&(U=!1),W(T.value.map(r.value),T.value,U)}const sn=y(()=>{const U=[e.iconFirstPage||l.iconSet.table.firstPage,e.iconPrevPage||l.iconSet.table.prevPage,e.iconNextPage||l.iconSet.table.nextPage,e.iconLastPage||l.iconSet.table.lastPage];return l.lang.rtl===!0?U.reverse():U});function Tn(){if(e.hideBottom===!0)return;if(xe.value===!0){if(e.hideNoData===!0)return;const ye=e.loading===!0?e.loadingLabel||l.lang.table.loading:e.filter?e.noResultsLabel||l.lang.table.noResults:e.noDataLabel||l.lang.table.noData,Ce=t["no-data"],ze=Ce!==void 0?[Ce({message:ye,icon:l.iconSet.table.warning,filter:e.filter})]:[F(ve,{class:"q-table__bottom-nodata-icon",name:l.iconSet.table.warning}),ye];return F("div",{class:ra+" q-table__bottom--nodata"},ze)}const U=t.bottom;if(U!==void 0)return F("div",{class:ra},[U(bn.value)]);const de=e.hideSelectedBanner!==!0&&$.value===!0&&M.value>0?[F("div",{class:"q-table__control"},[F("div",[(e.selectedRowsLabel||l.lang.table.selectedRecords)(M.value)])])]:[];if(e.hidePagination!==!0)return F("div",{class:ra+" justify-end"},go(de));if(de.length>0)return F("div",{class:ra},de)}function mo(U){C({page:1,rowsPerPage:U.value})}function go(U){let de;const{rowsPerPage:ye}=m.value,Ce=e.paginationLabel||l.lang.table.pagination,ze=t.pagination,ht=e.rowsPerPageOptions.length>1;if(U.push(F("div",{class:"q-table__separator col"})),ht===!0&&U.push(F("div",{class:"q-table__control"},[F("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||l.lang.table.recordsPerPage]),F(wn,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:ye,options:Ue.value,displayValue:ye===0?l.lang.table.allRows:ye,dark:a.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":mo})])),ze!==void 0)de=ze(bn.value);else if(de=[F("span",ye!==0?{class:"q-table__bottom-item"}:{},[ye?Ce(be.value+1,Math.min(Ve.value,Ne.value),Ne.value):Ce(1,q.value,Ne.value)])],ye!==0&&Ge.value>1){const rt={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(rt.size="sm"),Ge.value>2&&de.push(F(ae,te(O({key:"pgFirst"},rt),{icon:sn.value[0],disable:le.value,onClick:Bt}))),de.push(F(ae,te(O({key:"pgPrev"},rt),{icon:sn.value[1],disable:le.value,onClick:yt})),F(ae,te(O({key:"pgNext"},rt),{icon:sn.value[2],disable:ce.value,onClick:xt}))),Ge.value>2&&de.push(F(ae,te(O({key:"pgLast"},rt),{icon:sn.value[3],disable:ce.value,onClick:ee})))}return U.push(F("div",{class:"q-table__control"},de)),U}function Gl(){const U=e.gridHeader===!0?[F("table",{class:"q-table"},[Ye()])]:e.loading===!0&&t.loading===void 0?Be():void 0;return F("div",{class:"q-table__middle"},U)}function po(){const U=t.item!==void 0?t.item:de=>{const ye=de.cols.map(ze=>F("div",{class:"q-table__grid-item-row"},[F("div",{class:"q-table__grid-item-title"},[ze.label]),F("div",{class:"q-table__grid-item-value"},[ze.value])]));if($.value===!0){const ze=t["body-selection"],ht=ze!==void 0?ze(de):[F(zn,{modelValue:de.selected,color:e.color,dark:a.value,dense:e.dense,"onUpdate:modelValue":(rt,rn)=>{W([de.key],[de.row],rt,rn)}})];ye.unshift(F("div",{class:"q-table__grid-item-row"},ht),F(Dl,{dark:a.value}))}const Ce={class:["q-table__grid-item-card"+f.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(Ce.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(Ce.onClick=ze=>{n("RowClick",ze,de.row,de.pageIndex)}),e.onRowDblclick!==void 0&&(Ce.onDblclick=ze=>{n("RowDblclick",ze,de.row,de.pageIndex)})),F("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(de.selected===!0?" q-table__grid-item--selected":"")},[F("div",Ce,ye)])};return F("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},T.value.map((de,ye)=>U(Xt({key:r.value(de),row:de,pageIndex:ye}))))}return Object.assign(i.proxy,{requestServerInteraction:x,setPagination:C,firstPage:Bt,prevPage:yt,nextPage:xt,lastPage:ee,isRowSelected:A,clearSelection:z,isRowExpanded:w,setExpanded:E,sort:pe,resetVirtualScroll:Ae,scrollTo:Q,getCellValue:Wt}),yh(i.proxy,{filteredSortedRows:()=>P.value,computedRows:()=>T.value,computedRowsNumber:()=>Ne.value}),()=>{const U=[Z()],de={ref:u,class:p.value};return e.grid===!0?U.push(Gl()):Object.assign(de,{class:[de.class,e.cardClass],style:e.cardStyle}),U.push(Me(),Tn()),e.loading===!0&&t.loading!==void 0&&U.push(t.loading()),F("div",de,U)}}});const Ib={class:"col-12"},zb={class:"row items-center"},Nb=B("div",{class:"col-1"},[B("div",{class:"text-h5",style:{display:"inline-block"}},"\u540C\u6B65")],-1),Hb={class:"col-9"},jb={class:"col"},Wb={class:"col-md-7 col-sm-12 col-xs-12 col-lg-7"},Ub=B("div",{class:"col-2 q-table__title"},"\u65B0\u589E",-1),Qb={class:"col-md-5 col-sm-12 col-xs-12 col-lg-5"},Kb={class:"col-2 q-table__title"},Yb=Ee({__name:"RepoSync",props:{repoName:{}},emits:["refreshCache","refreshIndex"],setup(e,{emit:t}){const n=e,i=S([]),l=S();function a(C){i.value=C,wh(n.repoName,C)}De(()=>{xh(n.repoName).then(C=>{i.value=C,In().then(k=>{l.value=Array.from(new Set(k.concat(i.value)))})})});const o=S([]),s=S([]),r=S([]),u=S([]),c=[{name:"dbName",label:"\u6765\u81EA\u6570\u636E\u5E93",field:"dbName"},{name:"fid",label:"FID",field:"fid"},{name:"path",label:"\u6587\u4EF6",field:"path"}],d=["dbName","fid","path"],f=ui(()=>{let C=[];for(let{db_name:k,entries:w}of s.value)for(let E of w)C.push({dbName:k,fid:E.fid,path:E.path,url:E.url});return C}),h=[c[1],c[2]],p=S(!1);function g(){p.value=!0,kh(n.repoName).then(C=>{let[k,w]=C;r.value=[],u.value=[],o.value=k,s.value=w,p.value=!1})}function m(){const C=r.value.map(k=>({fid:k.fid,path:k.path}));Ch(n.repoName,C).then(()=>{Le({level:"success",msg:`\u6DFB\u52A0\u4E86 ${C.length} \u9879\u5230 ${n.repoName} \u7684\u7F13\u5B58`}),t("refreshCache")})}function b(){const C=u.value.map(k=>k.fid);xc(n.repoName,C).then(()=>{Le({level:"success",msg:`\u4ECE ${n.repoName} \u7684\u7D22\u5F15\u5220\u9664\u4E86 ${C.length} \u9879`}),u.value=[],t("refreshIndex")})}function x(){const C=r.value.map(k=>({fid:k.fid,path:k.path,url:k.url}));Sh(n.repoName,C).then(()=>{Le({level:"success",msg:`\u6DFB\u52A0\u4E86 ${C.length} \u9879\u4E0B\u8F7D\u5230 ${n.repoName}`})})}return(C,k)=>(I(),J(Te,null,[B("div",Ib,[v(ke,null,{default:_(()=>[v(et,null,{default:_(()=>[B("div",zb,[Nb,B("div",Hb,[v(wn,{underlined:"",options:l.value,label:"\u8FDE\u63A5\u6570\u636E\u5E93","onUpdate:modelValue":a,"model-value":i.value,multiple:""},null,8,["options","model-value"])]),B("div",jb,[v(ae,{class:"float-right",color:"primary",onClick:g,label:"\u8BA1\u7B97\u5DEE\u96C6",icon:"data_object"},{default:_(()=>[v(Oe,null,{default:_(()=>[j(" \u65B0\u589E = \u6570\u636E\u5E93 \\ \u50A8\u5B58\u5E93\uFF1B\u5220\u9664 = \u50A8\u5B58\u5E93 \\ \u6570\u636E\u5E93 ")]),_:1})]),_:1})])])]),_:1}),v(qn,{indeterminate:p.value},null,8,["indeterminate"])]),_:1})]),B("div",Wb,[v(ke,null,{default:_(()=>[v(vi,{rows:ne(f),"row-key":"fid",selection:"multiple",selected:r.value,"onUpdate:selected":k[0]||(k[0]=w=>r.value=w),"rows-per-page-options":[10,20,50,100,200,500,0],dense:"",columns:c,"visible-columns":d},{top:_(()=>[Ub,he(v(ae,{flat:"",onClick:m,color:"primary",class:"float-right q-ma-sm"},{default:_(()=>[j(" \u786E\u8BA4\u65B0\u589E "),v(Oe,null,{default:_(()=>[j(" \u52A0\u5165\u9009\u4E2D\u7684\u6761\u76EE\u5230\u50A8\u5B58\u5E93\u7D22\u5F15\u7684\u7F13\u5B58\u533A ")]),_:1})]),_:1},512),[[Ke,r.value.length!=0]]),he(v(ae,{flat:"",onClick:x,color:"primary",class:"float-right q-ma-sm"},{default:_(()=>[j(" \u52A0\u5165\u4E0B\u8F7D "),v(Oe,null,{default:_(()=>[j(" \u4E0B\u8F7D\u9009\u4E2D\u7684\u6761\u76EE\u5230\u50A8\u5B58\u5E93\u7684\u76EE\u5F55\u4E2D ")]),_:1})]),_:1},512),[[Ke,r.value.length!=0]])]),_:1},8,["rows","selected"])]),_:1})]),B("div",Qb,[v(ke,null,{default:_(()=>[v(vi,{rows:o.value,"row-key":"fid",selection:"multiple",selected:u.value,"onUpdate:selected":k[1]||(k[1]=w=>u.value=w),"rows-per-page-options":[10,20,50,100,200,500,0],dense:"",columns:h},{top:_(()=>[B("div",Kb,[j(" \u5220\u9664 "),v(Oe,null,{default:_(()=>[j(" \u4ECE\u50A8\u5B58\u5E93\u7D22\u5F15\u5220\u9664\u9009\u4E2D\u7684\u6761\u76EE ")]),_:1})]),u.value.length!=0?(I(),ie(ae,{key:0,onClick:b,color:"warning",class:"float-right q-ma-sm"},{default:_(()=>[j("\u786E\u8BA4\u5220\u9664 ")]),_:1})):Se("",!0)]),_:1},8,["rows","selected"])]),_:1})])],64))}}),Xb={class:"col-12"},Gb=B("div",{class:"col-2 q-table__title"},"\u7D22\u5F15\u7F13\u5B58",-1),Zb=Ee({__name:"RepoBrowseCache",props:{repoName:{},refresh:{type:Boolean}},setup(e){const t=e,n=[{name:"fid",label:"FID",field:"fid"},{name:"path",label:"\u6587\u4EF6",field:"path"}],i=S([]);G(()=>t.refresh,()=>{l()});function l(){Eh(t.repoName).then(o=>{i.value=o})}De(l);function a(){Fh(t.repoName).then(()=>{Le({level:"success",msg:"\u6E05\u7A7A\u4E86 "+t.repoName+" \u7684\u7D22\u5F15\u7F13\u5B58"}),l()})}return(o,s)=>(I(),J("div",Xb,[v(ke,null,{default:_(()=>[v(vi,{rows:i.value,"row-key":"fid","rows-per-page-options":[10,20,50,100,200,500,0],dense:"",columns:n},{top:_(()=>[Gb,v(ae,{flat:"",onClick:l,color:"primary",class:"float-right q-ma-sm",label:"\u5237\u65B0",icon:"refresh"}),he(v(ae,{flat:"",onClick:a,color:"warning",class:"float-right q-ma-sm",label:"\u6E05\u7A7A",icon:"delete"},null,512),[[Ke,i.value.length!=0]])]),_:1},8,["rows"])]),_:1})]))}}),Jb={class:"col-12"},e_=B("div",{class:"col-4 q-table__title"},"\u5DF2\u7D22\u5F15\u7684\u6587\u4EF6",-1),t_={class:"col-md-6 col-lg-6 col-sm-12 col-xs-12"},n_=B("div",{class:"col-2 q-table__title"},"\u65E0\u6548\u6587\u4EF6",-1),i_={class:"col-md-6 col-lg-6 col-sm-12 col-xs-12"},l_=B("div",{class:"col-2 q-table__title"},"\u65E0\u6548\u7D22\u5F15",-1),a_=Ee({__name:"RepoBrowseIndex",props:{repoName:{},refresh:{type:Boolean}},emits:["refreshCache"],setup(e,{emit:t}){const n=e,i=S(!1),l=S(!1);G(()=>n.refresh,()=>{r()});const a=[{name:"fid",label:"FID",field:"fid",sortable:!0},{name:"path",label:"\u6587\u4EF6",field:"path"}],o=[a[1]],s=S([]);function r(){Dh(n.repoName).then(b=>{s.value=b})}function u(){i.value=!0,Bh(n.repoName).then(b=>{Le({level:"info",msg:`${n.repoName} \u65B0\u589E\u4E86 ${b.length} \u6761\u7D22\u5F15`}),i.value=!1,r(),t("refreshCache")})}De(r);const c=S([]),d=S([]),f=S([]),h=S([]);function p(){l.value=!0,Ah(n.repoName).then(([b,x])=>{c.value=x.map(C=>({path:C})),l.value=!1,d.value=b,x.length==0&&b.length==0&&Le({level:"success",msg:"\u6821\u9A8C\u65E0\u5F02\u5E38"})})}function g(){const b=f.value.map(x=>x.path);Ph(n.repoName,b).then(()=>{Le({level:"success",msg:`\u4ECE\u50A8\u5B58\u5E93 ${n.repoName} \u5220\u9664\u4E86 ${f.value.length} \u4E2A\u65E0\u6548\u6587\u4EF6`}),f.value=[],p()})}function m(){const b=h.value.map(x=>x.fid);xc(n.repoName,b).then(()=>{Le({level:"success",msg:`\u4ECE\u50A8\u5B58\u5E93 ${n.repoName} \u5220\u9664\u4E86 ${f.value.length} \u6761\u65E0\u6548\u7D22\u5F15`}),h.value=[],r(),p()})}return(b,x)=>(I(),J(Te,null,[B("div",Jb,[v(ke,null,{default:_(()=>[v(vi,{rows:s.value,"row-key":"fid","rows-per-page-options":[10,20,50,100,200,500,0],dense:"",columns:a},{top:_(()=>[e_,v(ae,{flat:"",onClick:r,color:"primary",class:"float-right q-ma-sm",label:"\u5237\u65B0",icon:"refresh"}),v(ae,{flat:"",onClick:u,color:"primary",class:"float-right q-ma-sm",loading:i.value,icon:"update",label:"\u66F4\u65B0"},{default:_(()=>[v(Oe,null,{default:_(()=>[j(" \u5C06\u7D22\u5F15\u7F13\u5B58\u4E2D\u4E0B\u8F7D\u5B8C\u6210\u7684\u9879\u79FB\u5165\u7D22\u5F15 ")]),_:1})]),_:1},8,["loading"]),v(ae,{flat:"",onClick:p,color:"primary",class:"float-right q-ma-sm",loading:l.value,label:"\u6821\u9A8C",icon:"verified"},{default:_(()=>[v(Oe,null,{default:_(()=>[j(" \u68C0\u67E5\u662F\u5426\u5B58\u5728\u672A\u7D22\u5F15\u7684\u6587\u4EF6\u548C\u5931\u6548\u7684\u7D22\u5F15 ")]),_:1})]),_:1},8,["loading"])]),_:1},8,["rows"])]),_:1})]),B("div",t_,[v(ke,null,{default:_(()=>[v(vi,{rows:c.value,"row-key":"path","rows-per-page-options":[10,20,50,100,200,500,0],dense:"",columns:o,selection:"multiple",selected:f.value,"onUpdate:selected":x[0]||(x[0]=C=>f.value=C)},{top:_(()=>[n_,he(v(ae,{flat:"",onClick:g,color:"warning",class:"float-right q-ma-sm"},{default:_(()=>[j("\u5220\u9664")]),_:1},512),[[Ke,f.value.length!=0]])]),_:1},8,["rows","selected"])]),_:1})]),B("div",i_,[v(ke,null,{default:_(()=>[v(vi,{rows:d.value,"row-key":"fid","rows-per-page-options":[10,20,50,100,200,500,0],dense:"",columns:a,selection:"multiple",selected:h.value,"onUpdate:selected":x[1]||(x[1]=C=>h.value=C)},{top:_(()=>[l_,he(v(ae,{flat:"",onClick:m,color:"warning",class:"float-right q-ma-sm"},{default:_(()=>[j("\u5220\u9664")]),_:1},512),[[Ke,h.value.length!=0]])]),_:1},8,["rows","selected"])]),_:1})])],64))}}),o_={class:"row q-col-gutter-sm q-ma-sm",style:{"margin-top":"50px"}},s_=Ee({__name:"RepoView",props:{repoName:{}},emits:["updateProps","updateTitle"],setup(e,{emit:t}){const n=e;De(()=>{t("updateTitle","\u50A8\u5B58\u5E93\uFF1A"+n.repoName)});const i=S(!1),l=S(!1);return(a,o)=>(I(),J("div",o_,[v(Yb,{"repo-name":a.repoName,onRefreshCache:o[0]||(o[0]=s=>i.value=!i.value),onRefreshIndex:o[1]||(o[1]=s=>l.value=!l.value)},null,8,["repo-name"]),v(Zb,{"repo-name":a.repoName,refresh:i.value},null,8,["repo-name","refresh"]),v(a_,{"repo-name":a.repoName,refresh:l.value,onRefreshCache:o[2]||(o[2]=s=>i.value=!i.value)},null,8,["repo-name","refresh"])]))}}),Qr="q-slider__marker-labels",r_=e=>({value:e}),u_=({marker:e})=>F("div",{key:e.value,style:e.style,class:e.classes},e.label),Md=[34,37,40,33,39,38],c_=te(O(O({},bt),Ji),{min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}}),d_=["pan","update:modelValue","change"];function f_({updateValue:e,updatePosition:t,getDragging:n,formAttrs:i}){const{props:l,emit:a,slots:o,proxy:{$q:s}}=we(),r=_t(l,s),u=ks(i),c=S(!1),d=S(!1),f=S(!1),h=S(!1),p=y(()=>l.vertical===!0?"--v":"--h"),g=y(()=>"-"+(l.switchLabelSide===!0?"switched":"standard")),m=y(()=>l.vertical===!0?l.reverse===!0:l.reverse!==(s.lang.rtl===!0)),b=y(()=>isNaN(l.innerMin)===!0||l.innerMin<l.min?l.min:l.innerMin),x=y(()=>isNaN(l.innerMax)===!0||l.innerMax>l.max?l.max:l.innerMax),C=y(()=>l.disable!==!0&&l.readonly!==!0&&b.value<x.value),k=y(()=>(String(l.step).trim("0").split(".")[1]||"").length),w=y(()=>l.step===0?1:l.step),E=y(()=>C.value===!0?l.tabindex||0:-1),D=y(()=>l.max-l.min),P=y(()=>x.value-b.value),q=y(()=>Ge(b.value)),T=y(()=>Ge(x.value)),$=y(()=>l.vertical===!0?m.value===!0?"bottom":"top":m.value===!0?"right":"left"),H=y(()=>l.vertical===!0?"height":"width"),L=y(()=>l.vertical===!0?"width":"height"),K=y(()=>l.vertical===!0?"vertical":"horizontal"),R=y(()=>{const Z={role:"slider","aria-valuemin":b.value,"aria-valuemax":x.value,"aria-orientation":K.value,"data-step":l.step};return l.disable===!0?Z["aria-disabled"]="true":l.readonly===!0&&(Z["aria-readonly"]="true"),Z}),M=y(()=>`q-slider q-slider${p.value} q-slider--${c.value===!0?"":"in"}active inline no-wrap `+(l.vertical===!0?"row":"column")+(l.disable===!0?" disabled":" q-slider--enabled"+(C.value===!0?" q-slider--editable":""))+(f.value==="both"?" q-slider--focus":"")+(l.label||l.labelAlways===!0?" q-slider--label":"")+(l.labelAlways===!0?" q-slider--label-always":"")+(r.value===!0?" q-slider--dark":"")+(l.dense===!0?" q-slider--dense q-slider--dense"+p.value:""));function A(Z){const qe="q-slider__"+Z;return`${qe} ${qe}${p.value} ${qe}${p.value}${g.value}`}function z(Z){const qe="q-slider__"+Z;return`${qe} ${qe}${p.value}`}const W=y(()=>{const Z=l.selectionColor||l.color;return"q-slider__selection absolute"+(Z!==void 0?` text-${Z}`:"")}),ue=y(()=>z("markers")+" absolute overflow-hidden"),N=y(()=>z("track-container")),X=y(()=>A("pin")),oe=y(()=>A("label")),se=y(()=>A("text-container")),Re=y(()=>A("marker-labels-container")+(l.markerLabelsClass!==void 0?` ${l.markerLabelsClass}`:"")),pe=y(()=>"q-slider__track relative-position no-outline"+(l.trackColor!==void 0?` bg-${l.trackColor}`:"")),be=y(()=>{const Z={[L.value]:l.trackSize};return l.trackImg!==void 0&&(Z.backgroundImage=`url(${l.trackImg}) !important`),Z}),Ve=y(()=>"q-slider__inner absolute"+(l.innerTrackColor!==void 0?` bg-${l.innerTrackColor}`:"")),le=y(()=>{const Z={[$.value]:`${100*q.value}%`,[H.value]:`${100*(T.value-q.value)}%`};return l.innerTrackImg!==void 0&&(Z.backgroundImage=`url(${l.innerTrackImg}) !important`),Z});function ce(Z){const{min:qe,max:Ye,step:nt}=l;let ft=qe+Z*(Ye-qe);if(nt>0){const zt=(ft-qe)%nt;ft+=(Math.abs(zt)>=nt/2?(zt<0?-1:1)*nt:0)-zt}return k.value>0&&(ft=parseFloat(ft.toFixed(k.value))),Tt(ft,b.value,x.value)}function Ge(Z){return D.value===0?0:(Z-l.min)/D.value}function Ue(Z,qe){const Ye=pi(Z),nt=l.vertical===!0?Tt((Ye.top-qe.top)/qe.height,0,1):Tt((Ye.left-qe.left)/qe.width,0,1);return Tt(m.value===!0?1-nt:nt,q.value,T.value)}const Ne=y(()=>Ma(l.markers)===!0?l.markers:w.value),Bt=y(()=>{const Z=[],qe=Ne.value,Ye=l.max;let nt=l.min;do Z.push(nt),nt+=qe;while(nt<Ye);return Z.push(Ye),Z}),yt=y(()=>{const Z=` ${Qr}${p.value}-`;return Qr+`${Z}${l.switchMarkerLabelsSide===!0?"switched":"standard"}${Z}${m.value===!0?"rtl":"ltr"}`}),xt=y(()=>l.markerLabels===!1?null:Fe(l.markerLabels).map((Z,qe)=>({index:qe,value:Z.value,label:Z.label||Z.value,classes:yt.value+(Z.classes!==void 0?" "+Z.classes:""),style:O(O({},Ae(Z.value)),Z.style||{})}))),ee=y(()=>({markerList:xt.value,markerMap:Me.value,classes:yt.value,getStyle:Ae})),xe=y(()=>{if(P.value!==0){const Z=100*Ne.value/P.value;return te(O({},le.value),{backgroundSize:l.vertical===!0?`2px ${Z}%`:`${Z}% 2px`})}return null});function Fe(Z){if(Z===!1)return null;if(Z===!0)return Bt.value.map(r_);if(typeof Z=="function")return Bt.value.map(Ye=>{const nt=Z(Ye);return Sa(nt)===!0?te(O({},nt),{value:Ye}):{value:Ye,label:nt}});const qe=({value:Ye})=>Ye>=l.min&&Ye<=l.max;return Array.isArray(Z)===!0?Z.map(Ye=>Sa(Ye)===!0?Ye:{value:Ye}).filter(qe):Object.keys(Z).map(Ye=>{const nt=Z[Ye],ft=Number(Ye);return Sa(nt)===!0?te(O({},nt),{value:ft}):{value:ft,label:nt}}).filter(qe)}function Ae(Z){return{[$.value]:`${100*(Z-l.min)/D.value}%`}}const Me=y(()=>{if(l.markerLabels===!1)return null;const Z={};return xt.value.forEach(qe=>{Z[qe.value]=qe}),Z});function Q(){if(o["marker-label-group"]!==void 0)return o["marker-label-group"](ee.value);const Z=o["marker-label"]||u_;return xt.value.map(qe=>Z(O({marker:qe},ee.value)))}const me=y(()=>[[Oi,Be,void 0,{[K.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Be(Z){Z.isFinal===!0?(h.value!==void 0&&(t(Z.evt),Z.touch===!0&&e(!0),h.value=void 0,a("pan","end")),c.value=!1,f.value=!1):Z.isFirst===!0?(h.value=n(Z.evt),t(Z.evt),e(),c.value=!0,a("pan","start")):(t(Z.evt),e())}function dt(){f.value=!1}function Yt(Z){t(Z,n(Z)),e(),d.value=!0,c.value=!0,document.addEventListener("mouseup",Xt,!0)}function Xt(){d.value=!1,c.value=!1,e(!0),dt(),document.removeEventListener("mouseup",Xt,!0)}function pn(Z){t(Z,n(Z)),e(!0)}function It(Z){Md.includes(Z.keyCode)&&e(!0)}function Gt(Z){if(l.vertical===!0)return null;const qe=s.lang.rtl!==l.reverse?1-Z:Z;return{transform:`translateX(calc(${2*qe-1} * ${l.thumbSize} / 2 + ${50-100*qe}%))`}}function Wt(Z){const qe=y(()=>d.value===!1&&(f.value===Z.focusValue||f.value==="both")?" q-slider--focus":""),Ye=y(()=>`q-slider__thumb q-slider__thumb${p.value} q-slider__thumb${p.value}-${m.value===!0?"rtl":"ltr"} absolute non-selectable`+qe.value+(Z.thumbColor.value!==void 0?` text-${Z.thumbColor.value}`:"")),nt=y(()=>({width:l.thumbSize,height:l.thumbSize,[$.value]:`${100*Z.ratio.value}%`,zIndex:f.value===Z.focusValue?2:void 0})),ft=y(()=>Z.labelColor.value!==void 0?` text-${Z.labelColor.value}`:""),zt=y(()=>Gt(Z.ratio.value)),sn=y(()=>"q-slider__text"+(Z.labelTextColor.value!==void 0?` text-${Z.labelTextColor.value}`:""));return()=>{const Tn=[F("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[F("path",{d:l.thumbPath})]),F("div",{class:"q-slider__focus-ring fit"})];return(l.label===!0||l.labelAlways===!0)&&(Tn.push(F("div",{class:X.value+" absolute fit no-pointer-events"+ft.value},[F("div",{class:oe.value,style:{minWidth:l.thumbSize}},[F("div",{class:se.value,style:zt.value},[F("span",{class:sn.value},Z.label.value)])])])),l.name!==void 0&&l.disable!==!0&&u(Tn,"push")),F("div",O({class:Ye.value,style:nt.value},Z.getNodeData()),Tn)}}function bn(Z,qe,Ye,nt){const ft=[];l.innerTrackColor!=="transparent"&&ft.push(F("div",{key:"inner",class:Ve.value,style:le.value})),l.selectionColor!=="transparent"&&ft.push(F("div",{key:"selection",class:W.value,style:Z.value})),l.markers!==!1&&ft.push(F("div",{key:"marker",class:ue.value,style:xe.value})),nt(ft);const zt=[kl("div",O({key:"trackC",class:N.value,tabindex:qe.value},Ye.value),[F("div",{class:pe.value,style:be.value},ft)],"slide",C.value,()=>me.value)];if(l.markerLabels!==!1){const sn=l.switchMarkerLabelsSide===!0?"unshift":"push";zt[sn](F("div",{key:"markerL",class:Re.value},Q()))}return zt}return Xe(()=>{document.removeEventListener("mouseup",Xt,!0)}),{state:{active:c,focus:f,preventFocus:d,dragging:h,editable:C,classes:M,tabindex:E,attributes:R,step:w,decimals:k,trackLen:D,innerMin:b,innerMinRatio:q,innerMax:x,innerMaxRatio:T,positionProp:$,sizeProp:H,isReversed:m},methods:{onActivate:Yt,onMobileClick:pn,onBlur:dt,onKeyup:It,getContent:bn,getThumbRenderFn:Wt,convertRatioToModel:ce,convertModelToRatio:Ge,getDraggingRatio:Ue}}}const h_=()=>({});var ol=_e({name:"QSlider",props:te(O({},c_),{modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]}),emits:d_,setup(e,{emit:t}){const{proxy:{$q:n}}=we(),{state:i,methods:l}=f_({updateValue:p,updatePosition:m,getDragging:g,formAttrs:km(e)}),a=S(null),o=S(0),s=S(0);function r(){s.value=e.modelValue===null?i.innerMin.value:Tt(e.modelValue,i.innerMin.value,i.innerMax.value)}G(()=>`${e.modelValue}|${i.innerMin.value}|${i.innerMax.value}`,r),r();const u=y(()=>l.convertModelToRatio(s.value)),c=y(()=>i.active.value===!0?o.value:u.value),d=y(()=>{const C={[i.positionProp.value]:`${100*i.innerMinRatio.value}%`,[i.sizeProp.value]:`${100*(c.value-i.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(C.backgroundImage=`url(${e.selectionImg}) !important`),C}),f=l.getThumbRenderFn({focusValue:!0,getNodeData:h_,ratio:c,label:y(()=>e.labelValue!==void 0?e.labelValue:s.value),thumbColor:y(()=>e.thumbColor||e.color),labelColor:y(()=>e.labelColor),labelTextColor:y(()=>e.labelTextColor)}),h=y(()=>i.editable.value!==!0?{}:n.platform.is.mobile===!0?{onClick:l.onMobileClick}:{onMousedown:l.onActivate,onFocus:b,onBlur:l.onBlur,onKeydown:x,onKeyup:l.onKeyup});function p(C){s.value!==e.modelValue&&t("update:modelValue",s.value),C===!0&&t("change",s.value)}function g(){return a.value.getBoundingClientRect()}function m(C,k=i.dragging.value){const w=l.getDraggingRatio(C,k);s.value=l.convertRatioToModel(w),o.value=e.snap!==!0||e.step===0?w:l.convertModelToRatio(s.value)}function b(){i.focus.value=!0}function x(C){if(!Md.includes(C.keyCode))return;it(C);const k=([34,33].includes(C.keyCode)?10:1)*i.step.value,w=([34,37,40].includes(C.keyCode)?-1:1)*(i.isReversed.value===!0?-1:1)*k;s.value=Tt(parseFloat((s.value+w).toFixed(i.decimals.value)),i.innerMin.value,i.innerMax.value),p()}return()=>{const C=l.getContent(d,i.tabindex,h,k=>{k.push(f())});return F("div",te(O({ref:a,class:i.classes.value+(e.modelValue===null?" q-slider--no-value":"")},i.attributes.value),{"aria-valuenow":e.modelValue}),C)}}});/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */const qd=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function Td(e,t,n){const i=n||(o=>Array.prototype.slice.call(o));let l=!1,a=[];return function(...o){a=i(o),l||(l=!0,qd.call(window,()=>{l=!1,e.apply(t,a)}))}}function v_(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Ps=e=>e==="start"?"left":e==="end"?"right":"center",qt=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,m_=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function En(){}const g_=function(){let e=0;return function(){return e++}}();function tt(e){return e===null||typeof e=="undefined"}function st(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Qe(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}const Pt=e=>(typeof e=="number"||e instanceof Number)&&isFinite(+e);function Jt(e,t){return Pt(e)?e:t}function $e(e,t){return typeof e=="undefined"?t:e}const p_=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:e/t,Vd=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function at(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Je(e,t,n,i){let l,a,o;if(st(e))if(a=e.length,i)for(l=a-1;l>=0;l--)t.call(n,e[l],l);else for(l=0;l<a;l++)t.call(n,e[l],l);else if(Qe(e))for(o=Object.keys(e),a=o.length,l=0;l<a;l++)t.call(n,e[o[l]],o[l])}function Na(e,t){let n,i,l,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(l=e[n],a=t[n],l.datasetIndex!==a.datasetIndex||l.index!==a.index)return!1;return!0}function Ha(e){if(st(e))return e.map(Ha);if(Qe(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let l=0;for(;l<i;++l)t[n[l]]=Ha(e[n[l]]);return t}return e}function $d(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function b_(e,t,n,i){if(!$d(e))return;const l=t[e],a=n[e];Qe(l)&&Qe(a)?Bl(l,a,i):t[e]=Ha(a)}function Bl(e,t,n){const i=st(t)?t:[t],l=i.length;if(!Qe(e))return e;n=n||{};const a=n.merger||b_;for(let o=0;o<l;++o){if(t=i[o],!Qe(t))continue;const s=Object.keys(t);for(let r=0,u=s.length;r<u;++r)a(s[r],e,t,n)}return e}function bl(e,t){return Bl(e,t,{merger:__})}function __(e,t,n){if(!$d(e))return;const i=t[e],l=n[e];Qe(i)&&Qe(l)?bl(i,l):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ha(l))}const y_="",x_=".";function Kr(e,t){const n=e.indexOf(x_,t);return n===-1?e.length:n}function Un(e,t){if(t===y_)return e;let n=0,i=Kr(t,n);for(;e&&i>n;)e=e[t.slice(n,i)],n=i+1,i=Kr(t,n);return e}function Ms(e){return e.charAt(0).toUpperCase()+e.slice(1)}const an=e=>typeof e!="undefined",Qn=e=>typeof e=="function",Yr=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function w_(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ct=Math.PI,ot=2*ct,k_=ot+ct,ja=Number.POSITIVE_INFINITY,C_=ct/180,vt=ct/2,sl=ct/4,Xr=ct*2/3,en=Math.log10,yn=Math.sign;function Gr(e){const t=Math.round(e);e=_l(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(en(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function S_(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((l,a)=>l-a).pop(),t}function Al(e){return!isNaN(parseFloat(e))&&isFinite(e)}function _l(e,t,n){return Math.abs(e-t)<n}function E_(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Ld(e,t,n){let i,l,a;for(i=0,l=e.length;i<l;i++)a=e[i][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function hn(e){return e*(ct/180)}function qs(e){return e*(180/ct)}function Zr(e){if(!Pt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Rd(e,t){const n=t.x-e.x,i=t.y-e.y,l=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*ct&&(a+=ot),{angle:a,distance:l}}function Go(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function F_(e,t){return(e-t+k_)%ot-ct}function un(e){return(e%ot+ot)%ot}function Pl(e,t,n,i){const l=un(e),a=un(t),o=un(n),s=un(a-l),r=un(o-l),u=un(l-a),c=un(l-o);return l===a||l===o||i&&a===o||s>r&&u<c}function Vt(e,t,n){return Math.max(t,Math.min(n,e))}function D_(e){return Vt(e,-32768,32767)}function Ln(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}const ua=e=>e===0||e===1,Jr=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ot/n)),eu=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*ot/n)+1,yl={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*vt)+1,easeOutSine:e=>Math.sin(e*vt),easeInOutSine:e=>-.5*(Math.cos(ct*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>ua(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ua(e)?e:Jr(e,.075,.3),easeOutElastic:e=>ua(e)?e:eu(e,.075,.3),easeInOutElastic(e){return ua(e)?e:e<.5?.5*Jr(e*2,.1125,.45):.5+.5*eu(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-yl.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?yl.easeInBounce(e*2)*.5:yl.easeOutBounce(e*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Wl(e){return e+.5|0}const Rn=(e,t,n)=>Math.max(Math.min(e,n),t);function ml(e){return Rn(Wl(e*2.55),0,255)}function Nn(e){return Rn(Wl(e*255),0,255)}function Bn(e){return Rn(Wl(e/2.55)/100,0,1)}function tu(e){return Rn(Wl(e*100),0,100)}const Zt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Zo=[..."0123456789ABCDEF"],B_=e=>Zo[e&15],A_=e=>Zo[(e&240)>>4]+Zo[e&15],ca=e=>(e&240)>>4===(e&15),P_=e=>ca(e.r)&&ca(e.g)&&ca(e.b)&&ca(e.a);function M_(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Zt[e[1]]*17,g:255&Zt[e[2]]*17,b:255&Zt[e[3]]*17,a:t===5?Zt[e[4]]*17:255}:(t===7||t===9)&&(n={r:Zt[e[1]]<<4|Zt[e[2]],g:Zt[e[3]]<<4|Zt[e[4]],b:Zt[e[5]]<<4|Zt[e[6]],a:t===9?Zt[e[7]]<<4|Zt[e[8]]:255})),n}const q_=(e,t)=>e<255?t(e):"";function T_(e){var t=P_(e)?B_:A_;return e?"#"+t(e.r)+t(e.g)+t(e.b)+q_(e.a,t):void 0}const V_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Od(e,t,n){const i=t*Math.min(n,1-n),l=(a,o=(a+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[l(0),l(8),l(4)]}function $_(e,t,n){const i=(l,a=(l+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function L_(e,t,n){const i=Od(e,1,.5);let l;for(t+n>1&&(l=1/(t+n),t*=l,n*=l),l=0;l<3;l++)i[l]*=1-t-n,i[l]+=t;return i}function R_(e,t,n,i,l){return e===l?(t-n)/i+(t<n?6:0):t===l?(n-e)/i+2:(e-t)/i+4}function Ts(e){const n=e.r/255,i=e.g/255,l=e.b/255,a=Math.max(n,i,l),o=Math.min(n,i,l),s=(a+o)/2;let r,u,c;return a!==o&&(c=a-o,u=s>.5?c/(2-a-o):c/(a+o),r=R_(n,i,l,c,a),r=r*60+.5),[r|0,u||0,s]}function Vs(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Nn)}function $s(e,t,n){return Vs(Od,e,t,n)}function O_(e,t,n){return Vs(L_,e,t,n)}function I_(e,t,n){return Vs($_,e,t,n)}function Id(e){return(e%360+360)%360}function z_(e){const t=V_.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?ml(+t[5]):Nn(+t[5]));const l=Id(+t[2]),a=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=O_(l,a,o):t[1]==="hsv"?i=I_(l,a,o):i=$s(l,a,o),{r:i[0],g:i[1],b:i[2],a:n}}function N_(e,t){var n=Ts(e);n[0]=Id(n[0]+t),n=$s(n),e.r=n[0],e.g=n[1],e.b=n[2]}function H_(e){if(!e)return;const t=Ts(e),n=t[0],i=tu(t[1]),l=tu(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${l}%, ${Bn(e.a)})`:`hsl(${n}, ${i}%, ${l}%)`}const nu={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},iu={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function j_(){const e={},t=Object.keys(iu),n=Object.keys(nu);let i,l,a,o,s;for(i=0;i<t.length;i++){for(o=s=t[i],l=0;l<n.length;l++)a=n[l],s=s.replace(a,nu[a]);a=parseInt(iu[o],16),e[s]=[a>>16&255,a>>8&255,a&255]}return e}let da;function W_(e){da||(da=j_(),da.transparent=[0,0,0,0]);const t=da[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const U_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Q_(e){const t=U_.exec(e);let n=255,i,l,a;if(!!t){if(t[7]!==i){const o=+t[7];n=t[8]?ml(o):Rn(o*255,0,255)}return i=+t[1],l=+t[3],a=+t[5],i=255&(t[2]?ml(i):Rn(i,0,255)),l=255&(t[4]?ml(l):Rn(l,0,255)),a=255&(t[6]?ml(a):Rn(a,0,255)),{r:i,g:l,b:a,a:n}}}function K_(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Bn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const qo=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Ti=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Y_(e,t,n){const i=Ti(Bn(e.r)),l=Ti(Bn(e.g)),a=Ti(Bn(e.b));return{r:Nn(qo(i+n*(Ti(Bn(t.r))-i))),g:Nn(qo(l+n*(Ti(Bn(t.g))-l))),b:Nn(qo(a+n*(Ti(Bn(t.b))-a))),a:e.a+n*(t.a-e.a)}}function fa(e,t,n){if(e){let i=Ts(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=$s(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function zd(e,t){return e&&Object.assign(t||{},e)}function lu(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Nn(e[3]))):(t=zd(e,{r:0,g:0,b:0,a:1}),t.a=Nn(t.a)),t}function X_(e){return e.charAt(0)==="r"?Q_(e):z_(e)}class Wa{constructor(t){if(t instanceof Wa)return t;const n=typeof t;let i;n==="object"?i=lu(t):n==="string"&&(i=M_(t)||W_(t)||X_(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=zd(this._rgb);return t&&(t.a=Bn(t.a)),t}set rgb(t){this._rgb=lu(t)}rgbString(){return this._valid?K_(this._rgb):void 0}hexString(){return this._valid?T_(this._rgb):void 0}hslString(){return this._valid?H_(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,l=t.rgb;let a;const o=n===a?.5:n,s=2*o-1,r=i.a-l.a,u=((s*r===-1?s:(s+r)/(1+s*r))+1)/2;a=1-u,i.r=255&u*i.r+a*l.r+.5,i.g=255&u*i.g+a*l.g+.5,i.b=255&u*i.b+a*l.b+.5,i.a=o*i.a+(1-o)*l.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=Y_(this._rgb,t._rgb,n)),this}clone(){return new Wa(this.rgb)}alpha(t){return this._rgb.a=Nn(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Wl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return fa(this._rgb,2,t),this}darken(t){return fa(this._rgb,2,-t),this}saturate(t){return fa(this._rgb,1,t),this}desaturate(t){return fa(this._rgb,1,-t),this}rotate(t){return N_(this._rgb,t),this}}function Nd(e){return new Wa(e)}function Hd(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function au(e){return Hd(e)?e:Nd(e)}function To(e){return Hd(e)?e:Nd(e).saturate(.5).darken(.1).hexString()}const xi=Object.create(null),Jo=Object.create(null);function xl(e,t){if(!t)return e;const n=t.split(".");for(let i=0,l=n.length;i<l;++i){const a=n[i];e=e[a]||(e[a]=Object.create(null))}return e}function Vo(e,t,n){return typeof t=="string"?Bl(xl(e,t),n):Bl(xl(e,""),t)}class G_{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>To(i.backgroundColor),this.hoverBorderColor=(n,i)=>To(i.borderColor),this.hoverColor=(n,i)=>To(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,n){return Vo(this,t,n)}get(t){return xl(this,t)}describe(t,n){return Vo(Jo,t,n)}override(t,n){return Vo(xi,t,n)}route(t,n,i,l){const a=xl(this,t),o=xl(this,i),s="_"+n;Object.defineProperties(a,{[s]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const r=this[s],u=o[l];return Qe(r)?Object.assign({},u,r):$e(r,u)},set(r){this[s]=r}}})}}var He=new G_({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Z_(e){return!e||tt(e.size)||tt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Ua(e,t,n,i,l){let a=t[l];return a||(a=t[l]=e.measureText(l).width,n.push(l)),a>i&&(i=a),i}function J_(e,t,n,i){i=i||{};let l=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(l=i.data={},a=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const s=n.length;let r,u,c,d,f;for(r=0;r<s;r++)if(d=n[r],d!=null&&st(d)!==!0)o=Ua(e,l,a,o,d);else if(st(d))for(u=0,c=d.length;u<c;u++)f=d[u],f!=null&&!st(f)&&(o=Ua(e,l,a,o,f));e.restore();const h=a.length/2;if(h>n.length){for(r=0;r<h;r++)delete l[a[r]];a.splice(0,h)}return o}function ii(e,t,n){const i=e.currentDevicePixelRatio,l=n!==0?Math.max(n/2,.5):0;return Math.round((t-l)*i)/i+l}function ou(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Qa(e,t,n,i){let l,a,o,s,r;const u=t.pointStyle,c=t.rotation,d=t.radius;let f=(c||0)*C_;if(u&&typeof u=="object"&&(l=u.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(f),e.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),e.restore();return}if(!(isNaN(d)||d<=0)){switch(e.beginPath(),u){default:e.arc(n,i,d,0,ot),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(f)*d,i-Math.cos(f)*d),f+=Xr,e.lineTo(n+Math.sin(f)*d,i-Math.cos(f)*d),f+=Xr,e.lineTo(n+Math.sin(f)*d,i-Math.cos(f)*d),e.closePath();break;case"rectRounded":r=d*.516,s=d-r,a=Math.cos(f+sl)*s,o=Math.sin(f+sl)*s,e.arc(n-a,i-o,r,f-ct,f-vt),e.arc(n+o,i-a,r,f-vt,f),e.arc(n+a,i+o,r,f,f+vt),e.arc(n-o,i+a,r,f+vt,f+ct),e.closePath();break;case"rect":if(!c){s=Math.SQRT1_2*d,e.rect(n-s,i-s,2*s,2*s);break}f+=sl;case"rectRot":a=Math.cos(f)*d,o=Math.sin(f)*d,e.moveTo(n-a,i-o),e.lineTo(n+o,i-a),e.lineTo(n+a,i+o),e.lineTo(n-o,i+a),e.closePath();break;case"crossRot":f+=sl;case"cross":a=Math.cos(f)*d,o=Math.sin(f)*d,e.moveTo(n-a,i-o),e.lineTo(n+a,i+o),e.moveTo(n+o,i-a),e.lineTo(n-o,i+a);break;case"star":a=Math.cos(f)*d,o=Math.sin(f)*d,e.moveTo(n-a,i-o),e.lineTo(n+a,i+o),e.moveTo(n+o,i-a),e.lineTo(n-o,i+a),f+=sl,a=Math.cos(f)*d,o=Math.sin(f)*d,e.moveTo(n-a,i-o),e.lineTo(n+a,i+o),e.moveTo(n+o,i-a),e.lineTo(n-o,i+a);break;case"line":a=Math.cos(f)*d,o=Math.sin(f)*d,e.moveTo(n-a,i-o),e.lineTo(n+a,i+o);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(f)*d,i+Math.sin(f)*d);break}e.fill(),t.borderWidth>0&&e.stroke()}}function Ml(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ls(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Rs(e){e.restore()}function ey(e,t,n,i,l){if(!t)return e.lineTo(n.x,n.y);if(l==="middle"){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else l==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function ty(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function wi(e,t,n,i,l,a={}){const o=st(t)?t:[t],s=a.strokeWidth>0&&a.strokeColor!=="";let r,u;for(e.save(),e.font=l.string,ny(e,a),r=0;r<o.length;++r)u=o[r],s&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),tt(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(u,n,i,a.maxWidth)),e.fillText(u,n,i,a.maxWidth),iy(e,n,i,u,a),i+=l.lineHeight;e.restore()}function ny(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),tt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function iy(e,t,n,i,l){if(l.strikethrough||l.underline){const a=e.measureText(i),o=t-a.actualBoundingBoxLeft,s=t+a.actualBoundingBoxRight,r=n-a.actualBoundingBoxAscent,u=n+a.actualBoundingBoxDescent,c=l.strikethrough?(r+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=l.decorationWidth||2,e.moveTo(o,c),e.lineTo(s,c),e.stroke()}}function ql(e,t){const{x:n,y:i,w:l,h:a,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-vt,ct,!0),e.lineTo(n,i+a-o.bottomLeft),e.arc(n+o.bottomLeft,i+a-o.bottomLeft,o.bottomLeft,ct,vt,!0),e.lineTo(n+l-o.bottomRight,i+a),e.arc(n+l-o.bottomRight,i+a-o.bottomRight,o.bottomRight,vt,0,!0),e.lineTo(n+l,i+o.topRight),e.arc(n+l-o.topRight,i+o.topRight,o.topRight,0,-vt,!0),e.lineTo(n+o.topLeft,i)}const ly=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),ay=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function oy(e,t){const n=(""+e).match(ly);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const sy=e=>+e||0;function Os(e,t){const n={},i=Qe(t),l=i?Object.keys(t):t,a=Qe(e)?i?o=>$e(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of l)n[o]=sy(a(o));return n}function jd(e){return Os(e,{top:"y",right:"x",bottom:"y",left:"x"})}function mi(e){return Os(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Lt(e){const t=jd(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function St(e,t){e=e||{},t=t||He.font;let n=$e(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=$e(e.style,t.style);i&&!(""+i).match(ay)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const l={family:$e(e.family,t.family),lineHeight:oy($e(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:$e(e.weight,t.weight),string:""};return l.string=Z_(l),l}function ha(e,t,n,i){let l=!0,a,o,s;for(a=0,o=e.length;a<o;++a)if(s=e[a],s!==void 0&&(t!==void 0&&typeof s=="function"&&(s=s(t),l=!1),n!==void 0&&st(s)&&(s=s[n%s.length],l=!1),s!==void 0))return i&&!l&&(i.cacheable=!1),s}function ry(e,t,n){const{min:i,max:l}=e,a=Vd(t,(l-i)/2),o=(s,r)=>n&&s===0?0:s+r;return{min:o(i,-Math.abs(a)),max:o(l,a)}}function Jn(e,t){return Object.assign(Object.create(e),t)}function Is(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,l=0,a;for(;i-l>1;)a=l+i>>1,n(a)?l=a:i=a;return{lo:l,hi:i}}const ri=(e,t,n)=>Is(e,n,i=>e[i][t]<n),uy=(e,t,n)=>Is(e,n,i=>e[i][t]>=n);function cy(e,t,n){let i=0,l=e.length;for(;i<l&&e[i]<t;)i++;for(;l>i&&e[l-1]>n;)l--;return i>0||l<e.length?e.slice(i,l):e}const Wd=["push","pop","shift","splice","unshift"];function dy(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Wd.forEach(n=>{const i="_onData"+Ms(n),l=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const o=l.apply(this,a);return e._chartjs.listeners.forEach(s=>{typeof s[i]=="function"&&s[i](...a)}),o}})})}function su(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,l=i.indexOf(t);l!==-1&&i.splice(l,1),!(i.length>0)&&(Wd.forEach(a=>{delete e[a]}),delete e._chartjs)}function Ud(e){const t=new Set;let n,i;for(n=0,i=e.length;n<i;++n)t.add(e[n]);return t.size===i?e:Array.from(t)}function zs(e,t=[""],n=e,i,l=()=>e[0]){an(i)||(i=Xd("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:i,_getTarget:l,override:o=>zs([o,...e],t,n,i)};return new Proxy(a,{deleteProperty(o,s){return delete o[s],delete o._keys,delete e[0][s],!0},get(o,s){return Kd(o,s,()=>_y(s,t,e,o))},getOwnPropertyDescriptor(o,s){return Reflect.getOwnPropertyDescriptor(o._scopes[0],s)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,s){return uu(o).includes(s)},ownKeys(o){return uu(o)},set(o,s,r){const u=o._storage||(o._storage=l());return o[s]=u[s]=r,delete o._keys,!0}})}function Wi(e,t,n,i){const l={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Qd(e,i),setContext:a=>Wi(e,a,n,i),override:a=>Wi(e.override(a),t,n,i)};return new Proxy(l,{deleteProperty(a,o){return delete a[o],delete e[o],!0},get(a,o,s){return Kd(a,o,()=>hy(a,o,s))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(a,o,s){return e[o]=s,delete a[o],!0}})}function Qd(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:l=t.allKeys}=e;return{allKeys:l,scriptable:n,indexable:i,isScriptable:Qn(n)?n:()=>n,isIndexable:Qn(i)?i:()=>i}}const fy=(e,t)=>e?e+Ms(t):t,Ns=(e,t)=>Qe(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Kd(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function hy(e,t,n){const{_proxy:i,_context:l,_subProxy:a,_descriptors:o}=e;let s=i[t];return Qn(s)&&o.isScriptable(t)&&(s=vy(t,s,e,n)),st(s)&&s.length&&(s=my(t,s,e,o.isIndexable)),Ns(t,s)&&(s=Wi(s,l,a&&a[t],o)),s}function vy(e,t,n,i){const{_proxy:l,_context:a,_subProxy:o,_stack:s}=n;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);return s.add(e),t=t(a,o||i),s.delete(e),Ns(e,t)&&(t=Hs(l._scopes,l,e,t)),t}function my(e,t,n,i){const{_proxy:l,_context:a,_subProxy:o,_descriptors:s}=n;if(an(a.index)&&i(e))t=t[a.index%t.length];else if(Qe(t[0])){const r=t,u=l._scopes.filter(c=>c!==r);t=[];for(const c of r){const d=Hs(u,l,e,c);t.push(Wi(d,a,o&&o[e],s))}}return t}function Yd(e,t,n){return Qn(e)?e(t,n):e}const gy=(e,t)=>e===!0?t:typeof e=="string"?Un(t,e):void 0;function py(e,t,n,i,l){for(const a of t){const o=gy(n,a);if(o){e.add(o);const s=Yd(o._fallback,n,l);if(an(s)&&s!==n&&s!==i)return s}else if(o===!1&&an(i)&&n!==i)return null}return!1}function Hs(e,t,n,i){const l=t._rootScopes,a=Yd(t._fallback,n,i),o=[...e,...l],s=new Set;s.add(i);let r=ru(s,o,n,a||n,i);return r===null||an(a)&&a!==n&&(r=ru(s,o,a,r,i),r===null)?!1:zs(Array.from(s),[""],l,a,()=>by(t,n,i))}function ru(e,t,n,i,l){for(;n;)n=py(e,t,n,i,l);return n}function by(e,t,n){const i=e._getTarget();t in i||(i[t]={});const l=i[t];return st(l)&&Qe(n)?n:l}function _y(e,t,n,i){let l;for(const a of t)if(l=Xd(fy(a,e),n),an(l))return Ns(e,l)?Hs(n,i,e,l):l}function Xd(e,t){for(const n of t){if(!n)continue;const i=n[e];if(an(i))return i}}function uu(e){let t=e._keys;return t||(t=e._keys=yy(e._scopes)),t}function yy(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(l=>!l.startsWith("_")))t.add(i);return Array.from(t)}function Gd(e,t,n,i){const{iScale:l}=e,{key:a="r"}=this._parsing,o=new Array(i);let s,r,u,c;for(s=0,r=i;s<r;++s)u=s+n,c=t[u],o[s]={r:l.parse(Un(c,a),u)};return o}const xy=Number.EPSILON||1e-14,Ui=(e,t)=>t<e.length&&!e[t].skip&&e[t],Zd=e=>e==="x"?"y":"x";function wy(e,t,n,i){const l=e.skip?t:e,a=t,o=n.skip?t:n,s=Go(a,l),r=Go(o,a);let u=s/(s+r),c=r/(s+r);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const d=i*u,f=i*c;return{previous:{x:a.x-d*(o.x-l.x),y:a.y-d*(o.y-l.y)},next:{x:a.x+f*(o.x-l.x),y:a.y+f*(o.y-l.y)}}}function ky(e,t,n){const i=e.length;let l,a,o,s,r,u=Ui(e,0);for(let c=0;c<i-1;++c)if(r=u,u=Ui(e,c+1),!(!r||!u)){if(_l(t[c],0,xy)){n[c]=n[c+1]=0;continue}l=n[c]/t[c],a=n[c+1]/t[c],s=Math.pow(l,2)+Math.pow(a,2),!(s<=9)&&(o=3/Math.sqrt(s),n[c]=l*o*t[c],n[c+1]=a*o*t[c])}}function Cy(e,t,n="x"){const i=Zd(n),l=e.length;let a,o,s,r=Ui(e,0);for(let u=0;u<l;++u){if(o=s,s=r,r=Ui(e,u+1),!s)continue;const c=s[n],d=s[i];o&&(a=(c-o[n])/3,s[`cp1${n}`]=c-a,s[`cp1${i}`]=d-a*t[u]),r&&(a=(r[n]-c)/3,s[`cp2${n}`]=c+a,s[`cp2${i}`]=d+a*t[u])}}function Sy(e,t="x"){const n=Zd(t),i=e.length,l=Array(i).fill(0),a=Array(i);let o,s,r,u=Ui(e,0);for(o=0;o<i;++o)if(s=r,r=u,u=Ui(e,o+1),!!r){if(u){const c=u[t]-r[t];l[o]=c!==0?(u[n]-r[n])/c:0}a[o]=s?u?yn(l[o-1])!==yn(l[o])?0:(l[o-1]+l[o])/2:l[o-1]:l[o]}ky(e,l,a),Cy(e,a,t)}function va(e,t,n){return Math.max(Math.min(e,n),t)}function Ey(e,t){let n,i,l,a,o,s=Ml(e[0],t);for(n=0,i=e.length;n<i;++n)o=a,a=s,s=n<i-1&&Ml(e[n+1],t),a&&(l=e[n],o&&(l.cp1x=va(l.cp1x,t.left,t.right),l.cp1y=va(l.cp1y,t.top,t.bottom)),s&&(l.cp2x=va(l.cp2x,t.left,t.right),l.cp2y=va(l.cp2y,t.top,t.bottom)))}function Fy(e,t,n,i,l){let a,o,s,r;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")Sy(e,l);else{let u=i?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)s=e[a],r=wy(u,s,e[Math.min(a+1,o-(i?0:1))%o],t.tension),s.cp1x=r.previous.x,s.cp1y=r.previous.y,s.cp2x=r.next.x,s.cp2y=r.next.y,u=s}t.capBezierPoints&&Ey(e,n)}function Jd(){return typeof window!="undefined"&&typeof document!="undefined"}function js(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ka(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const ro=e=>window.getComputedStyle(e,null);function Dy(e,t){return ro(e).getPropertyValue(t)}const By=["top","right","bottom","left"];function gi(e,t,n){const i={};n=n?"-"+n:"";for(let l=0;l<4;l++){const a=By[l];i[a]=parseFloat(e[t+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Ay=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function Py(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:l,offsetY:a}=i;let o=!1,s,r;if(Ay(l,a,e.target))s=l,r=a;else{const u=t.getBoundingClientRect();s=i.clientX-u.left,r=i.clientY-u.top,o=!0}return{x:s,y:r,box:o}}function ai(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,l=ro(n),a=l.boxSizing==="border-box",o=gi(l,"padding"),s=gi(l,"border","width"),{x:r,y:u,box:c}=Py(e,n),d=o.left+(c&&s.left),f=o.top+(c&&s.top);let{width:h,height:p}=t;return a&&(h-=o.width+s.width,p-=o.height+s.height),{x:Math.round((r-d)/h*n.width/i),y:Math.round((u-f)/p*n.height/i)}}function My(e,t,n){let i,l;if(t===void 0||n===void 0){const a=js(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const o=a.getBoundingClientRect(),s=ro(a),r=gi(s,"border","width"),u=gi(s,"padding");t=o.width-u.width-r.width,n=o.height-u.height-r.height,i=Ka(s.maxWidth,a,"clientWidth"),l=Ka(s.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:i||ja,maxHeight:l||ja}}const $o=e=>Math.round(e*10)/10;function qy(e,t,n,i){const l=ro(e),a=gi(l,"margin"),o=Ka(l.maxWidth,e,"clientWidth")||ja,s=Ka(l.maxHeight,e,"clientHeight")||ja,r=My(e,t,n);let{width:u,height:c}=r;if(l.boxSizing==="content-box"){const d=gi(l,"border","width"),f=gi(l,"padding");u-=f.width+d.width,c-=f.height+d.height}return u=Math.max(0,u-a.width),c=Math.max(0,i?Math.floor(u/i):c-a.height),u=$o(Math.min(u,o,r.maxWidth)),c=$o(Math.min(c,s,r.maxHeight)),u&&!c&&(c=$o(u/2)),{width:u,height:c}}function cu(e,t,n){const i=t||1,l=Math.floor(e.height*i),a=Math.floor(e.width*i);e.height=l/i,e.width=a/i;const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==l||o.width!==a?(e.currentDevicePixelRatio=i,o.height=l,o.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Ty=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function du(e,t){const n=Dy(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function oi(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Vy(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function $y(e,t,n,i){const l={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=oi(e,l,n),s=oi(l,a,n),r=oi(a,t,n),u=oi(o,s,n),c=oi(s,r,n);return oi(u,c,n)}const fu=new Map;function Ly(e,t){t=t||{};const n=e+JSON.stringify(t);let i=fu.get(n);return i||(i=new Intl.NumberFormat(e,t),fu.set(n,i)),i}function Ul(e,t,n){return Ly(t,n).format(e)}const Ry=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},Oy=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ni(e,t,n){return e?Ry(t,n):Oy()}function ef(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function tf(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function nf(e){return e==="angle"?{between:Pl,compare:F_,normalize:un}:{between:Ln,compare:(t,n)=>t-n,normalize:t=>t}}function hu({start:e,end:t,count:n,loop:i,style:l}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:l}}function Iy(e,t,n){const{property:i,start:l,end:a}=n,{between:o,normalize:s}=nf(i),r=t.length;let{start:u,end:c,loop:d}=e,f,h;if(d){for(u+=r,c+=r,f=0,h=r;f<h&&o(s(t[u%r][i]),l,a);++f)u--,c--;u%=r,c%=r}return c<u&&(c+=r),{start:u,end:c,loop:d,style:e.style}}function zy(e,t,n){if(!n)return[e];const{property:i,start:l,end:a}=n,o=t.length,{compare:s,between:r,normalize:u}=nf(i),{start:c,end:d,loop:f,style:h}=Iy(e,t,n),p=[];let g=!1,m=null,b,x,C;const k=()=>r(l,C,b)&&s(l,C)!==0,w=()=>s(a,b)===0||r(a,C,b),E=()=>g||k(),D=()=>!g||w();for(let P=c,q=c;P<=d;++P)x=t[P%o],!x.skip&&(b=u(x[i]),b!==C&&(g=r(b,l,a),m===null&&E()&&(m=s(b,l)===0?P:q),m!==null&&D()&&(p.push(hu({start:m,end:P,loop:f,count:o,style:h})),m=null),q=P,C=b));return m!==null&&p.push(hu({start:m,end:d,loop:f,count:o,style:h})),p}function Ny(e,t){const n=[],i=e.segments;for(let l=0;l<i.length;l++){const a=zy(i[l],e.points,t);a.length&&n.push(...a)}return n}function Hy(e,t,n,i){let l=0,a=t-1;if(n&&!i)for(;l<t&&!e[l].skip;)l++;for(;l<t&&e[l].skip;)l++;for(l%=t,n&&(a+=l);a>l&&e[a%t].skip;)a--;return a%=t,{start:l,end:a}}function jy(e,t,n,i){const l=e.length,a=[];let o=t,s=e[t],r;for(r=t+1;r<=n;++r){const u=e[r%l];u.skip||u.stop?s.skip||(i=!1,a.push({start:t%l,end:(r-1)%l,loop:i}),t=o=u.stop?r:null):(o=r,s.skip&&(t=r)),s=u}return o!==null&&a.push({start:t%l,end:o%l,loop:i}),a}function Wy(e,t){const n=e.points,i=e.options.spanGaps,l=n.length;if(!l)return[];const a=!!e._loop,{start:o,end:s}=Hy(n,l,a,i);if(i===!0)return vu(e,[{start:o,end:s,loop:a}],n,t);const r=s<o?s+l:s,u=!!e._fullLoop&&o===0&&s===l-1;return vu(e,jy(n,o,r,u),n,t)}function vu(e,t,n,i){return!i||!i.setContext||!n?t:Uy(e,t,n,i)}function Uy(e,t,n,i){const l=e._chart.getContext(),a=mu(e.options),{_datasetIndex:o,options:{spanGaps:s}}=e,r=n.length,u=[];let c=a,d=t[0].start,f=d;function h(p,g,m,b){const x=s?-1:1;if(p!==g){for(p+=r;n[p%r].skip;)p-=x;for(;n[g%r].skip;)g+=x;p%r!==g%r&&(u.push({start:p%r,end:g%r,loop:m,style:b}),c=b,d=g%r)}}for(const p of t){d=s?d:p.start;let g=n[d%r],m;for(f=d+1;f<=p.end;f++){const b=n[f%r];m=mu(i.setContext(Jn(l,{type:"segment",p0:g,p1:b,p0DataIndex:(f-1)%r,p1DataIndex:f%r,datasetIndex:o}))),Qy(m,c)&&h(d,f-1,p.loop,c),g=b,c=m}d<f-1&&h(d,f-1,p.loop,c)}return u}function mu(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Qy(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class Ky{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,l){const a=n.listeners[l],o=n.duration;a.forEach(s=>s({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=qd.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,l)=>{if(!i.running||!i.items.length)return;const a=i.items;let o=a.length-1,s=!1,r;for(;o>=0;--o)r=a[o],r._active?(r._total>i.duration&&(i.duration=r._total),r.tick(t),s=!0):(a[o]=a[a.length-1],a.pop());s&&(l.draw(),this._notify(l,i,t,"progress")),a.length||(i.running=!1,this._notify(l,i,t,"complete"),i.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);!n||(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,l)=>Math.max(i,l._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let l=i.length-1;for(;l>=0;--l)i[l].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Fn=new Ky;const gu="transparent",Yy={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=au(e||gu),l=i.valid&&au(t||gu);return l&&l.valid?l.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class Xy{constructor(t,n,i,l){const a=n[i];l=ha([t.to,l,a,t.from]);const o=ha([t.from,a,l]);this._active=!0,this._fn=t.fn||Yy[t.type||typeof o],this._easing=yl[t.easing]||yl.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=l,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const l=this._target[this._prop],a=i-this._start,o=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=ha([t.to,n,l,t.from]),this._from=ha([t.from,l,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,l=this._prop,a=this._from,o=this._loop,s=this._to;let r;if(this._active=a!==s&&(o||n<i),!this._active){this._target[l]=s,this._notify(!0);return}if(n<0){this._target[l]=a;return}r=n/i%2,r=o&&r>1?2-r:r,r=this._easing(Math.min(1,Math.max(0,r))),this._target[l]=this._fn(a,s,r)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let l=0;l<i.length;l++)i[l][n]()}}const Gy=["x","y","borderWidth","radius","tension"],Zy=["color","borderColor","backgroundColor"];He.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Jy=Object.keys(He.animation);He.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"});He.set("animations",{colors:{type:"color",properties:Zy},numbers:{type:"number",properties:Gy}});He.describe("animations",{_fallback:"animation"});He.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}});class lf{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Qe(t))return;const n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const l=t[i];if(!Qe(l))return;const a={};for(const o of Jy)a[o]=l[o];(st(l.properties)&&l.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,a)})})}_animateOptions(t,n){const i=n.options,l=t1(t,i);if(!l)return[];const a=this._createAnimations(l,i);return i.$shared&&e1(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,n){const i=this._properties,l=[],a=t.$animations||(t.$animations={}),o=Object.keys(n),s=Date.now();let r;for(r=o.length-1;r>=0;--r){const u=o[r];if(u.charAt(0)==="$")continue;if(u==="options"){l.push(...this._animateOptions(t,n));continue}const c=n[u];let d=a[u];const f=i.get(u);if(d)if(f&&d.active()){d.update(f,c,s);continue}else d.cancel();if(!f||!f.duration){t[u]=c;continue}a[u]=d=new Xy(f,t,u,c),l.push(d)}return l}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Fn.add(this._chart,i),!0}}function e1(e,t){const n=[],i=Object.keys(t);for(let l=0;l<i.length;l++){const a=e[i[l]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function t1(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function pu(e,t){const n=e&&e.options||{},i=n.reverse,l=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:i?a:l,end:i?l:a}}function n1(e,t,n){if(n===!1)return!1;const i=pu(e,n),l=pu(t,n);return{top:l.end,right:i.end,bottom:l.start,left:i.start}}function i1(e){let t,n,i,l;return Qe(e)?(t=e.top,n=e.right,i=e.bottom,l=e.left):t=n=i=l=e,{top:t,right:n,bottom:i,left:l,disabled:e===!1}}function af(e,t){const n=[],i=e._getSortedDatasetMetas(t);let l,a;for(l=0,a=i.length;l<a;++l)n.push(i[l].index);return n}function bu(e,t,n,i={}){const l=e.keys,a=i.mode==="single";let o,s,r,u;if(t!==null){for(o=0,s=l.length;o<s;++o){if(r=+l[o],r===n){if(i.all)continue;break}u=e.values[r],Pt(u)&&(a||t===0||yn(t)===yn(u))&&(t+=u)}return t}}function l1(e){const t=Object.keys(e),n=new Array(t.length);let i,l,a;for(i=0,l=t.length;i<l;++i)a=t[i],n[i]={x:a,y:e[a]};return n}function _u(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function a1(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function o1(e){const{min:t,max:n,minDefined:i,maxDefined:l}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:l?n:Number.POSITIVE_INFINITY}}function s1(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function yu(e,t,n,i){for(const l of t.getMatchingVisibleMetas(i).reverse()){const a=e[l.index];if(n&&a>0||!n&&a<0)return l.index}return null}function xu(e,t){const{chart:n,_cachedMeta:i}=e,l=n._stacks||(n._stacks={}),{iScale:a,vScale:o,index:s}=i,r=a.axis,u=o.axis,c=a1(a,o,i),d=t.length;let f;for(let h=0;h<d;++h){const p=t[h],{[r]:g,[u]:m}=p,b=p._stacks||(p._stacks={});f=b[u]=s1(l,c,g),f[s]=m,f._top=yu(f,o,!0,i.type),f._bottom=yu(f,o,!1,i.type)}}function Lo(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function r1(e,t){return Jn(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function u1(e,t,n){return Jn(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function rl(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(!!i){t=t||e._parsed;for(const l of t){const a=l._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n]}}}const Ro=e=>e==="reset"||e==="none",wu=(e,t)=>t?e:Object.assign({},e),c1=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:af(n,!0),values:null};class Sn{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=_u(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&rl(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),l=(d,f,h,p)=>d==="x"?f:d==="r"?p:h,a=n.xAxisID=$e(i.xAxisID,Lo(t,"x")),o=n.yAxisID=$e(i.yAxisID,Lo(t,"y")),s=n.rAxisID=$e(i.rAxisID,Lo(t,"r")),r=n.indexAxis,u=n.iAxisID=l(r,a,o,s),c=n.vAxisID=l(r,o,a,s);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(s),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&su(this._data,this),t._stacked&&rl(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(Qe(n))this._data=l1(n);else if(i!==n){if(i){su(i,this);const l=this._cachedMeta;rl(l),l._parsed=[]}n&&Object.isExtensible(n)&&dy(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let l=!1;this._dataCheck();const a=n._stacked;n._stacked=_u(n.vScale,n),n.stack!==i.stack&&(l=!0,rl(n),n.stack=i.stack),this._resyncElements(t),(l||a!==n._stacked)&&xu(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:l}=this,{iScale:a,_stacked:o}=i,s=a.axis;let r=t===0&&n===l.length?!0:i._sorted,u=t>0&&i._parsed[t-1],c,d,f;if(this._parsing===!1)i._parsed=l,i._sorted=!0,f=l;else{st(l[t])?f=this.parseArrayData(i,l,t,n):Qe(l[t])?f=this.parseObjectData(i,l,t,n):f=this.parsePrimitiveData(i,l,t,n);const h=()=>d[s]===null||u&&d[s]<u[s];for(c=0;c<n;++c)i._parsed[c+t]=d=f[c],r&&(h()&&(r=!1),u=d);i._sorted=r}o&&xu(this,f)}parsePrimitiveData(t,n,i,l){const{iScale:a,vScale:o}=t,s=a.axis,r=o.axis,u=a.getLabels(),c=a===o,d=new Array(l);let f,h,p;for(f=0,h=l;f<h;++f)p=f+i,d[f]={[s]:c||a.parse(u[p],p),[r]:o.parse(n[p],p)};return d}parseArrayData(t,n,i,l){const{xScale:a,yScale:o}=t,s=new Array(l);let r,u,c,d;for(r=0,u=l;r<u;++r)c=r+i,d=n[c],s[r]={x:a.parse(d[0],c),y:o.parse(d[1],c)};return s}parseObjectData(t,n,i,l){const{xScale:a,yScale:o}=t,{xAxisKey:s="x",yAxisKey:r="y"}=this._parsing,u=new Array(l);let c,d,f,h;for(c=0,d=l;c<d;++c)f=c+i,h=n[f],u[c]={x:a.parse(Un(h,s),f),y:o.parse(Un(h,r),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const l=this.chart,a=this._cachedMeta,o=n[t.axis],s={keys:af(l,!0),values:n._stacks[t.axis]};return bu(s,o,a.index,{mode:i})}updateRangeFromParsed(t,n,i,l){const a=i[n.axis];let o=a===null?NaN:a;const s=l&&i._stacks[n.axis];l&&s&&(l.values=s,o=bu(l,a,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,l=i._parsed,a=i._sorted&&t===i.iScale,o=l.length,s=this._getOtherScale(t),r=c1(n,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=o1(s);let f,h;function p(){h=l[f];const g=h[s.axis];return!Pt(h[t.axis])||c>g||d<g}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(u,t,h,r),a));++f);if(a){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(u,t,h,r);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let l,a,o;for(l=0,a=n.length;l<a;++l)o=n[l][t.axis],Pt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,l=n.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:l?""+l.getLabelForValue(a[l.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=i1($e(this.options.clip,n1(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,l=i.data||[],a=n.chartArea,o=[],s=this._drawStart||0,r=this._drawCount||l.length-s,u=this.options.drawActiveElementsOnTop;let c;for(i.dataset&&i.dataset.draw(t,a,s,r),c=s;c<s+r;++c){const d=l[c];d.hidden||(d.active&&u?o.push(d):d.draw(t,a))}for(c=0;c<o.length;++c)o[c].draw(t,a)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const l=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];a=o.$context||(o.$context=u1(this.getContext(),t,o)),a.parsed=this.getParsed(t),a.raw=l.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=r1(this.chart.getContext(),this.index)),a.dataset=l,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const l=n==="active",a=this._cachedDataOpts,o=t+"-"+n,s=a[o],r=this.enableOptionSharing&&an(i);if(s)return wu(s,r);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,t),d=l?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),c),h=Object.keys(He.elements[t]),p=()=>this.getContext(i,l),g=u.resolveNamedOptions(f,h,p,d);return g.$shared&&(g.$shared=r,a[o]=Object.freeze(wu(g,r))),g}_resolveAnimations(t,n,i){const l=this.chart,a=this._cachedDataOpts,o=`animation-${n}`,s=a[o];if(s)return s;let r;if(l.options.animation!==!1){const c=this.chart.config,d=c.datasetAnimationScopeKeys(this._type,n),f=c.getOptionScopes(this.getDataset(),d);r=c.createResolver(f,this.getContext(t,i,n))}const u=new lf(l,r&&r.animations);return r&&r._cacheable&&(a[o]=Object.freeze(u)),u}getSharedOptions(t){if(!!t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Ro(t)||this.chart._animationsDisabled}updateElement(t,n,i,l){Ro(l)?Object.assign(t,i):this._resolveAnimations(n,l).update(t,i)}updateSharedOptions(t,n,i){t&&!Ro(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,l){t.active=l;const a=this.getStyle(n,l);this._resolveAnimations(n,i,l).update(t,{options:!l&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[s,r,u]of this._syncList)this[s](r,u);this._syncList=[];const l=i.length,a=n.length,o=Math.min(a,l);o&&this.parse(0,o),a>l?this._insertElements(l,a-l,t):a<l&&this._removeElements(a,l-a)}_insertElements(t,n,i=!0){const l=this._cachedMeta,a=l.data,o=t+n;let s;const r=u=>{for(u.length+=n,s=u.length-1;s>=o;s--)u[s]=u[s-n]};for(r(a),s=t;s<o;++s)a[s]=new this.dataElementType;this._parsing&&r(l._parsed),this.parse(t,n),i&&this.updateElements(a,t,n,"reset")}updateElements(t,n,i,l){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const l=i._parsed.splice(t,n);i._stacked&&rl(i,l)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,l]=t;this[n](i,l)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Sn.defaults={};Sn.prototype.datasetElementType=null;Sn.prototype.dataElementType=null;function d1(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let l=0,a=n.length;l<a;l++)i=i.concat(n[l].controller.getAllParsedValues(e));e._cache.$bar=Ud(i.sort((l,a)=>l-a))}return e._cache.$bar}function f1(e){const t=e.iScale,n=d1(t,e.type);let i=t._length,l,a,o,s;const r=()=>{o===32767||o===-32768||(an(s)&&(i=Math.min(i,Math.abs(o-s)||i)),s=o)};for(l=0,a=n.length;l<a;++l)o=t.getPixelForValue(n[l]),r();for(s=void 0,l=0,a=t.ticks.length;l<a;++l)o=t.getPixelForTick(l),r();return i}function h1(e,t,n,i){const l=n.barThickness;let a,o;return tt(l)?(a=t.min*n.categoryPercentage,o=n.barPercentage):(a=l*i,o=1),{chunk:a/i,ratio:o,start:t.pixels[e]-a/2}}function v1(e,t,n,i){const l=t.pixels,a=l[e];let o=e>0?l[e-1]:null,s=e<l.length-1?l[e+1]:null;const r=n.categoryPercentage;o===null&&(o=a-(s===null?t.end-t.start:s-a)),s===null&&(s=a+a-o);const u=a-(a-Math.min(o,s))/2*r;return{chunk:Math.abs(s-o)/2*r/i,ratio:n.barPercentage,start:u}}function m1(e,t,n,i){const l=n.parse(e[0],i),a=n.parse(e[1],i),o=Math.min(l,a),s=Math.max(l,a);let r=o,u=s;Math.abs(o)>Math.abs(s)&&(r=s,u=o),t[n.axis]=u,t._custom={barStart:r,barEnd:u,start:l,end:a,min:o,max:s}}function of(e,t,n,i){return st(e)?m1(e,t,n,i):t[n.axis]=n.parse(e,i),t}function ku(e,t,n,i){const l=e.iScale,a=e.vScale,o=l.getLabels(),s=l===a,r=[];let u,c,d,f;for(u=n,c=n+i;u<c;++u)f=t[u],d={},d[l.axis]=s||l.parse(o[u],u),r.push(of(f,d,a,u));return r}function Oo(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function g1(e,t,n){return e!==0?yn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function p1(e){let t,n,i,l,a;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(l="end",a="start"):(l="start",a="end"),{start:n,end:i,reverse:t,top:l,bottom:a}}function b1(e,t,n,i){let l=t.borderSkipped;const a={};if(!l){e.borderSkipped=a;return}const{start:o,end:s,reverse:r,top:u,bottom:c}=p1(e);l==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?l=u:(n._bottom||0)===i?l=c:(a[Cu(c,o,s,r)]=!0,l=u)),a[Cu(l,o,s,r)]=!0,e.borderSkipped=a}function Cu(e,t,n,i){return i?(e=_1(e,t,n),e=Su(e,n,t)):e=Su(e,t,n),e}function _1(e,t,n){return e===t?n:e===n?t:e}function Su(e,t,n){return e==="start"?t:e==="end"?n:e}function y1(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Ws extends Sn{parsePrimitiveData(t,n,i,l){return ku(t,n,i,l)}parseArrayData(t,n,i,l){return ku(t,n,i,l)}parseObjectData(t,n,i,l){const{iScale:a,vScale:o}=t,{xAxisKey:s="x",yAxisKey:r="y"}=this._parsing,u=a.axis==="x"?s:r,c=o.axis==="x"?s:r,d=[];let f,h,p,g;for(f=i,h=i+l;f<h;++f)g=n[f],p={},p[a.axis]=a.parse(Un(g,u),f),d.push(of(Un(g,c),p,o,f));return d}updateRangeFromParsed(t,n,i,l){super.updateRangeFromParsed(t,n,i,l);const a=i._custom;a&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:l}=n,a=this.getParsed(t),o=a._custom,s=Oo(o)?"["+o.start+", "+o.end+"]":""+l.getLabelForValue(a[l.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,l){const a=l==="reset",{index:o,_cachedMeta:{vScale:s}}=this,r=s.getBasePixel(),u=s.isHorizontal(),c=this._getRuler(),d=this.resolveDataElementOptions(n,l),f=this.getSharedOptions(d),h=this.includeOptions(l,f);this.updateSharedOptions(f,l,d);for(let p=n;p<n+i;p++){const g=this.getParsed(p),m=a||tt(g[s.axis])?{base:r,head:r}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,c),x=(g._stacks||{})[s.axis],C={horizontal:u,base:m.base,enableBorderRadius:!x||Oo(g._custom)||o===x._top||o===x._bottom,x:u?m.head:b.center,y:u?b.center:m.head,height:u?b.size:Math.abs(m.size),width:u?Math.abs(m.size):b.size};h&&(C.options=f||this.resolveDataElementOptions(p,t[p].active?"active":l));const k=C.options||t[p].options;b1(C,k,x,o),y1(C,k,c.ratio),this.updateElement(t[p],p,C,l)}}_getStacks(t,n){const l=this._cachedMeta.iScale,a=l.getMatchingVisibleMetas(this._type),o=l.options.stacked,s=a.length,r=[];let u,c;for(u=0;u<s;++u)if(c=a[u],!!c.controller.options.grouped){if(typeof n!="undefined"){const d=c.controller.getParsed(n)[c.controller._cachedMeta.vScale.axis];if(tt(d)||isNaN(d))continue}if((o===!1||r.indexOf(c.stack)===-1||o===void 0&&c.stack===void 0)&&r.push(c.stack),c.index===t)break}return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const l=this._getStacks(t,i),a=n!==void 0?l.indexOf(n):-1;return a===-1?l.length-1:a}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,l=[];let a,o;for(a=0,o=n.data.length;a<o;++a)l.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const s=t.barThickness;return{min:s||f1(n),pixels:l,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:s?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i},options:{base:l,minBarLength:a}}=this,o=l||0,s=this.getParsed(t),r=s._custom,u=Oo(r);let c=s[n.axis],d=0,f=i?this.applyStack(n,s,i):c,h,p;f!==c&&(d=f-c,f=c),u&&(c=r.barStart,f=r.barEnd-r.barStart,c!==0&&yn(c)!==yn(r.barEnd)&&(d=0),d+=c);const g=!tt(l)&&!u?l:d;let m=n.getPixelForValue(g);if(this.chart.getDataVisibility(t)?h=n.getPixelForValue(d+f):h=m,p=h-m,Math.abs(p)<a){p=g1(p,n,o)*a,c===o&&(m-=p/2);const b=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),C=Math.min(b,x),k=Math.max(b,x);m=Math.max(Math.min(m,k),C),h=m+p}if(m===n.getPixelForValue(o)){const b=yn(p)*n.getLineWidthForValue(o)/2;m+=b,p-=b}return{size:p,base:m,head:h,center:h+p/2}}_calculateBarIndexPixels(t,n){const i=n.scale,l=this.options,a=l.skipNull,o=$e(l.maxBarThickness,1/0);let s,r;if(n.grouped){const u=a?this._getStackCount(t):n.stackCount,c=l.barThickness==="flex"?v1(t,n,l,u):h1(t,n,l,u),d=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0);s=c.start+c.chunk*d+c.chunk/2,r=Math.min(o,c.chunk*c.ratio)}else s=i.getPixelForValue(this.getParsed(t)[i.axis],t),r=Math.min(o,n.min*n.ratio);return{base:s-r/2,head:s+r/2,center:s,size:r}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,l=i.length;let a=0;for(;a<l;++a)this.getParsed(a)[n.axis]!==null&&i[a].draw(this._ctx)}}Ws.id="bar";Ws.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};Ws.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Us extends Sn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,l){const a=super.parsePrimitiveData(t,n,i,l);for(let o=0;o<a.length;o++)a[o]._custom=this.resolveDataElementOptions(o+i).radius;return a}parseArrayData(t,n,i,l){const a=super.parseArrayData(t,n,i,l);for(let o=0;o<a.length;o++){const s=n[i+o];a[o]._custom=$e(s[2],this.resolveDataElementOptions(o+i).radius)}return a}parseObjectData(t,n,i,l){const a=super.parseObjectData(t,n,i,l);for(let o=0;o<a.length;o++){const s=n[i+o];a[o]._custom=$e(s&&s.r&&+s.r,this.resolveDataElementOptions(o+i).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,{xScale:i,yScale:l}=n,a=this.getParsed(t),o=i.getLabelForValue(a.x),s=l.getLabelForValue(a.y),r=a._custom;return{label:n.label,value:"("+o+", "+s+(r?", "+r:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,l){const a=l==="reset",{iScale:o,vScale:s}=this._cachedMeta,r=this.resolveDataElementOptions(n,l),u=this.getSharedOptions(r),c=this.includeOptions(l,u),d=o.axis,f=s.axis;for(let h=n;h<n+i;h++){const p=t[h],g=!a&&this.getParsed(h),m={},b=m[d]=a?o.getPixelForDecimal(.5):o.getPixelForValue(g[d]),x=m[f]=a?s.getBasePixel():s.getPixelForValue(g[f]);m.skip=isNaN(b)||isNaN(x),c&&(m.options=this.resolveDataElementOptions(h,p.active?"active":l),a&&(m.options.radius=0)),this.updateElement(p,h,m,l)}this.updateSharedOptions(u,l,r)}resolveDataElementOptions(t,n){const i=this.getParsed(t);let l=super.resolveDataElementOptions(t,n);l.$shared&&(l=Object.assign({},l,{$shared:!1}));const a=l.radius;return n!=="active"&&(l.radius=0),l.radius+=$e(i&&i._custom,a),l}}Us.id="bubble";Us.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Us.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function x1(e,t,n){let i=1,l=1,a=0,o=0;if(t<ot){const s=e,r=s+t,u=Math.cos(s),c=Math.sin(s),d=Math.cos(r),f=Math.sin(r),h=(C,k,w)=>Pl(C,s,r,!0)?1:Math.max(k,k*n,w,w*n),p=(C,k,w)=>Pl(C,s,r,!0)?-1:Math.min(k,k*n,w,w*n),g=h(0,u,d),m=h(vt,c,f),b=p(ct,u,d),x=p(ct+vt,c,f);i=(g-b)/2,l=(m-x)/2,a=-(g+b)/2,o=-(m+x)/2}return{ratioX:i,ratioY:l,offsetX:a,offsetY:o}}class Ql extends Sn{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=i;else{let a=r=>+i[r];if(Qe(i[t])){const{key:r="value"}=this._parsing;a=u=>+Un(i[u],r)}let o,s;for(o=t,s=t+n;o<s;++o)l._parsed[o]=a(o)}}_getRotation(){return hn(this.options.rotation-90)}_getCircumference(){return hn(this.options.circumference)}_getRotationExtents(){let t=ot,n=-ot;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const l=this.chart.getDatasetMeta(i).controller,a=l._getRotation(),o=l._getCircumference();t=Math.min(t,a),n=Math.max(n,a+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,l=this._cachedMeta,a=l.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,s=Math.max((Math.min(i.width,i.height)-o)/2,0),r=Math.min(p_(this.options.cutout,s),1),u=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:h,offsetX:p,offsetY:g}=x1(d,c,r),m=(i.width-o)/f,b=(i.height-o)/h,x=Math.max(Math.min(m,b)/2,0),C=Vd(this.options.radius,x),k=Math.max(C*r,0),w=(C-k)/this._getVisibleDatasetWeightTotal();this.offsetX=p*C,this.offsetY=g*C,l.total=this.calculateTotal(),this.outerRadius=C-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(a,0,a.length,t)}_circumference(t,n){const i=this.options,l=this._cachedMeta,a=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||l._parsed[t]===null||l.data[t].hidden?0:this.calculateCircumference(l._parsed[t]*a/ot)}updateElements(t,n,i,l){const a=l==="reset",o=this.chart,s=o.chartArea,u=o.options.animation,c=(s.left+s.right)/2,d=(s.top+s.bottom)/2,f=a&&u.animateScale,h=f?0:this.innerRadius,p=f?0:this.outerRadius,g=this.resolveDataElementOptions(n,l),m=this.getSharedOptions(g),b=this.includeOptions(l,m);let x=this._getRotation(),C;for(C=0;C<n;++C)x+=this._circumference(C,a);for(C=n;C<n+i;++C){const k=this._circumference(C,a),w=t[C],E={x:c+this.offsetX,y:d+this.offsetY,startAngle:x,endAngle:x+k,circumference:k,outerRadius:p,innerRadius:h};b&&(E.options=m||this.resolveDataElementOptions(C,w.active?"active":l)),x+=k,this.updateElement(w,C,E,l)}this.updateSharedOptions(m,l,g)}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,l;for(l=0;l<n.length;l++){const a=t._parsed[l];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(l)&&!n[l].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?ot*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,l=i.data.labels||[],a=Ul(n._parsed[t],i.options.locale);return{label:l[t]||"",value:a}}getMaxBorderWidth(t){let n=0;const i=this.chart;let l,a,o,s,r;if(!t){for(l=0,a=i.data.datasets.length;l<a;++l)if(i.isDatasetVisible(l)){o=i.getDatasetMeta(l),t=o.data,s=o.controller;break}}if(!t)return 0;for(l=0,a=t.length;l<a;++l)r=s.resolveDataElementOptions(l),r.borderAlign!=="inner"&&(n=Math.max(n,r.borderWidth||0,r.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,l=t.length;i<l;++i){const a=this.resolveDataElementOptions(i);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max($e(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ql.id="doughnut";Ql.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Ql.descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"};Ql.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map((i,l)=>{const o=e.getDatasetMeta(0).controller.getStyle(l);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){let t=e.label;const n=": "+e.formattedValue;return st(t)?(t=t.slice(),t[0]+=n):t+=n,t}}}}};class Kl extends Sn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:l=[],_dataset:a}=n,o=this.chart._animationsDisabled;let{start:s,count:r}=w1(n,l,o);this._drawStart=s,this._drawCount=r,k1(n)&&(s=0,r=l.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=l;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:u},t),this.updateElements(l,s,r,t)}updateElements(t,n,i,l){const a=l==="reset",{iScale:o,vScale:s,_stacked:r,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(n,l),d=this.getSharedOptions(c),f=this.includeOptions(l,d),h=o.axis,p=s.axis,{spanGaps:g,segment:m}=this.options,b=Al(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||a||l==="none";let C=n>0&&this.getParsed(n-1);for(let k=n;k<n+i;++k){const w=t[k],E=this.getParsed(k),D=x?w:{},P=tt(E[p]),q=D[h]=o.getPixelForValue(E[h],k),T=D[p]=a||P?s.getBasePixel():s.getPixelForValue(r?this.applyStack(s,E,r):E[p],k);D.skip=isNaN(q)||isNaN(T)||P,D.stop=k>0&&Math.abs(E[h]-C[h])>b,m&&(D.parsed=E,D.raw=u.data[k]),f&&(D.options=d||this.resolveDataElementOptions(k,w.active?"active":l)),x||this.updateElement(w,k,D,l),C=E}this.updateSharedOptions(d,l,c)}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,l=t.data||[];if(!l.length)return i;const a=l[0].size(this.resolveDataElementOptions(0)),o=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(i,a,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Kl.id="line";Kl.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};Kl.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function w1(e,t,n){const i=t.length;let l=0,a=i;if(e._sorted){const{iScale:o,_parsed:s}=e,r=o.axis,{min:u,max:c,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(l=Vt(Math.min(ri(s,o.axis,u).lo,n?i:ri(t,r,o.getPixelForValue(u)).lo),0,i-1)),f?a=Vt(Math.max(ri(s,o.axis,c).hi+1,n?0:ri(t,r,o.getPixelForValue(c)).hi+1),l,i)-l:a=i-l}return{start:l,count:a}}function k1(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,l={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=l,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,l),a}class Qs extends Sn{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,l=i.data.labels||[],a=Ul(n._parsed[t].r,i.options.locale);return{label:l[t]||"",value:a}}parseObjectData(t,n,i,l){return Gd.bind(this)(t,n,i,l)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,l)=>{const a=this.getParsed(l).r;!isNaN(a)&&this.chart.getDataVisibility(l)&&(a<n.min&&(n.min=a),a>n.max&&(n.max=a))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,l=Math.min(n.right-n.left,n.bottom-n.top),a=Math.max(l/2,0),o=Math.max(i.cutoutPercentage?a/100*i.cutoutPercentage:1,0),s=(a-o)/t.getVisibleDatasetCount();this.outerRadius=a-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(t,n,i,l){const a=l==="reset",o=this.chart,r=o.options.animation,u=this._cachedMeta.rScale,c=u.xCenter,d=u.yCenter,f=u.getIndexAngle(0)-.5*ct;let h=f,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)h+=this._computeAngle(p,l,g);for(p=n;p<n+i;p++){const m=t[p];let b=h,x=h+this._computeAngle(p,l,g),C=o.getDataVisibility(p)?u.getDistanceFromCenterForValue(this.getParsed(p).r):0;h=x,a&&(r.animateScale&&(C=0),r.animateRotate&&(b=x=f));const k={x:c,y:d,innerRadius:0,outerRadius:C,startAngle:b,endAngle:x,options:this.resolveDataElementOptions(p,m.active?"active":l)};this.updateElement(m,p,k,l)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,l)=>{!isNaN(this.getParsed(l).r)&&this.chart.getDataVisibility(l)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?hn(this.resolveDataElementOptions(t,n).angle||i):0}}Qs.id="polarArea";Qs.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};Qs.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map((i,l)=>{const o=e.getDatasetMeta(0).controller.getStyle(l);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class sf extends Ql{}sf.id="pie";sf.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Ks extends Sn{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,l){return Gd.bind(this)(t,n,i,l)}update(t){const n=this._cachedMeta,i=n.dataset,l=n.data||[],a=n.iScale.getLabels();if(i.points=l,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const s={_loop:!0,_fullLoop:a.length===l.length,options:o};this.updateElement(i,void 0,s,t)}this.updateElements(l,0,l.length,t)}updateElements(t,n,i,l){const a=this._cachedMeta.rScale,o=l==="reset";for(let s=n;s<n+i;s++){const r=t[s],u=this.resolveDataElementOptions(s,r.active?"active":l),c=a.getPointPositionForValue(s,this.getParsed(s).r),d=o?a.xCenter:c.x,f=o?a.yCenter:c.y,h={x:d,y:f,angle:c.angle,skip:isNaN(d)||isNaN(f),options:u};this.updateElement(r,s,h,l)}}}Ks.id="radar";Ks.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};Ks.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Ys extends Kl{}Ys.id="scatter";Ys.defaults={showLine:!1,fill:!1};Ys.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function li(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class es{constructor(t){this.options=t||{}}formats(){return li()}parse(t,n){return li()}format(t,n){return li()}add(t,n,i){return li()}diff(t,n,i){return li()}startOf(t,n,i){return li()}endOf(t,n){return li()}}es.override=function(e){Object.assign(es.prototype,e)};var C1={_date:es};function S1(e,t,n,i){const{controller:l,data:a,_sorted:o}=e,s=l._cachedMeta.iScale;if(s&&t===s.axis&&t!=="r"&&o&&a.length){const r=s._reversePixels?uy:ri;if(i){if(l._sharedOptions){const u=a[0],c=typeof u.getRange=="function"&&u.getRange(t);if(c){const d=r(a,t,n-c),f=r(a,t,n+c);return{lo:d.lo,hi:f.hi}}}}else return r(a,t,n)}return{lo:0,hi:a.length-1}}function Yl(e,t,n,i,l){const a=e.getSortedVisibleDatasetMetas(),o=n[t];for(let s=0,r=a.length;s<r;++s){const{index:u,data:c}=a[s],{lo:d,hi:f}=S1(a[s],t,o,l);for(let h=d;h<=f;++h){const p=c[h];p.skip||i(p,u,h)}}}function E1(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,l){const a=t?Math.abs(i.x-l.x):0,o=n?Math.abs(i.y-l.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function Io(e,t,n,i,l){const a=[];return!l&&!e.isPointInArea(t)||Yl(e,n,t,function(s,r,u){!l&&!Ml(s,e.chartArea,0)||s.inRange(t.x,t.y,i)&&a.push({element:s,datasetIndex:r,index:u})},!0),a}function F1(e,t,n,i){let l=[];function a(o,s,r){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],i),{angle:d}=Rd(o,{x:t.x,y:t.y});Pl(d,u,c)&&l.push({element:o,datasetIndex:s,index:r})}return Yl(e,n,t,a),l}function D1(e,t,n,i,l,a){let o=[];const s=E1(n);let r=Number.POSITIVE_INFINITY;function u(c,d,f){const h=c.inRange(t.x,t.y,l);if(i&&!h)return;const p=c.getCenterPoint(l);if(!(!!a||e.isPointInArea(p))&&!h)return;const m=s(t,p);m<r?(o=[{element:c,datasetIndex:d,index:f}],r=m):m===r&&o.push({element:c,datasetIndex:d,index:f})}return Yl(e,n,t,u),o}function zo(e,t,n,i,l,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!i?F1(e,t,n,l):D1(e,t,n,i,l,a)}function Eu(e,t,n,i,l){const a=[],o=n==="x"?"inXRange":"inYRange";let s=!1;return Yl(e,n,t,(r,u,c)=>{r[o](t[n],l)&&(a.push({element:r,datasetIndex:u,index:c}),s=s||r.inRange(t.x,t.y,l))}),i&&!s?[]:a}var B1={evaluateInteractionItems:Yl,modes:{index(e,t,n,i){const l=ai(t,e),a=n.axis||"x",o=n.includeInvisible||!1,s=n.intersect?Io(e,l,a,i,o):zo(e,l,a,!1,i,o),r=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const c=s[0].index,d=u.data[c];d&&!d.skip&&r.push({element:d,datasetIndex:u.index,index:c})}),r):[]},dataset(e,t,n,i){const l=ai(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;let s=n.intersect?Io(e,l,a,i,o):zo(e,l,a,!1,i,o);if(s.length>0){const r=s[0].datasetIndex,u=e.getDatasetMeta(r).data;s=[];for(let c=0;c<u.length;++c)s.push({element:u[c],datasetIndex:r,index:c})}return s},point(e,t,n,i){const l=ai(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return Io(e,l,a,i,o)},nearest(e,t,n,i){const l=ai(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return zo(e,l,a,n.intersect,i,o)},x(e,t,n,i){const l=ai(t,e);return Eu(e,l,"x",n.intersect,i)},y(e,t,n,i){const l=ai(t,e);return Eu(e,l,"y",n.intersect,i)}}};const rf=["left","top","right","bottom"];function ul(e,t){return e.filter(n=>n.pos===t)}function Fu(e,t){return e.filter(n=>rf.indexOf(n.pos)===-1&&n.box.axis===t)}function cl(e,t){return e.sort((n,i)=>{const l=t?i:n,a=t?n:i;return l.weight===a.weight?l.index-a.index:l.weight-a.weight})}function A1(e){const t=[];let n,i,l,a,o,s;for(n=0,i=(e||[]).length;n<i;++n)l=e[n],{position:a,options:{stack:o,stackWeight:s=1}}=l,t.push({index:n,box:l,pos:a,horizontal:l.isHorizontal(),weight:l.weight,stack:o&&a+o,stackWeight:s});return t}function P1(e){const t={};for(const n of e){const{stack:i,pos:l,stackWeight:a}=n;if(!i||!rf.includes(l))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return t}function M1(e,t){const n=P1(e),{vBoxMaxWidth:i,hBoxMaxHeight:l}=t;let a,o,s;for(a=0,o=e.length;a<o;++a){s=e[a];const{fullSize:r}=s.box,u=n[s.stack],c=u&&s.stackWeight/u.weight;s.horizontal?(s.width=c?c*i:r&&t.availableWidth,s.height=l):(s.width=i,s.height=c?c*l:r&&t.availableHeight)}return n}function q1(e){const t=A1(e),n=cl(t.filter(u=>u.box.fullSize),!0),i=cl(ul(t,"left"),!0),l=cl(ul(t,"right")),a=cl(ul(t,"top"),!0),o=cl(ul(t,"bottom")),s=Fu(t,"x"),r=Fu(t,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:l.concat(r).concat(o).concat(s),chartArea:ul(t,"chartArea"),vertical:i.concat(l).concat(r),horizontal:a.concat(o).concat(s)}}function Du(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function uf(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function T1(e,t,n,i){const{pos:l,box:a}=n,o=e.maxPadding;if(!Qe(l)){n.size&&(e[l]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?a.height:a.width),n.size=d.size/d.count,e[l]+=n.size}a.getPadding&&uf(o,a.getPadding());const s=Math.max(0,t.outerWidth-Du(o,e,"left","right")),r=Math.max(0,t.outerHeight-Du(o,e,"top","bottom")),u=s!==e.w,c=r!==e.h;return e.w=s,e.h=r,n.horizontal?{same:u,other:c}:{same:c,other:u}}function V1(e){const t=e.maxPadding;function n(i){const l=Math.max(t[i]-e[i],0);return e[i]+=l,l}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function $1(e,t){const n=t.maxPadding;function i(l){const a={left:0,top:0,right:0,bottom:0};return l.forEach(o=>{a[o]=Math.max(t[o],n[o])}),a}return i(e?["left","right"]:["top","bottom"])}function gl(e,t,n,i){const l=[];let a,o,s,r,u,c;for(a=0,o=e.length,u=0;a<o;++a){s=e[a],r=s.box,r.update(s.width||t.w,s.height||t.h,$1(s.horizontal,t));const{same:d,other:f}=T1(t,n,s,i);u|=d&&l.length,c=c||f,r.fullSize||l.push(s)}return u&&gl(l,t,n,i)||c}function ma(e,t,n,i,l){e.top=n,e.left=t,e.right=t+i,e.bottom=n+l,e.width=i,e.height=l}function Bu(e,t,n,i){const l=n.padding;let{x:a,y:o}=t;for(const s of e){const r=s.box,u=i[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/u.weight||1;if(s.horizontal){const d=t.w*c,f=u.size||r.height;an(u.start)&&(o=u.start),r.fullSize?ma(r,l.left,o,n.outerWidth-l.right-l.left,f):ma(r,t.left+u.placed,o,d,f),u.start=o,u.placed+=d,o=r.bottom}else{const d=t.h*c,f=u.size||r.width;an(u.start)&&(a=u.start),r.fullSize?ma(r,a,l.top,f,n.outerHeight-l.bottom-l.top):ma(r,a,t.top+u.placed,f,d),u.start=a,u.placed+=d,a=r.right}}t.x=a,t.y=o}He.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var ln={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const l=Lt(e.options.layout.padding),a=Math.max(t-l.width,0),o=Math.max(n-l.height,0),s=q1(e.boxes),r=s.vertical,u=s.horizontal;Je(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const c=r.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:l,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},l);uf(f,Lt(i));const h=Object.assign({maxPadding:f,w:a,h:o,x:l.left,y:l.top},l),p=M1(r.concat(u),d);gl(s.fullSize,h,d,p),gl(r,h,d,p),gl(u,h,d,p)&&gl(r,h,d,p),V1(h),Bu(s.leftAndTop,h,d,p),h.x+=h.w,h.y+=h.h,Bu(s.rightAndBottom,h,d,p),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Je(s.chartArea,g=>{const m=g.box;Object.assign(m,e.chartArea),m.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class cf{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,l){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,l?Math.floor(n/l):i)}}isAttached(t){return!0}updateConfig(t){}}class L1 extends cf{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Da="$chartjs",R1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Au=e=>e===null||e==="";function O1(e,t){const n=e.style,i=e.getAttribute("height"),l=e.getAttribute("width");if(e[Da]={initial:{height:i,width:l,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Au(l)){const a=du(e,"width");a!==void 0&&(e.width=a)}if(Au(i))if(e.style.height==="")e.height=e.width/(t||2);else{const a=du(e,"height");a!==void 0&&(e.height=a)}return e}const df=Ty?{passive:!0}:!1;function I1(e,t,n){e.addEventListener(t,n,df)}function z1(e,t,n){e.canvas.removeEventListener(t,n,df)}function N1(e,t){const n=R1[e.type]||e.type,{x:i,y:l}=ai(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:l!==void 0?l:null}}function Ya(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function H1(e,t,n){const i=e.canvas,l=new MutationObserver(a=>{let o=!1;for(const s of a)o=o||Ya(s.addedNodes,i),o=o&&!Ya(s.removedNodes,i);o&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}function j1(e,t,n){const i=e.canvas,l=new MutationObserver(a=>{let o=!1;for(const s of a)o=o||Ya(s.removedNodes,i),o=o&&!Ya(s.addedNodes,i);o&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}const Tl=new Map;let Pu=0;function ff(){const e=window.devicePixelRatio;e!==Pu&&(Pu=e,Tl.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function W1(e,t){Tl.size||window.addEventListener("resize",ff),Tl.set(e,t)}function U1(e){Tl.delete(e),Tl.size||window.removeEventListener("resize",ff)}function Q1(e,t,n){const i=e.canvas,l=i&&js(i);if(!l)return;const a=Td((s,r)=>{const u=l.clientWidth;n(s,r),u<l.clientWidth&&n()},window),o=new ResizeObserver(s=>{const r=s[0],u=r.contentRect.width,c=r.contentRect.height;u===0&&c===0||a(u,c)});return o.observe(l),W1(e,a),o}function No(e,t,n){n&&n.disconnect(),t==="resize"&&U1(e)}function K1(e,t,n){const i=e.canvas,l=Td(a=>{e.ctx!==null&&n(N1(a,e))},e,a=>{const o=a[0];return[o,o.offsetX,o.offsetY]});return I1(i,t,l),l}class Y1 extends cf{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(O1(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Da])return!1;const i=n[Da].initial;["height","width"].forEach(a=>{const o=i[a];tt(o)?n.removeAttribute(a):n.setAttribute(a,o)});const l=i.style||{};return Object.keys(l).forEach(a=>{n.style[a]=l[a]}),n.width=n.width,delete n[Da],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const l=t.$proxies||(t.$proxies={}),o={attach:H1,detach:j1,resize:Q1}[n]||K1;l[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),l=i[n];if(!l)return;({attach:No,detach:No,resize:No}[n]||z1)(t,n,l),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,l){return qy(t,n,i,l)}isAttached(t){const n=js(t);return!!(n&&n.isConnected)}}function X1(e){return!Jd()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?L1:Y1}class gn{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Al(this.x)&&Al(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const l={};return t.forEach(a=>{l[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),l}}gn.defaults={};gn.defaultRoutes=void 0;const hf={values(e){return st(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let l,a=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(l="scientific"),a=G1(e,n)}const o=en(Math.abs(a)),s=Math.max(Math.min(-1*Math.floor(o),20),0),r={notation:l,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(r,this.options.ticks.format),Ul(e,i,r)},logarithmic(e,t,n){if(e===0)return"0";const i=e/Math.pow(10,Math.floor(en(e)));return i===1||i===2||i===5?hf.numeric.call(this,e,t,n):""}};function G1(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var uo={formatters:hf};He.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:uo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});He.route("scale.ticks","color","","color");He.route("scale.grid","color","","borderColor");He.route("scale.grid","borderColor","","borderColor");He.route("scale.title","color","","color");He.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"});He.describe("scales",{_fallback:"scale"});He.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"});function Z1(e,t){const n=e.options.ticks,i=n.maxTicksLimit||J1(e),l=n.major.enabled?tx(t):[],a=l.length,o=l[0],s=l[a-1],r=[];if(a>i)return nx(t,r,l,a/i),r;const u=ex(l,t,i);if(a>0){let c,d;const f=a>1?Math.round((s-o)/(a-1)):null;for(ga(t,r,u,tt(f)?0:o-f,o),c=0,d=a-1;c<d;c++)ga(t,r,u,l[c],l[c+1]);return ga(t,r,u,s,tt(f)?t.length:s+f),r}return ga(t,r,u),r}function J1(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),l=e._maxLength/n;return Math.floor(Math.min(i,l))}function ex(e,t,n){const i=ix(e),l=t.length/n;if(!i)return Math.max(l,1);const a=S_(i);for(let o=0,s=a.length-1;o<s;o++){const r=a[o];if(r>l)return r}return Math.max(l,1)}function tx(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function nx(e,t,n,i){let l=0,a=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===a&&(t.push(e[o]),l++,a=n[l*i])}function ga(e,t,n,i,l){const a=$e(i,0),o=Math.min($e(l,e.length),e.length);let s=0,r,u,c;for(n=Math.ceil(n),l&&(r=l-i,n=r/Math.floor(r/n)),c=a;c<0;)s++,c=Math.round(a+s*n);for(u=Math.max(a,0);u<o;u++)u===c&&(t.push(e[u]),s++,c=Math.round(a+s*n))}function ix(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const lx=e=>e==="left"?"right":e==="right"?"left":e,Mu=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n;function qu(e,t){const n=[],i=e.length/t,l=e.length;let a=0;for(;a<l;a+=i)n.push(e[Math.floor(a)]);return n}function ax(e,t,n){const i=e.ticks.length,l=Math.min(t,i-1),a=e._startPixel,o=e._endPixel,s=1e-6;let r=e.getPixelForTick(l),u;if(!(n&&(i===1?u=Math.max(r-a,o-r):t===0?u=(e.getPixelForTick(1)-r)/2:u=(r-e.getPixelForTick(l-1))/2,r+=l<t?u:-u,r<a-s||r>o+s)))return r}function ox(e,t){Je(e,n=>{const i=n.gc,l=i.length/2;let a;if(l>t){for(a=0;a<l;++a)delete n.data[i[a]];i.splice(0,l)}})}function dl(e){return e.drawTicks?e.tickLength:0}function Tu(e,t){if(!e.display)return 0;const n=St(e.font,t),i=Lt(e.padding);return(st(e.text)?e.text.length:1)*n.lineHeight+i.height}function sx(e,t){return Jn(e,{scale:t,type:"scale"})}function rx(e,t,n){return Jn(e,{tick:n,index:t,type:"tick"})}function ux(e,t,n){let i=Ps(e);return(n&&t!=="right"||!n&&t==="right")&&(i=lx(i)),i}function cx(e,t,n,i){const{top:l,left:a,bottom:o,right:s,chart:r}=e,{chartArea:u,scales:c}=r;let d=0,f,h,p;const g=o-l,m=s-a;if(e.isHorizontal()){if(h=qt(i,a,s),Qe(n)){const b=Object.keys(n)[0],x=n[b];p=c[b].getPixelForValue(x)+g-t}else n==="center"?p=(u.bottom+u.top)/2+g-t:p=Mu(e,n,t);f=s-a}else{if(Qe(n)){const b=Object.keys(n)[0],x=n[b];h=c[b].getPixelForValue(x)-m+t}else n==="center"?h=(u.left+u.right)/2-m+t:h=Mu(e,n,t);p=qt(i,o,l),d=n==="left"?-vt:vt}return{titleX:h,titleY:p,maxWidth:f,rotation:d}}class Ei extends gn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:l}=this;return t=Jt(t,Number.POSITIVE_INFINITY),n=Jt(n,Number.NEGATIVE_INFINITY),i=Jt(i,Number.POSITIVE_INFINITY),l=Jt(l,Number.NEGATIVE_INFINITY),{min:Jt(t,i),max:Jt(n,l),minDefined:Pt(t),maxDefined:Pt(n)}}getMinMax(t){let{min:n,max:i,minDefined:l,maxDefined:a}=this.getUserBounds(),o;if(l&&a)return{min:n,max:i};const s=this.getMatchingVisibleMetas();for(let r=0,u=s.length;r<u;++r)o=s[r].controller.getMinMax(this,t),l||(n=Math.min(n,o.min)),a||(i=Math.max(i,o.max));return n=a&&n>i?i:n,i=l&&n>i?n:i,{min:Jt(n,Jt(i,n)),max:Jt(i,Jt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){at(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:l,grace:a,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ry(this,a,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const r=s<this.ticks.length;this._convertTicksToLabels(r?qu(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Z1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),r&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){at(this.options.afterUpdate,[this])}beforeSetDimensions(){at(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){at(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),at(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){at(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,l,a;for(i=0,l=t.length;i<l;i++)a=t[i],a.label=at(n.callback,[a.value,i,t],this)}afterTickToLabelConversion(){at(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){at(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=this.ticks.length,l=n.minRotation||0,a=n.maxRotation;let o=l,s,r,u;if(!this._isVisible()||!n.display||l>=a||i<=1||!this.isHorizontal()){this.labelRotation=l;return}const c=this._getLabelSizes(),d=c.widest.width,f=c.highest.height,h=Vt(this.chart.width-d,0,this.maxWidth);s=t.offset?this.maxWidth/i:h/(i-1),d+6>s&&(s=h/(i-(t.offset?.5:1)),r=this.maxHeight-dl(t.grid)-n.padding-Tu(t.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),o=qs(Math.min(Math.asin(Vt((c.highest.height+6)/s,-1,1)),Math.asin(Vt(r/u,-1,1))-Math.asin(Vt(f/u,-1,1)))),o=Math.max(l,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){at(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){at(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:l,grid:a}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){const r=Tu(l,n.options.font);if(s?(t.width=this.maxWidth,t.height=dl(a)+r):(t.height=this.maxHeight,t.width=dl(a)+r),i.display&&this.ticks.length){const{first:u,last:c,widest:d,highest:f}=this._getLabelSizes(),h=i.padding*2,p=hn(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(s){const b=i.mirror?0:m*d.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+b+h)}else{const b=i.mirror?0:g*d.width+m*f.height;t.width=Math.min(this.maxWidth,t.width+b+h)}this._calculatePadding(u,c,m,g)}}this._handleMargins(),s?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,l){const{ticks:{align:a,padding:o},position:s}=this.options,r=this.labelRotation!==0,u=s!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;r?u?(f=l*t.width,h=i*n.height):(f=i*t.height,h=l*n.width):a==="start"?h=n.width:a==="end"?f=t.width:a!=="inner"&&(f=t.width/2,h=n.width/2),this.paddingLeft=Math.max((f-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((h-d+o)*this.width/(this.width-d),0)}else{let c=n.height/2,d=t.height/2;a==="start"?(c=0,d=t.height):a==="end"&&(c=n.height,d=0),this.paddingTop=c+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){at(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)tt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=qu(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,n){const{ctx:i,_longestTextCache:l}=this,a=[],o=[];let s=0,r=0,u,c,d,f,h,p,g,m,b,x,C;for(u=0;u<n;++u){if(f=t[u].label,h=this._resolveTickFontOptions(u),i.font=p=h.string,g=l[p]=l[p]||{data:{},gc:[]},m=h.lineHeight,b=x=0,!tt(f)&&!st(f))b=Ua(i,g.data,g.gc,b,f),x=m;else if(st(f))for(c=0,d=f.length;c<d;++c)C=f[c],!tt(C)&&!st(C)&&(b=Ua(i,g.data,g.gc,b,C),x+=m);a.push(b),o.push(x),s=Math.max(b,s),r=Math.max(x,r)}ox(l,n);const k=a.indexOf(s),w=o.indexOf(r),E=D=>({width:a[D]||0,height:o[D]||0});return{first:E(0),last:E(n-1),widest:E(k),highest:E(w),widths:a,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return D_(this._alignToPixels?ii(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=rx(this.getContext(),t,i))}return this.$context||(this.$context=sx(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=hn(this.labelRotation),i=Math.abs(Math.cos(n)),l=Math.abs(Math.sin(n)),a=this._getLabelSizes(),o=t.autoSkipPadding||0,s=a?a.widest.width+o:0,r=a?a.highest.height+o:0;return this.isHorizontal()?r*i>s*l?s/i:r/l:r*l<s*i?r/i:s/l}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,l=this.options,{grid:a,position:o}=l,s=a.offset,r=this.isHorizontal(),c=this.ticks.length+(s?1:0),d=dl(a),f=[],h=a.setContext(this.getContext()),p=h.drawBorder?h.borderWidth:0,g=p/2,m=function(R){return ii(i,R,p)};let b,x,C,k,w,E,D,P,q,T,$,H;if(o==="top")b=m(this.bottom),E=this.bottom-d,P=b-g,T=m(t.top)+g,H=t.bottom;else if(o==="bottom")b=m(this.top),T=t.top,H=m(t.bottom)-g,E=b+g,P=this.top+d;else if(o==="left")b=m(this.right),w=this.right-d,D=b-g,q=m(t.left)+g,$=t.right;else if(o==="right")b=m(this.left),q=t.left,$=m(t.right)-g,w=b+g,D=this.left+d;else if(n==="x"){if(o==="center")b=m((t.top+t.bottom)/2+.5);else if(Qe(o)){const R=Object.keys(o)[0],M=o[R];b=m(this.chart.scales[R].getPixelForValue(M))}T=t.top,H=t.bottom,E=b+g,P=E+d}else if(n==="y"){if(o==="center")b=m((t.left+t.right)/2);else if(Qe(o)){const R=Object.keys(o)[0],M=o[R];b=m(this.chart.scales[R].getPixelForValue(M))}w=b-g,D=w-d,q=t.left,$=t.right}const L=$e(l.ticks.maxTicksLimit,c),K=Math.max(1,Math.ceil(c/L));for(x=0;x<c;x+=K){const R=a.setContext(this.getContext(x)),M=R.lineWidth,A=R.color,z=a.borderDash||[],W=R.borderDashOffset,ue=R.tickWidth,N=R.tickColor,X=R.tickBorderDash||[],oe=R.tickBorderDashOffset;C=ax(this,x,s),C!==void 0&&(k=ii(i,C,M),r?w=D=q=$=k:E=P=T=H=k,f.push({tx1:w,ty1:E,tx2:D,ty2:P,x1:q,y1:T,x2:$,y2:H,width:M,color:A,borderDash:z,borderDashOffset:W,tickWidth:ue,tickColor:N,tickBorderDash:X,tickBorderDashOffset:oe}))}return this._ticksLength=c,this._borderValue=b,f}_computeLabelItems(t){const n=this.axis,i=this.options,{position:l,ticks:a}=i,o=this.isHorizontal(),s=this.ticks,{align:r,crossAlign:u,padding:c,mirror:d}=a,f=dl(i.grid),h=f+c,p=d?-c:h,g=-hn(this.labelRotation),m=[];let b,x,C,k,w,E,D,P,q,T,$,H,L="middle";if(l==="top")E=this.bottom-p,D=this._getXAxisLabelAlignment();else if(l==="bottom")E=this.top+p,D=this._getXAxisLabelAlignment();else if(l==="left"){const R=this._getYAxisLabelAlignment(f);D=R.textAlign,w=R.x}else if(l==="right"){const R=this._getYAxisLabelAlignment(f);D=R.textAlign,w=R.x}else if(n==="x"){if(l==="center")E=(t.top+t.bottom)/2+h;else if(Qe(l)){const R=Object.keys(l)[0],M=l[R];E=this.chart.scales[R].getPixelForValue(M)+h}D=this._getXAxisLabelAlignment()}else if(n==="y"){if(l==="center")w=(t.left+t.right)/2-h;else if(Qe(l)){const R=Object.keys(l)[0],M=l[R];w=this.chart.scales[R].getPixelForValue(M)}D=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(r==="start"?L="top":r==="end"&&(L="bottom"));const K=this._getLabelSizes();for(b=0,x=s.length;b<x;++b){C=s[b],k=C.label;const R=a.setContext(this.getContext(b));P=this.getPixelForTick(b)+a.labelOffset,q=this._resolveTickFontOptions(b),T=q.lineHeight,$=st(k)?k.length:1;const M=$/2,A=R.color,z=R.textStrokeColor,W=R.textStrokeWidth;let ue=D;o?(w=P,D==="inner"&&(b===x-1?ue=this.options.reverse?"left":"right":b===0?ue=this.options.reverse?"right":"left":ue="center"),l==="top"?u==="near"||g!==0?H=-$*T+T/2:u==="center"?H=-K.highest.height/2-M*T+T:H=-K.highest.height+T/2:u==="near"||g!==0?H=T/2:u==="center"?H=K.highest.height/2-M*T:H=K.highest.height-$*T,d&&(H*=-1)):(E=P,H=(1-$)*T/2);let N;if(R.showLabelBackdrop){const X=Lt(R.backdropPadding),oe=K.heights[b],se=K.widths[b];let Re=E+H-X.top,pe=w-X.left;switch(L){case"middle":Re-=oe/2;break;case"bottom":Re-=oe;break}switch(D){case"center":pe-=se/2;break;case"right":pe-=se;break}N={left:pe,top:Re,width:se+X.width,height:oe+X.height,color:R.backdropColor}}m.push({rotation:g,label:k,font:q,color:A,strokeColor:z,strokeWidth:W,textOffset:H,textAlign:ue,textBaseline:L,translation:[w,E],backdrop:N})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-hn(this.labelRotation))return t==="top"?"left":"right";let l="center";return n.align==="start"?l="left":n.align==="end"?l="right":n.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:l,padding:a}}=this.options,o=this._getLabelSizes(),s=t+a,r=o.widest.width;let u,c;return n==="left"?l?(c=this.right+a,i==="near"?u="left":i==="center"?(u="center",c+=r/2):(u="right",c+=r)):(c=this.right-s,i==="near"?u="right":i==="center"?(u="center",c-=r/2):(u="left",c=this.left)):n==="right"?l?(c=this.left+a,i==="near"?u="right":i==="center"?(u="center",c-=r/2):(u="left",c-=r)):(c=this.left+s,i==="near"?u="left":i==="center"?(u="center",c+=r/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:l,width:a,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,l,a,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const l=this.ticks.findIndex(a=>a.value===t);return l>=0?n.setContext(this.getContext(l)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,o;const s=(r,u,c)=>{!c.width||!c.color||(i.save(),i.lineWidth=c.width,i.strokeStyle=c.color,i.setLineDash(c.borderDash||[]),i.lineDashOffset=c.borderDashOffset,i.beginPath(),i.moveTo(r.x,r.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(n.display)for(a=0,o=l.length;a<o;++a){const r=l[a];n.drawOnChartArea&&s({x:r.x1,y:r.y1},{x:r.x2,y:r.y2},r),n.drawTicks&&s({x:r.tx1,y:r.ty1},{x:r.tx2,y:r.ty2},{color:r.tickColor,width:r.tickWidth,borderDash:r.tickBorderDash,borderDashOffset:r.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{grid:i}}=this,l=i.setContext(this.getContext()),a=i.drawBorder?l.borderWidth:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let r,u,c,d;this.isHorizontal()?(r=ii(t,this.left,a)-a/2,u=ii(t,this.right,o)+o/2,c=d=s):(c=ii(t,this.top,a)-a/2,d=ii(t,this.bottom,o)+o/2,r=u=s),n.save(),n.lineWidth=l.borderWidth,n.strokeStyle=l.borderColor,n.beginPath(),n.moveTo(r,c),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,l=this._computeLabelArea();l&&Ls(i,l);const a=this._labelItems||(this._labelItems=this._computeLabelItems(t));let o,s;for(o=0,s=a.length;o<s;++o){const r=a[o],u=r.font,c=r.label;r.backdrop&&(i.fillStyle=r.backdrop.color,i.fillRect(r.backdrop.left,r.backdrop.top,r.backdrop.width,r.backdrop.height));let d=r.textOffset;wi(i,c,0,d,u,r)}l&&Rs(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:l}}=this;if(!i.display)return;const a=St(i.font),o=Lt(i.padding),s=i.align;let r=a.lineHeight/2;n==="bottom"||n==="center"||Qe(n)?(r+=o.bottom,st(i.text)&&(r+=a.lineHeight*(i.text.length-1))):r+=o.top;const{titleX:u,titleY:c,maxWidth:d,rotation:f}=cx(this,r,n,s);wi(t,i.text,0,0,a,{color:i.color,maxWidth:d,rotation:f,textAlign:ux(s,n,l),textBaseline:"middle",translation:[u,c]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=$e(t.grid&&t.grid.z,-1);return!this._isVisible()||this.draw!==Ei.prototype.draw?[{z:n,draw:l=>{this.draw(l)}}]:[{z:i,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:n,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",l=[];let a,o;for(a=0,o=n.length;a<o;++a){const s=n[a];s[i]===this.id&&(!t||s.type===t)&&l.push(s)}return l}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return St(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class pa{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;hx(n)&&(i=this.register(n));const l=this.items,a=t.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in l||(l[a]=t,dx(t,o,i),this.override&&He.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,l=this.scope;i in n&&delete n[i],l&&i in He[l]&&(delete He[l][i],this.override&&delete xi[i])}}function dx(e,t,n){const i=Bl(Object.create(null),[n?He.get(n):{},He.get(t),e.defaults]);He.set(t,i),e.defaultRoutes&&fx(t,e.defaultRoutes),e.descriptors&&He.describe(t,e.descriptors)}function fx(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),l=i.pop(),a=[e].concat(i).join("."),o=t[n].split("."),s=o.pop(),r=o.join(".");He.route(a,l,r,s)})}function hx(e){return"id"in e&&"defaults"in e}class vx{constructor(){this.controllers=new pa(Sn,"datasets",!0),this.elements=new pa(gn,"elements"),this.plugins=new pa(Object,"plugins"),this.scales=new pa(Ei,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(l=>{const a=i||this._getRegistryForType(l);i||a.isForType(l)||a===this.plugins&&l.id?this._exec(t,a,l):Je(l,o=>{const s=i||this._getRegistryForType(o);this._exec(t,s,o)})})}_exec(t,n,i){const l=Ms(t);at(i["before"+l],[],i),n[t](i),at(i["after"+l],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const l=n.get(t);if(l===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return l}}var An=new vx;class mx{constructor(){this._init=[]}notify(t,n,i,l){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=l?this._descriptors(t).filter(l):this._descriptors(t),o=this._notify(a,t,n,i);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,l){l=l||{};for(const a of t){const o=a.plugin,s=o[i],r=[n,l,a.options];if(at(s,r,o)===!1&&l.cancelable)return!1}return!0}invalidate(){tt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,l=$e(i.options&&i.options.plugins,{}),a=gx(i);return l===!1&&!n?[]:bx(t,a,l,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,l=(a,o)=>a.filter(s=>!o.some(r=>s.plugin.id===r.plugin.id));this._notify(l(n,i),t,"stop"),this._notify(l(i,n),t,"start")}}function gx(e){const t=[],n=Object.keys(An.plugins.items);for(let l=0;l<n.length;l++)t.push(An.getPlugin(n[l]));const i=e.plugins||[];for(let l=0;l<i.length;l++){const a=i[l];t.indexOf(a)===-1&&t.push(a)}return t}function px(e,t){return!t&&e===!1?null:e===!0?{}:e}function bx(e,t,n,i){const l=[],a=e.getContext();for(let o=0;o<t.length;o++){const s=t[o],r=s.id,u=px(n[r],i);u!==null&&l.push({plugin:s,options:_x(e.config,s,u,a)})}return l}function _x(e,t,n,i){const l=e.pluginScopeKeys(t),a=e.getOptionScopes(n,l);return e.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ts(e,t){const n=He.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function yx(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function xx(e,t){return e===t?"_index_":"_value_"}function wx(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function ns(e,t){return e==="x"||e==="y"?e:t.axis||wx(t.position)||e.charAt(0).toLowerCase()}function kx(e,t){const n=xi[e.type]||{scales:{}},i=t.scales||{},l=ts(e.type,t),a=Object.create(null),o=Object.create(null);return Object.keys(i).forEach(s=>{const r=i[s];if(!Qe(r))return console.error(`Invalid scale configuration for scale: ${s}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const u=ns(s,r),c=xx(u,l),d=n.scales||{};a[u]=a[u]||s,o[s]=bl(Object.create(null),[{axis:u},r,d[u],d[c]])}),e.data.datasets.forEach(s=>{const r=s.type||e.type,u=s.indexAxis||ts(r,t),d=(xi[r]||{}).scales||{};Object.keys(d).forEach(f=>{const h=yx(f,u),p=s[h+"AxisID"]||a[h]||h;o[p]=o[p]||Object.create(null),bl(o[p],[{axis:h},i[p],d[f]])})}),Object.keys(o).forEach(s=>{const r=o[s];bl(r,[He.scales[r.type],He.scale])}),o}function vf(e){const t=e.options||(e.options={});t.plugins=$e(t.plugins,{}),t.scales=kx(e,t)}function mf(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Cx(e){return e=e||{},e.data=mf(e.data),vf(e),e}const Vu=new Map,gf=new Set;function ba(e,t){let n=Vu.get(e);return n||(n=t(),Vu.set(e,n),gf.add(n)),n}const fl=(e,t,n)=>{const i=Un(t,n);i!==void 0&&e.add(i)};class Sx{constructor(t){this._config=Cx(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=mf(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),vf(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ba(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return ba(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return ba(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return ba(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let l=i.get(t);return(!l||n)&&(l=new Map,i.set(t,l)),l}getOptionScopes(t,n,i){const{options:l,type:a}=this,o=this._cachedScopes(t,i),s=o.get(n);if(s)return s;const r=new Set;n.forEach(c=>{t&&(r.add(t),c.forEach(d=>fl(r,t,d))),c.forEach(d=>fl(r,l,d)),c.forEach(d=>fl(r,xi[a]||{},d)),c.forEach(d=>fl(r,He,d)),c.forEach(d=>fl(r,Jo,d))});const u=Array.from(r);return u.length===0&&u.push(Object.create(null)),gf.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,xi[n]||{},He.datasets[n]||{},{type:n},He,Jo]}resolveNamedOptions(t,n,i,l=[""]){const a={$shared:!0},{resolver:o,subPrefixes:s}=$u(this._resolverCache,t,l);let r=o;if(Fx(o,n)){a.$shared=!1,i=Qn(i)?i():i;const u=this.createResolver(t,i,s);r=Wi(o,i,u)}for(const u of n)a[u]=r[u];return a}createResolver(t,n,i=[""],l){const{resolver:a}=$u(this._resolverCache,t,i);return Qe(n)?Wi(a,n,void 0,l):a}}function $u(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const l=n.join();let a=i.get(l);return a||(a={resolver:zs(t,n),subPrefixes:n.filter(s=>!s.toLowerCase().includes("hover"))},i.set(l,a)),a}const Ex=e=>Qe(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||Qn(e[n]),!1);function Fx(e,t){const{isScriptable:n,isIndexable:i}=Qd(e);for(const l of t){const a=n(l),o=i(l),s=(o||a)&&e[l];if(a&&(Qn(s)||Ex(s))||o&&st(s))return!0}return!1}var Dx="3.8.0";const Bx=["top","bottom","left","right","chartArea"];function Lu(e,t){return e==="top"||e==="bottom"||Bx.indexOf(e)===-1&&t==="x"}function Ru(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Ou(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),at(n&&n.onComplete,[e],t)}function Ax(e){const t=e.chart,n=t.options.animation;at(n&&n.onProgress,[e],t)}function pf(e){return Jd()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Xa={},bf=e=>{const t=pf(e);return Object.values(Xa).filter(n=>n.canvas===t).pop()};function Px(e,t,n){const i=Object.keys(e);for(const l of i){const a=+l;if(a>=t){const o=e[l];delete e[l],(n>0||a>t)&&(e[a+n]=o)}}}function Mx(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}class Vl{constructor(t,n){const i=this.config=new Sx(n),l=pf(t),a=bf(l);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||X1(l)),this.platform.updateConfig(i);const s=this.platform.acquireContext(l,o.aspectRatio),r=s&&s.canvas,u=r&&r.height,c=r&&r.width;if(this.id=g_(),this.ctx=s,this.canvas=r,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mx,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=v_(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Xa[this.id]=this,!s||!r){console.error("Failed to create chart: can't acquire context from the given item");return}Fn.listen(this,"complete",Ou),Fn.listen(this,"progress",Ax),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:l,_aspectRatio:a}=this;return tt(t)?n&&a?a:l?i/l:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cu(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ou(this.canvas,this.ctx),this}stop(){return Fn.stop(this),this}resize(t,n){Fn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,l=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(l,t,n,a),s=i.devicePixelRatio||this.platform.getDevicePixelRatio(),r=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,cu(this,s,!0)&&(this.notifyPlugins("resize",{size:o}),at(i.onResize,[this,o],this),this.attached&&this._doResize(r)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Je(n,(i,l)=>{i.id=l})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,l=Object.keys(i).reduce((o,s)=>(o[s]=!1,o),{});let a=[];n&&(a=a.concat(Object.keys(n).map(o=>{const s=n[o],r=ns(o,s),u=r==="r",c=r==="x";return{options:s,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),Je(a,o=>{const s=o.options,r=s.id,u=ns(r,s),c=$e(s.type,o.dtype);(s.position===void 0||Lu(s.position,u)!==Lu(o.dposition))&&(s.position=o.dposition),l[r]=!0;let d=null;if(r in i&&i[r].type===c)d=i[r];else{const f=An.getScale(c);d=new f({id:r,type:c,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(s,t)}),Je(l,(o,s)=>{o||delete i[s]}),Je(i,o=>{ln.configure(this,o,o.options),ln.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((l,a)=>l.index-a.index),i>n){for(let l=n;l<i;++l)this._destroyDatasetMeta(l);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(Ru("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,l)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,l;for(this._removeUnreferencedMetasets(),i=0,l=n.length;i<l;i++){const a=n[i];let o=this.getDatasetMeta(i);const s=a.type||this.config.type;if(o.type&&o.type!==s&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=s,o.indexAxis=a.indexAxis||ts(s,this.options),o.order=a.order||0,o.index=i,o.label=""+a.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const r=An.getController(s),{datasetElementType:u,dataElementType:c}=He.datasets[s];Object.assign(r.prototype,{dataElementType:An.getElement(c),datasetElementType:u&&An.getElement(u)}),o.controller=new r(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Je(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:d}=this.getDatasetMeta(u),f=!l&&a.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),l||Je(a,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Ru("z","_idx"));const{_active:s,_lastEvent:r}=this;r?this._eventHandler(r,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){Je(this.scales,t=>{ln.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Yr(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:l,count:a}of n){const o=i==="_removeElements"?-a:a;Px(t,l,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(t.filter(o=>o[0]===a).map((o,s)=>s+","+o.splice(1).join(","))),l=i(0);for(let a=1;a<n;a++)if(!Yr(l,i(a)))return;return Array.from(l).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ln.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Je(this.boxes,l=>{i&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,a)=>{l._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Qn(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),l={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(i.controller._update(n),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Fn.has(this)?this.attached&&!Fn.running(this)&&Fn.start(this):(this.draw(),Ou({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:l}=this._resizeBeforeDraw;this._resize(i,l),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let l,a;for(l=0,a=n.length;l<a;++l){const o=n[l];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,l=!i.disabled,a=this.chartArea,o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(l&&Ls(n,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?this.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?this.height:a.bottom+i.bottom}),t.controller.draw(),l&&Rs(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Ml(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,l){const a=B1.modes[n];return typeof a=="function"?a(this,t,i,l):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let l=i.filter(a=>a&&a._dataset===n).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(l)),l}getContext(){return this.$context||(this.$context=Jn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const l=i?"show":"hide",a=this.getDatasetMeta(t),o=a.controller._resolveAnimations(void 0,l);an(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(a,{visible:i}),this.update(s=>s.datasetIndex===t?l:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Fn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),ou(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Xa[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(a,o)=>{n.addEventListener(this,a,o),t[a]=o},l=(a,o,s)=>{a.offsetX=o,a.offsetY=s,this._eventHandler(a)};Je(this.options.events,a=>i(a,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(r,u)=>{n.addEventListener(this,r,u),t[r]=u},l=(r,u)=>{t[r]&&(n.removeEventListener(this,r,u),delete t[r])},a=(r,u)=>{this.canvas&&this.resize(r,u)};let o;const s=()=>{l("attach",s),this.attached=!0,this.resize(),i("resize",a),i("detach",o)};o=()=>{this.attached=!1,l("resize",a),this._stop(),this._resize(0,0),i("attach",s)},n.isAttached(this.canvas)?s():o()}unbindEvents(){Je(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Je(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const l=i?"set":"remove";let a,o,s,r;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+l+"DatasetHoverStyle"]()),s=0,r=t.length;s<r;++s){o=t[s];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[l+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:a,index:o})=>{const s=this.getDatasetMeta(a);if(!s)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:s.data[o],index:o}});!Na(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}_updateHoverStyles(t,n,i){const l=this.options.hover,a=(r,u)=>r.filter(c=>!u.some(d=>c.datasetIndex===d.datasetIndex&&c.index===d.index)),o=a(n,t),s=i?t:a(t,n);o.length&&this.updateHoverStyle(o,l.mode,!1),s.length&&l.mode&&this.updateHoverStyle(s,l.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},l=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,l)===!1)return;const a=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,l),(a||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:l=[],options:a}=this,o=n,s=this._getActiveElements(t,l,i,o),r=w_(t),u=Mx(t,this._lastEvent,i,r);i&&(this._lastEvent=null,at(a.onHover,[t,s,this],this),r&&at(a.onClick,[t,s,this],this));const c=!Na(s,l);return(c||n)&&(this._active=s,this._updateHoverStyles(s,l,n)),this._lastEvent=u,c}_getActiveElements(t,n,i,l){if(t.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,l)}}const Iu=()=>Je(Vl.instances,e=>e._plugins.invalidate()),$n=!0;Object.defineProperties(Vl,{defaults:{enumerable:$n,value:He},instances:{enumerable:$n,value:Xa},overrides:{enumerable:$n,value:xi},registry:{enumerable:$n,value:An},version:{enumerable:$n,value:Dx},getChart:{enumerable:$n,value:bf},register:{enumerable:$n,value:(...e)=>{An.add(...e),Iu()}},unregister:{enumerable:$n,value:(...e)=>{An.remove(...e),Iu()}}});function _f(e,t,n){const{startAngle:i,pixelMargin:l,x:a,y:o,outerRadius:s,innerRadius:r}=t;let u=l/s;e.beginPath(),e.arc(a,o,s,i-u,n+u),r>l?(u=l/r,e.arc(a,o,r,n+u,i-u,!0)):e.arc(a,o,l,n+vt,i-vt),e.closePath(),e.clip()}function qx(e){return Os(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Tx(e,t,n,i){const l=qx(e.options.borderRadius),a=(n-t)/2,o=Math.min(a,i*t/2),s=r=>{const u=(n-Math.min(a,r))*i/2;return Vt(r,0,Math.min(a,u))};return{outerStart:s(l.outerStart),outerEnd:s(l.outerEnd),innerStart:Vt(l.innerStart,0,o),innerEnd:Vt(l.innerEnd,0,o)}}function Vi(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function is(e,t,n,i,l){const{x:a,y:o,startAngle:s,pixelMargin:r,innerRadius:u}=t,c=Math.max(t.outerRadius+i+n-r,0),d=u>0?u+i+n+r:0;let f=0;const h=l-s;if(i){const M=u>0?u-i:0,A=c>0?c-i:0,z=(M+A)/2,W=z!==0?h*z/(z+i):h;f=(h-W)/2}const p=Math.max(.001,h*c-n/ct)/c,g=(h-p)/2,m=s+g+f,b=l-g-f,{outerStart:x,outerEnd:C,innerStart:k,innerEnd:w}=Tx(t,d,c,b-m),E=c-x,D=c-C,P=m+x/E,q=b-C/D,T=d+k,$=d+w,H=m+k/T,L=b-w/$;if(e.beginPath(),e.arc(a,o,c,P,q),C>0){const M=Vi(D,q,a,o);e.arc(M.x,M.y,C,q,b+vt)}const K=Vi($,b,a,o);if(e.lineTo(K.x,K.y),w>0){const M=Vi($,L,a,o);e.arc(M.x,M.y,w,b+vt,L+Math.PI)}if(e.arc(a,o,d,b-w/d,m+k/d,!0),k>0){const M=Vi(T,H,a,o);e.arc(M.x,M.y,k,H+Math.PI,m-vt)}const R=Vi(E,m,a,o);if(e.lineTo(R.x,R.y),x>0){const M=Vi(E,P,a,o);e.arc(M.x,M.y,x,m-vt,P)}e.closePath()}function Vx(e,t,n,i){const{fullCircles:l,startAngle:a,circumference:o}=t;let s=t.endAngle;if(l){is(e,t,n,i,a+ot);for(let r=0;r<l;++r)e.fill();isNaN(o)||(s=a+o%ot,o%ot===0&&(s+=ot))}return is(e,t,n,i,s),e.fill(),s}function $x(e,t,n){const{x:i,y:l,startAngle:a,pixelMargin:o,fullCircles:s}=t,r=Math.max(t.outerRadius-o,0),u=t.innerRadius+o;let c;for(n&&_f(e,t,a+ot),e.beginPath(),e.arc(i,l,u,a+ot,a,!0),c=0;c<s;++c)e.stroke();for(e.beginPath(),e.arc(i,l,r,a,a+ot),c=0;c<s;++c)e.stroke()}function Lx(e,t,n,i,l){const{options:a}=t,{borderWidth:o,borderJoinStyle:s}=a,r=a.borderAlign==="inner";!o||(r?(e.lineWidth=o*2,e.lineJoin=s||"round"):(e.lineWidth=o,e.lineJoin=s||"bevel"),t.fullCircles&&$x(e,t,r),r&&_f(e,t,l),is(e,t,n,i,l),e.stroke())}class Xs extends gn{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,i){const l=this.getProps(["x","y"],i),{angle:a,distance:o}=Rd(l,{x:t,y:n}),{startAngle:s,endAngle:r,innerRadius:u,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=this.options.spacing/2,p=$e(d,r-s)>=ot||Pl(a,s,r),g=Ln(o,u+f,c+f);return p&&g}getCenterPoint(t){const{x:n,y:i,startAngle:l,endAngle:a,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:r,spacing:u}=this.options,c=(l+a)/2,d=(o+s+u+r)/2;return{x:n+Math.cos(c)*d,y:i+Math.sin(c)*d}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:i}=this,l=(n.offset||0)/2,a=(n.spacing||0)/2;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>ot?Math.floor(i/ot):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let o=0;if(l){o=l/2;const r=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(r)*o,Math.sin(r)*o),this.circumference>=ct&&(o=l)}t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor;const s=Vx(t,this,o,a);Lx(t,this,o,a,s),t.restore()}}Xs.id="arc";Xs.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};Xs.defaultRoutes={backgroundColor:"backgroundColor"};function yf(e,t,n=t){e.lineCap=$e(n.borderCapStyle,t.borderCapStyle),e.setLineDash($e(n.borderDash,t.borderDash)),e.lineDashOffset=$e(n.borderDashOffset,t.borderDashOffset),e.lineJoin=$e(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=$e(n.borderWidth,t.borderWidth),e.strokeStyle=$e(n.borderColor,t.borderColor)}function Rx(e,t,n){e.lineTo(n.x,n.y)}function Ox(e){return e.stepped?ey:e.tension||e.cubicInterpolationMode==="monotone"?ty:Rx}function xf(e,t,n={}){const i=e.length,{start:l=0,end:a=i-1}=n,{start:o,end:s}=t,r=Math.max(l,o),u=Math.min(a,s),c=l<o&&a<o||l>s&&a>s;return{count:i,start:r,loop:t.loop,ilen:u<r&&!c?i+u-r:u-r}}function Ix(e,t,n,i){const{points:l,options:a}=t,{count:o,start:s,loop:r,ilen:u}=xf(l,n,i),c=Ox(a);let{move:d=!0,reverse:f}=i||{},h,p,g;for(h=0;h<=u;++h)p=l[(s+(f?u-h:h))%o],!p.skip&&(d?(e.moveTo(p.x,p.y),d=!1):c(e,g,p,f,a.stepped),g=p);return r&&(p=l[(s+(f?u:0))%o],c(e,g,p,f,a.stepped)),!!r}function zx(e,t,n,i){const l=t.points,{count:a,start:o,ilen:s}=xf(l,n,i),{move:r=!0,reverse:u}=i||{};let c=0,d=0,f,h,p,g,m,b;const x=k=>(o+(u?s-k:k))%a,C=()=>{g!==m&&(e.lineTo(c,m),e.lineTo(c,g),e.lineTo(c,b))};for(r&&(h=l[x(0)],e.moveTo(h.x,h.y)),f=0;f<=s;++f){if(h=l[x(f)],h.skip)continue;const k=h.x,w=h.y,E=k|0;E===p?(w<g?g=w:w>m&&(m=w),c=(d*c+k)/++d):(C(),e.lineTo(k,w),p=E,d=0,g=m=w),b=w}C()}function ls(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?zx:Ix}function Nx(e){return e.stepped?Vy:e.tension||e.cubicInterpolationMode==="monotone"?$y:oi}function Hx(e,t,n,i){let l=t._path;l||(l=t._path=new Path2D,t.path(l,n,i)&&l.closePath()),yf(e,t.options),e.stroke(l)}function jx(e,t,n,i){const{segments:l,options:a}=t,o=ls(t);for(const s of l)yf(e,a,s.style),e.beginPath(),o(e,t,s,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const Wx=typeof Path2D=="function";function Ux(e,t,n,i){Wx&&!t.options.segment?Hx(e,t,n,i):jx(e,t,n,i)}class Xl extends gn{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const l=i.spanGaps?this._loop:this._fullLoop;Fy(this._points,i,t,l,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Wy(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,l=t[n],a=this.points,o=Ny(this,{property:n,start:l,end:l});if(!o.length)return;const s=[],r=Nx(i);let u,c;for(u=0,c=o.length;u<c;++u){const{start:d,end:f}=o[u],h=a[d],p=a[f];if(h===p){s.push(h);continue}const g=Math.abs((l-h[n])/(p[n]-h[n])),m=r(h,p,g,i.stepped);m[n]=t[n],s.push(m)}return s.length===1?s[0]:s}pathSegment(t,n,i){return ls(this)(t,this,n,i)}path(t,n,i){const l=this.segments,a=ls(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const s of l)o&=a(t,this,s,{start:n,end:n+i-1});return!!o}draw(t,n,i,l){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),Ux(t,this,i,l),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Xl.id="line";Xl.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Xl.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Xl.descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};function zu(e,t,n,i){const l=e.options,{[n]:a}=e.getProps([n],i);return Math.abs(t-a)<l.radius+l.hitRadius}class co extends gn{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,i){const l=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(n-o,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(t,n){return zu(this,t,"x",n)}inYRange(t,n){return zu(this,t,"y",n)}getCenterPoint(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const i=n&&t.borderWidth||0;return(n+i)*2}draw(t,n){const i=this.options;this.skip||i.radius<.1||!Ml(this,n,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Qa(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}co.id="point";co.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};co.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function wf(e,t){const{x:n,y:i,base:l,width:a,height:o}=e.getProps(["x","y","base","width","height"],t);let s,r,u,c,d;return e.horizontal?(d=o/2,s=Math.min(n,l),r=Math.max(n,l),u=i-d,c=i+d):(d=a/2,s=n-d,r=n+d,u=Math.min(i,l),c=Math.max(i,l)),{left:s,top:u,right:r,bottom:c}}function On(e,t,n,i){return e?0:Vt(t,n,i)}function Qx(e,t,n){const i=e.options.borderWidth,l=e.borderSkipped,a=jd(i);return{t:On(l.top,a.top,0,n),r:On(l.right,a.right,0,t),b:On(l.bottom,a.bottom,0,n),l:On(l.left,a.left,0,t)}}function Kx(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),l=e.options.borderRadius,a=mi(l),o=Math.min(t,n),s=e.borderSkipped,r=i||Qe(l);return{topLeft:On(!r||s.top||s.left,a.topLeft,0,o),topRight:On(!r||s.top||s.right,a.topRight,0,o),bottomLeft:On(!r||s.bottom||s.left,a.bottomLeft,0,o),bottomRight:On(!r||s.bottom||s.right,a.bottomRight,0,o)}}function Yx(e){const t=wf(e),n=t.right-t.left,i=t.bottom-t.top,l=Qx(e,n/2,i/2),a=Kx(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:a},inner:{x:t.left+l.l,y:t.top+l.t,w:n-l.l-l.r,h:i-l.t-l.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,a.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(l.b,l.r))}}}}function Ho(e,t,n,i){const l=t===null,a=n===null,s=e&&!(l&&a)&&wf(e,i);return s&&(l||Ln(t,s.left,s.right))&&(a||Ln(n,s.top,s.bottom))}function Xx(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Gx(e,t){e.rect(t.x,t.y,t.w,t.h)}function jo(e,t,n={}){const i=e.x!==n.x?-t:0,l=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-l;return{x:e.x+i,y:e.y+l,w:e.w+a,h:e.h+o,radius:e.radius}}class Gs extends gn{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:l}}=this,{inner:a,outer:o}=Yx(this),s=Xx(o.radius)?ql:Gx;t.save(),(o.w!==a.w||o.h!==a.h)&&(t.beginPath(),s(t,jo(o,n,a)),t.clip(),s(t,jo(a,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),s(t,jo(a,n)),t.fillStyle=l,t.fill(),t.restore()}inRange(t,n,i){return Ho(this,t,n,i)}inXRange(t,n){return Ho(this,t,null,n)}inYRange(t,n){return Ho(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:l,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(n+l)/2:n,y:a?i:(i+l)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Gs.id="bar";Gs.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Gs.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const Nu=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},Zx=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Hu extends gn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=at(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,l)=>t.sort(i,l,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,l=St(i.font),a=l.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:r}=Nu(i,a);let u,c;n.font=l.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,a,s,r)+10):(c=this.maxHeight,u=this._fitCols(o,a,s,r)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,l){const{ctx:a,maxWidth:o,options:{labels:{padding:s}}}=this,r=this.legendHitBoxes=[],u=this.lineWidths=[0],c=l+s;let d=t;a.textAlign="left",a.textBaseline="middle";let f=-1,h=-c;return this.legendItems.forEach((p,g)=>{const m=i+n/2+a.measureText(p.text).width;(g===0||u[u.length-1]+m+2*s>o)&&(d+=c,u[u.length-(g>0?0:1)]=0,h+=c,f++),r[g]={left:0,top:h,row:f,width:m,height:l},u[u.length-1]+=m+s}),d}_fitCols(t,n,i,l){const{ctx:a,maxHeight:o,options:{labels:{padding:s}}}=this,r=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-t;let d=s,f=0,h=0,p=0,g=0;return this.legendItems.forEach((m,b)=>{const x=i+n/2+a.measureText(m.text).width;b>0&&h+l+2*s>c&&(d+=f+s,u.push({width:f,height:h}),p+=f+s,g++,f=h=0),r[b]={left:p,top:h,col:g,width:x,height:l},f=Math.max(f,x),h+=l+s}),d+=f,u.push({width:f,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:l},rtl:a}}=this,o=Ni(a,this.left,this.width);if(this.isHorizontal()){let s=0,r=qt(i,this.left+l,this.right-this.lineWidths[s]);for(const u of n)s!==u.row&&(s=u.row,r=qt(i,this.left+l,this.right-this.lineWidths[s])),u.top+=this.top+t+l,u.left=o.leftForLtr(o.x(r),u.width),r+=u.width+l}else{let s=0,r=qt(i,this.top+t+l,this.bottom-this.columnSizes[s].height);for(const u of n)u.col!==s&&(s=u.col,r=qt(i,this.top+t+l,this.bottom-this.columnSizes[s].height)),u.top=r,u.left+=this.left+l,u.left=o.leftForLtr(o.x(u.left),u.width),r+=u.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ls(t,this),this._draw(),Rs(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:l}=this,{align:a,labels:o}=t,s=He.color,r=Ni(t.rtl,this.left,this.width),u=St(o.font),{color:c,padding:d}=o,f=u.size,h=f/2;let p;this.drawTitle(),l.textAlign=r.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=u.string;const{boxWidth:g,boxHeight:m,itemHeight:b}=Nu(o,f),x=function(D,P,q){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;l.save();const T=$e(q.lineWidth,1);if(l.fillStyle=$e(q.fillStyle,s),l.lineCap=$e(q.lineCap,"butt"),l.lineDashOffset=$e(q.lineDashOffset,0),l.lineJoin=$e(q.lineJoin,"miter"),l.lineWidth=T,l.strokeStyle=$e(q.strokeStyle,s),l.setLineDash($e(q.lineDash,[])),o.usePointStyle){const $={radius:g*Math.SQRT2/2,pointStyle:q.pointStyle,rotation:q.rotation,borderWidth:T},H=r.xPlus(D,g/2),L=P+h;Qa(l,$,H,L)}else{const $=P+Math.max((f-m)/2,0),H=r.leftForLtr(D,g),L=mi(q.borderRadius);l.beginPath(),Object.values(L).some(K=>K!==0)?ql(l,{x:H,y:$,w:g,h:m,radius:L}):l.rect(H,$,g,m),l.fill(),T!==0&&l.stroke()}l.restore()},C=function(D,P,q){wi(l,q.text,D,P+b/2,u,{strikethrough:q.hidden,textAlign:r.textAlign(q.textAlign)})},k=this.isHorizontal(),w=this._computeTitleHeight();k?p={x:qt(a,this.left+d,this.right-i[0]),y:this.top+d+w,line:0}:p={x:this.left+d,y:qt(a,this.top+w+d,this.bottom-n[0].height),line:0},ef(this.ctx,t.textDirection);const E=b+d;this.legendItems.forEach((D,P)=>{l.strokeStyle=D.fontColor||c,l.fillStyle=D.fontColor||c;const q=l.measureText(D.text).width,T=r.textAlign(D.textAlign||(D.textAlign=o.textAlign)),$=g+h+q;let H=p.x,L=p.y;r.setWidth(this.width),k?P>0&&H+$+d>this.right&&(L=p.y+=E,p.line++,H=p.x=qt(a,this.left+d,this.right-i[p.line])):P>0&&L+E>this.bottom&&(H=p.x=H+n[p.line].width+d,p.line++,L=p.y=qt(a,this.top+w+d,this.bottom-n[p.line].height));const K=r.x(H);x(K,L,D),H=m_(T,H+g+h,k?H+$:this.right,t.rtl),C(r.x(H),L,D),k?p.x+=$+d:p.y+=E}),tf(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=St(n.font),l=Lt(n.padding);if(!n.display)return;const a=Ni(t.rtl,this.left,this.width),o=this.ctx,s=n.position,r=i.size/2,u=l.top+r;let c,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+u,d=qt(t.align,d,this.right-f);else{const p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);c=u+qt(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const h=qt(s,d,d+f);o.textAlign=a.textAlign(Ps(s)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,wi(o,n.text,h,c,i)}_computeTitleHeight(){const t=this.options.title,n=St(t.font),i=Lt(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,l,a;if(Ln(t,this.left,this.right)&&Ln(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(l=a[i],Ln(t,l.left,l.left+l.width)&&Ln(n,l.top,l.top+l.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!Jx(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const l=this._hoveredItem,a=Zx(l,i);l&&!a&&at(n.onLeave,[t,l,this],this),this._hoveredItem=i,i&&!a&&at(n.onHover,[t,i,this],this)}else i&&at(n.onClick,[t,i,this],this)}}function Jx(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var ew={id:"legend",_element:Hu,start(e,t,n){const i=e.legend=new Hu({ctx:e.ctx,options:n,chart:e});ln.configure(e,i,n),ln.addBox(e,i)},stop(e){ln.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;ln.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,l=n.chart;l.isDatasetVisible(i)?(l.hide(i),t.hidden=!0):(l.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:l,color:a}}=e.legend.options;return e._getSortedDatasetMetas().map(o=>{const s=o.controller.getStyle(n?0:void 0),r=Lt(s.borderWidth);return{text:t[o.index].label,fillStyle:s.backgroundColor,fontColor:a,hidden:!o.visible,lineCap:s.borderCapStyle,lineDash:s.borderDash,lineDashOffset:s.borderDashOffset,lineJoin:s.borderJoinStyle,lineWidth:(r.width+r.height)/4,strokeStyle:s.borderColor,pointStyle:i||s.pointStyle,rotation:s.rotation,textAlign:l||s.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class kf extends gn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const l=st(i.text)?i.text.length:1;this._padding=Lt(i.padding);const a=l*St(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:l,right:a,options:o}=this,s=o.align;let r=0,u,c,d;return this.isHorizontal()?(c=qt(s,i,a),d=n+t,u=a-i):(o.position==="left"?(c=i+t,d=qt(s,l,n),r=ct*-.5):(c=a-t,d=qt(s,n,l),r=ct*.5),u=l-n),{titleX:c,titleY:d,maxWidth:u,rotation:r}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=St(n.font),a=i.lineHeight/2+this._padding.top,{titleX:o,titleY:s,maxWidth:r,rotation:u}=this._drawArgs(a);wi(t,n.text,0,0,i,{color:n.color,maxWidth:r,rotation:u,textAlign:Ps(n.align),textBaseline:"middle",translation:[o,s]})}}function tw(e,t){const n=new kf({ctx:e.ctx,options:t,chart:e});ln.configure(e,n,t),ln.addBox(e,n),e.titleBlock=n}var nw={id:"title",_element:kf,start(e,t,n){tw(e,n)},stop(e){const t=e.titleBlock;ln.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;ln.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wl={average(e){if(!e.length)return!1;let t,n,i=0,l=0,a=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const s=o.tooltipPosition();i+=s.x,l+=s.y,++a}}return{x:i/a,y:l/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,l=Number.POSITIVE_INFINITY,a,o,s;for(a=0,o=e.length;a<o;++a){const r=e[a].element;if(r&&r.hasValue()){const u=r.getCenterPoint(),c=Go(t,u);c<l&&(l=c,s=r)}}if(s){const r=s.tooltipPosition();n=r.x,i=r.y}return{x:n,y:i}}};function _n(e,t){return t&&(st(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Dn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function iw(e,t){const{element:n,datasetIndex:i,index:l}=t,a=e.getDatasetMeta(i).controller,{label:o,value:s}=a.getLabelAndValue(l);return{chart:e,label:o,parsed:a.getParsed(l),raw:e.data.datasets[i].data[l],formattedValue:s,dataset:a.getDataset(),dataIndex:l,datasetIndex:i,element:n}}function ju(e,t){const n=e.chart.ctx,{body:i,footer:l,title:a}=e,{boxWidth:o,boxHeight:s}=t,r=St(t.bodyFont),u=St(t.titleFont),c=St(t.footerFont),d=a.length,f=l.length,h=i.length,p=Lt(t.padding);let g=p.height,m=0,b=i.reduce((k,w)=>k+w.before.length+w.lines.length+w.after.length,0);if(b+=e.beforeBody.length+e.afterBody.length,d&&(g+=d*u.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),b){const k=t.displayColors?Math.max(s,r.lineHeight):r.lineHeight;g+=h*k+(b-h)*r.lineHeight+(b-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*c.lineHeight+(f-1)*t.footerSpacing);let x=0;const C=function(k){m=Math.max(m,n.measureText(k).width+x)};return n.save(),n.font=u.string,Je(e.title,C),n.font=r.string,Je(e.beforeBody.concat(e.afterBody),C),x=t.displayColors?o+2+t.boxPadding:0,Je(i,k=>{Je(k.before,C),Je(k.lines,C),Je(k.after,C)}),x=0,n.font=c.string,Je(e.footer,C),n.restore(),m+=p.width,{width:m,height:g}}function lw(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function aw(e,t,n,i){const{x:l,width:a}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&l+a+o>t.width||e==="right"&&l-a-o<0)return!0}function ow(e,t,n,i){const{x:l,width:a}=n,{width:o,chartArea:{left:s,right:r}}=e;let u="center";return i==="center"?u=l<=(s+r)/2?"left":"right":l<=a/2?u="left":l>=o-a/2&&(u="right"),aw(u,e,t,n)&&(u="center"),u}function Wu(e,t,n){const i=n.yAlign||t.yAlign||lw(e,n);return{xAlign:n.xAlign||t.xAlign||ow(e,t,n,i),yAlign:i}}function sw(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function rw(e,t,n){let{y:i,height:l}=e;return t==="top"?i+=n:t==="bottom"?i-=l+n:i-=l/2,i}function Uu(e,t,n,i){const{caretSize:l,caretPadding:a,cornerRadius:o}=e,{xAlign:s,yAlign:r}=n,u=l+a,{topLeft:c,topRight:d,bottomLeft:f,bottomRight:h}=mi(o);let p=sw(t,s);const g=rw(t,r,u);return r==="center"?s==="left"?p+=u:s==="right"&&(p-=u):s==="left"?p-=Math.max(c,f)+l:s==="right"&&(p+=Math.max(d,h)+l),{x:Vt(p,0,i.width-t.width),y:Vt(g,0,i.height-t.height)}}function _a(e,t,n){const i=Lt(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function Qu(e){return _n([],Dn(e))}function uw(e,t,n){return Jn(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Ku(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}class as extends gn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),l=i.enabled&&n.options.animation&&i.animations,a=new lf(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=uw(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,l=i.beforeTitle.apply(this,[t]),a=i.title.apply(this,[t]),o=i.afterTitle.apply(this,[t]);let s=[];return s=_n(s,Dn(l)),s=_n(s,Dn(a)),s=_n(s,Dn(o)),s}getBeforeBody(t,n){return Qu(n.callbacks.beforeBody.apply(this,[t]))}getBody(t,n){const{callbacks:i}=n,l=[];return Je(t,a=>{const o={before:[],lines:[],after:[]},s=Ku(i,a);_n(o.before,Dn(s.beforeLabel.call(this,a))),_n(o.lines,s.label.call(this,a)),_n(o.after,Dn(s.afterLabel.call(this,a))),l.push(o)}),l}getAfterBody(t,n){return Qu(n.callbacks.afterBody.apply(this,[t]))}getFooter(t,n){const{callbacks:i}=n,l=i.beforeFooter.apply(this,[t]),a=i.footer.apply(this,[t]),o=i.afterFooter.apply(this,[t]);let s=[];return s=_n(s,Dn(l)),s=_n(s,Dn(a)),s=_n(s,Dn(o)),s}_createItems(t){const n=this._active,i=this.chart.data,l=[],a=[],o=[];let s=[],r,u;for(r=0,u=n.length;r<u;++r)s.push(iw(this.chart,n[r]));return t.filter&&(s=s.filter((c,d,f)=>t.filter(c,d,f,i))),t.itemSort&&(s=s.sort((c,d)=>t.itemSort(c,d,i))),Je(s,c=>{const d=Ku(t.callbacks,c);l.push(d.labelColor.call(this,c)),a.push(d.labelPointStyle.call(this,c)),o.push(d.labelTextColor.call(this,c))}),this.labelColors=l,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=s,s}update(t,n){const i=this.options.setContext(this.getContext()),l=this._active;let a,o=[];if(!l.length)this.opacity!==0&&(a={opacity:0});else{const s=wl[i.position].call(this,l,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const r=this._size=ju(this,i),u=Object.assign({},s,r),c=Wu(this.chart,i,u),d=Uu(i,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,a={opacity:1,x:d.x,y:d.y,width:r.width,height:r.height,caretX:s.x,caretY:s.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,l){const a=this.getCaretPosition(t,i,l);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,i){const{xAlign:l,yAlign:a}=this,{caretSize:o,cornerRadius:s}=i,{topLeft:r,topRight:u,bottomLeft:c,bottomRight:d}=mi(s),{x:f,y:h}=t,{width:p,height:g}=n;let m,b,x,C,k,w;return a==="center"?(k=h+g/2,l==="left"?(m=f,b=m-o,C=k+o,w=k-o):(m=f+p,b=m+o,C=k-o,w=k+o),x=m):(l==="left"?b=f+Math.max(r,c)+o:l==="right"?b=f+p-Math.max(u,d)-o:b=this.caretX,a==="top"?(C=h,k=C-o,m=b-o,x=b+o):(C=h+g,k=C+o,m=b+o,x=b-o),w=C),{x1:m,x2:b,x3:x,y1:C,y2:k,y3:w}}drawTitle(t,n,i){const l=this.title,a=l.length;let o,s,r;if(a){const u=Ni(i.rtl,this.x,this.width);for(t.x=_a(this,i.titleAlign,i),n.textAlign=u.textAlign(i.titleAlign),n.textBaseline="middle",o=St(i.titleFont),s=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,r=0;r<a;++r)n.fillText(l[r],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s,r+1===a&&(t.y+=i.titleMarginBottom-s)}}_drawColorBox(t,n,i,l,a){const o=this.labelColors[i],s=this.labelPointStyles[i],{boxHeight:r,boxWidth:u,boxPadding:c}=a,d=St(a.bodyFont),f=_a(this,"left",a),h=l.x(f),p=r<d.lineHeight?(d.lineHeight-r)/2:0,g=n.y+p;if(a.usePointStyle){const m={radius:Math.min(u,r)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},b=l.leftForLtr(h,u)+u/2,x=g+r/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Qa(t,m,b,x),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Qa(t,m,b,x)}else{t.lineWidth=o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const m=l.leftForLtr(h,u-c),b=l.leftForLtr(l.xPlus(h,1),u-c-2),x=mi(o.borderRadius);Object.values(x).some(C=>C!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,ql(t,{x:m,y:g,w:u,h:r,radius:x}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),ql(t,{x:b,y:g+1,w:u-2,h:r-2,radius:x}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(m,g,u,r),t.strokeRect(m,g,u,r),t.fillStyle=o.backgroundColor,t.fillRect(b,g+1,u-2,r-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:l}=this,{bodySpacing:a,bodyAlign:o,displayColors:s,boxHeight:r,boxWidth:u,boxPadding:c}=i,d=St(i.bodyFont);let f=d.lineHeight,h=0;const p=Ni(i.rtl,this.x,this.width),g=function(P){n.fillText(P,p.x(t.x+h),t.y+f/2),t.y+=f+a},m=p.textAlign(o);let b,x,C,k,w,E,D;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,t.x=_a(this,m,i),n.fillStyle=i.bodyColor,Je(this.beforeBody,g),h=s&&m!=="right"?o==="center"?u/2+c:u+2+c:0,k=0,E=l.length;k<E;++k){for(b=l[k],x=this.labelTextColors[k],n.fillStyle=x,Je(b.before,g),C=b.lines,s&&C.length&&(this._drawColorBox(n,t,k,p,i),f=Math.max(d.lineHeight,r)),w=0,D=C.length;w<D;++w)g(C[w]),f=d.lineHeight;Je(b.after,g)}h=0,f=d.lineHeight,Je(this.afterBody,g),t.y-=a}drawFooter(t,n,i){const l=this.footer,a=l.length;let o,s;if(a){const r=Ni(i.rtl,this.x,this.width);for(t.x=_a(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=r.textAlign(i.footerAlign),n.textBaseline="middle",o=St(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,s=0;s<a;++s)n.fillText(l[s],r.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,l){const{xAlign:a,yAlign:o}=this,{x:s,y:r}=t,{width:u,height:c}=i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:p}=mi(l.cornerRadius);n.fillStyle=l.backgroundColor,n.strokeStyle=l.borderColor,n.lineWidth=l.borderWidth,n.beginPath(),n.moveTo(s+d,r),o==="top"&&this.drawCaret(t,n,i,l),n.lineTo(s+u-f,r),n.quadraticCurveTo(s+u,r,s+u,r+f),o==="center"&&a==="right"&&this.drawCaret(t,n,i,l),n.lineTo(s+u,r+c-p),n.quadraticCurveTo(s+u,r+c,s+u-p,r+c),o==="bottom"&&this.drawCaret(t,n,i,l),n.lineTo(s+h,r+c),n.quadraticCurveTo(s,r+c,s,r+c-h),o==="center"&&a==="left"&&this.drawCaret(t,n,i,l),n.lineTo(s,r+d),n.quadraticCurveTo(s,r,s+d,r),n.closePath(),n.fill(),l.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,l=i&&i.x,a=i&&i.y;if(l||a){const o=wl[t.position].call(this,this._active,this._eventPosition);if(!o)return;const s=this._size=ju(this,t),r=Object.assign({},o,this._size),u=Wu(n,t,r),c=Uu(t,r,u,n);(l._to!==c.x||a._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=s.width,this.height=s.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const l={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Lt(n.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&s&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,l,n),ef(t,n.textDirection),a.y+=o.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),tf(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,l=t.map(({datasetIndex:s,index:r})=>{const u=this.chart.getDatasetMeta(s);if(!u)throw new Error("Cannot find a dataset at index "+s);return{datasetIndex:s,element:u.data[r],index:r}}),a=!Na(i,l),o=this._positionChanged(l,n);(a||o)&&(this._active=l,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,a=this._active||[],o=this._getActiveElements(t,a,n,i),s=this._positionChanged(o,t),r=n||!Na(o,a)||s;return r&&(this._active=o,(l.enabled||l.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),r}_getActiveElements(t,n,i,l){const a=this.options;if(t.type==="mouseout")return[];if(!l)return n;const o=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:l,options:a}=this,o=wl[a.position].call(this,t,n);return o!==!1&&(i!==o.x||l!==o.y)}}as.positioners=wl;var cw={id:"tooltip",_element:as,positioners:wl,afterInit(e,t,n){n&&(e.tooltip=new as({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",n)===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:En,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:En,beforeBody:En,beforeLabel:En,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return tt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:En,afterBody:En,beforeFooter:En,footer:En,afterFooter:En}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const dw=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function fw(e,t,n,i){const l=e.indexOf(t);if(l===-1)return dw(e,t,n,i);const a=e.lastIndexOf(t);return l!==a?n:l}const hw=(e,t)=>e===null?null:Vt(Math.round(e),0,t);class Ga extends Ei{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:l,label:a}of n)i[l]===a&&i.splice(l,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(tt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:fw(i,t,$e(n,t),this._addedLabels),hw(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(l=this.getLabels().length-1)),this.min=i,this.max=l}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,l=[];let a=this.getLabels();a=t===0&&n===a.length-1?a:a.slice(t,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)l.push({value:o});return l}getLabelForValue(t){const n=this.getLabels();return t>=0&&t<n.length?n[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Ga.id="category";Ga.defaults={ticks:{callback:Ga.prototype.getLabelForValue}};function vw(e,t){const n=[],{bounds:l,step:a,min:o,max:s,precision:r,count:u,maxTicks:c,maxDigits:d,includeBounds:f}=e,h=a||1,p=c-1,{min:g,max:m}=t,b=!tt(o),x=!tt(s),C=!tt(u),k=(m-g)/(d+1);let w=Gr((m-g)/p/h)*h,E,D,P,q;if(w<1e-14&&!b&&!x)return[{value:g},{value:m}];q=Math.ceil(m/w)-Math.floor(g/w),q>p&&(w=Gr(q*w/p/h)*h),tt(r)||(E=Math.pow(10,r),w=Math.ceil(w*E)/E),l==="ticks"?(D=Math.floor(g/w)*w,P=Math.ceil(m/w)*w):(D=g,P=m),b&&x&&a&&E_((s-o)/a,w/1e3)?(q=Math.round(Math.min((s-o)/w,c)),w=(s-o)/q,D=o,P=s):C?(D=b?o:D,P=x?s:P,q=u-1,w=(P-D)/q):(q=(P-D)/w,_l(q,Math.round(q),w/1e3)?q=Math.round(q):q=Math.ceil(q));const T=Math.max(Zr(w),Zr(D));E=Math.pow(10,tt(r)?T:r),D=Math.round(D*E)/E,P=Math.round(P*E)/E;let $=0;for(b&&(f&&D!==o?(n.push({value:o}),D<o&&$++,_l(Math.round((D+$*w)*E)/E,o,Yu(o,k,e))&&$++):D<o&&$++);$<q;++$)n.push({value:Math.round((D+$*w)*E)/E});return x&&f&&P!==s?n.length&&_l(n[n.length-1].value,s,Yu(s,k,e))?n[n.length-1].value=s:n.push({value:s}):(!x||P===s)&&n.push({value:P}),n}function Yu(e,t,{horizontal:n,minRotation:i}){const l=hn(i),a=(n?Math.sin(l):Math.cos(l))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}class Za extends Ei{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return tt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:l,max:a}=this;const o=r=>l=n?l:r,s=r=>a=i?a:r;if(t){const r=yn(l),u=yn(a);r<0&&u<0?s(0):r>0&&u>0&&o(0)}if(l===a){let r=1;(a>=Number.MAX_SAFE_INTEGER||l<=Number.MIN_SAFE_INTEGER)&&(r=Math.abs(a*.05)),s(a+r),t||o(l-r)}this.min=l,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,l;return i?(l=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),n=n||11),n&&(l=Math.min(n,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const l={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,o=vw(l,a);return t.bounds==="ticks"&&Ld(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const l=(i-n)/Math.max(t.length-1,1)/2;n-=l,i+=l}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return Ul(t,this.chart.options.locale,this.options.ticks.format)}}class Zs extends Za{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Pt(t)?t:0,this.max=Pt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=hn(this.options.ticks.minRotation),l=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/l))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Zs.id="linear";Zs.defaults={ticks:{callback:uo.formatters.numeric}};function Xu(e){return e/Math.pow(10,Math.floor(en(e)))===1}function mw(e,t){const n=Math.floor(en(t.max)),i=Math.ceil(t.max/Math.pow(10,n)),l=[];let a=Jt(e.min,Math.pow(10,Math.floor(en(t.min)))),o=Math.floor(en(a)),s=Math.floor(a/Math.pow(10,o)),r=o<0?Math.pow(10,Math.abs(o)):1;do l.push({value:a,major:Xu(a)}),++s,s===10&&(s=1,++o,r=o>=0?1:r),a=Math.round(s*Math.pow(10,o)*r)/r;while(o<n||o===n&&s<i);const u=Jt(e.max,a);return l.push({value:u,major:Xu(a)}),l}class Cf extends Ei{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=Za.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return Pt(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Pt(t)?Math.max(0,t):null,this.max=Pt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,l=this.max;const a=r=>i=t?i:r,o=r=>l=n?l:r,s=(r,u)=>Math.pow(10,Math.floor(en(r))+u);i===l&&(i<=0?(a(1),o(10)):(a(s(i,-1)),o(s(l,1)))),i<=0&&a(s(l,-1)),l<=0&&o(s(i,1)),this._zero&&this.min!==this._suggestedMin&&i===s(this.min,0)&&a(s(i,-1)),this.min=i,this.max=l}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=mw(n,this);return t.bounds==="ticks"&&Ld(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Ul(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=en(t),this._valueRange=en(this.max)-en(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(en(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}Cf.id="logarithmic";Cf.defaults={ticks:{callback:uo.formatters.logarithmic,major:{enabled:!0}}};function os(e){const t=e.ticks;if(t.display&&e.display){const n=Lt(t.backdropPadding);return $e(t.font&&t.font.size,He.font.size)+n.height}return 0}function gw(e,t,n){return n=st(n)?n:[n],{w:J_(e,t.string,n),h:n.length*t.lineHeight}}function Gu(e,t,n,i,l){return e===i||e===l?{start:t-n/2,end:t+n/2}:e<i||e>l?{start:t-n,end:t}:{start:t,end:t+n}}function pw(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],l=[],a=e._pointLabels.length,o=e.options.pointLabels,s=o.centerPointLabels?ct/a:0;for(let r=0;r<a;r++){const u=o.setContext(e.getPointLabelContext(r));l[r]=u.padding;const c=e.getPointPosition(r,e.drawingArea+l[r],s),d=St(u.font),f=gw(e.ctx,d,e._pointLabels[r]);i[r]=f;const h=un(e.getIndexAngle(r)+s),p=Math.round(qs(h)),g=Gu(p,c.x,f.w,0,180),m=Gu(p,c.y,f.h,90,270);bw(n,t,h,g,m)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=_w(e,i,l)}function bw(e,t,n,i,l){const a=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let s=0,r=0;i.start<t.l?(s=(t.l-i.start)/a,e.l=Math.min(e.l,t.l-s)):i.end>t.r&&(s=(i.end-t.r)/a,e.r=Math.max(e.r,t.r+s)),l.start<t.t?(r=(t.t-l.start)/o,e.t=Math.min(e.t,t.t-r)):l.end>t.b&&(r=(l.end-t.b)/o,e.b=Math.max(e.b,t.b+r))}function _w(e,t,n){const i=[],l=e._pointLabels.length,a=e.options,o=os(a)/2,s=e.drawingArea,r=a.pointLabels.centerPointLabels?ct/l:0;for(let u=0;u<l;u++){const c=e.getPointPosition(u,s+o+n[u],r),d=Math.round(qs(un(c.angle+vt))),f=t[u],h=ww(c.y,f.h,d),p=yw(d),g=xw(c.x,f.w,p);i.push({x:c.x,y:h,textAlign:p,left:g,top:h,right:g+f.w,bottom:h+f.h})}return i}function yw(e){return e===0||e===180?"center":e<180?"left":"right"}function xw(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function ww(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function kw(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let l=t-1;l>=0;l--){const a=i.setContext(e.getPointLabelContext(l)),o=St(a.font),{x:s,y:r,textAlign:u,left:c,top:d,right:f,bottom:h}=e._pointLabelItems[l],{backdropColor:p}=a;if(!tt(p)){const g=mi(a.borderRadius),m=Lt(a.backdropPadding);n.fillStyle=p;const b=c-m.left,x=d-m.top,C=f-c+m.width,k=h-d+m.height;Object.values(g).some(w=>w!==0)?(n.beginPath(),ql(n,{x:b,y:x,w:C,h:k,radius:g}),n.fill()):n.fillRect(b,x,C,k)}wi(n,e._pointLabels[l],s,r+o.lineHeight/2,o,{color:a.color,textAlign:u,textBaseline:"middle"})}}function Sf(e,t,n,i){const{ctx:l}=e;if(n)l.arc(e.xCenter,e.yCenter,t,0,ot);else{let a=e.getPointPosition(0,t);l.moveTo(a.x,a.y);for(let o=1;o<i;o++)a=e.getPointPosition(o,t),l.lineTo(a.x,a.y)}}function Cw(e,t,n,i){const l=e.ctx,a=t.circular,{color:o,lineWidth:s}=t;!a&&!i||!o||!s||n<0||(l.save(),l.strokeStyle=o,l.lineWidth=s,l.setLineDash(t.borderDash),l.lineDashOffset=t.borderDashOffset,l.beginPath(),Sf(e,n,a,i),l.closePath(),l.stroke(),l.restore())}function Sw(e,t,n){return Jn(e,{label:n,index:t,type:"pointLabel"})}class fo extends Za{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Lt(os(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Pt(t)&&!isNaN(t)?t:0,this.max=Pt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/os(this.options))}generateTickLabels(t){Za.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const l=at(this.options.pointLabels.callback,[n,i],this);return l||l===0?l:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?pw(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,l){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-l)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,l))}getIndexAngle(t){const n=ot/(this._pointLabels.length||1),i=this.options.startAngle||0;return un(t*n+hn(i))}getDistanceFromCenterForValue(t){if(tt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(tt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return Sw(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const l=this.getIndexAngle(t)-vt+i;return{x:Math.cos(l)*n+this.xCenter,y:Math.sin(l)*n+this.yCenter,angle:l}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:l,bottom:a}=this._pointLabelItems[t];return{left:n,top:i,right:l,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),Sf(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:l}=n,a=this._pointLabels.length;let o,s,r;if(n.pointLabels.display&&kw(this,a),l.display&&this.ticks.forEach((u,c)=>{if(c!==0){s=this.getDistanceFromCenterForValue(u.value);const d=l.setContext(this.getContext(c-1));Cw(this,d,s,a)}}),i.display){for(t.save(),o=a-1;o>=0;o--){const u=i.setContext(this.getPointLabelContext(o)),{color:c,lineWidth:d}=u;!d||!c||(t.lineWidth=d,t.strokeStyle=c,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,s=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),r=this.getPointPosition(o,s),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(r.x,r.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const l=this.getIndexAngle(0);let a,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(l),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((s,r)=>{if(r===0&&!n.reverse)return;const u=i.setContext(this.getContext(r)),c=St(u.font);if(a=this.getDistanceFromCenterForValue(this.ticks[r].value),u.showLabelBackdrop){t.font=c.string,o=t.measureText(s.label).width,t.fillStyle=u.backdropColor;const d=Lt(u.backdropPadding);t.fillRect(-o/2-d.left,-a-c.size/2-d.top,o+d.width,c.size+d.height)}wi(t,s.label,0,-a,c,{color:u.color})}),t.restore()}drawTitle(){}}fo.id="radialLinear";fo.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:uo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};fo.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};fo.descriptors={angleLines:{_fallback:"grid"}};const ho={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ht=Object.keys(ho);function Ew(e,t){return e-t}function Zu(e,t){if(tt(t))return null;const n=e._adapter,{parser:i,round:l,isoWeekday:a}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),Pt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(l&&(o=l==="week"&&(Al(a)||a===!0)?n.startOf(o,"isoWeek",a):n.startOf(o,l)),+o)}function Ju(e,t,n,i){const l=Ht.length;for(let a=Ht.indexOf(e);a<l-1;++a){const o=ho[Ht[a]],s=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(s*o.size))<=i)return Ht[a]}return Ht[l-1]}function Fw(e,t,n,i,l){for(let a=Ht.length-1;a>=Ht.indexOf(n);a--){const o=Ht[a];if(ho[o].common&&e._adapter.diff(l,i,o)>=t-1)return o}return Ht[n?Ht.indexOf(n):0]}function Dw(e){for(let t=Ht.indexOf(e)+1,n=Ht.length;t<n;++t)if(ho[Ht[t]].common)return Ht[t]}function ec(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:l}=Is(n,t),a=n[i]>=t?n[i]:n[l];e[a]=!0}}function Bw(e,t,n,i){const l=e._adapter,a=+l.startOf(t[0].value,i),o=t[t.length-1].value;let s,r;for(s=a;s<=o;s=+l.add(s,1,i))r=n[s],r>=0&&(t[r].major=!0);return t}function tc(e,t,n){const i=[],l={},a=t.length;let o,s;for(o=0;o<a;++o)s=t[o],l[s]=o,i.push({value:s,major:!1});return a===0||!n?i:Bw(e,i,l,n)}class vo extends Ei{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n){const i=t.time||(t.time={}),l=this._adapter=new C1._date(t.adapters.date);bl(i.displayFormats,l.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Zu(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:l,max:a,minDefined:o,maxDefined:s}=this.getUserBounds();function r(u){!o&&!isNaN(u.min)&&(l=Math.min(l,u.min)),!s&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!o||!s)&&(r(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&r(this.getMinMax(!1))),l=Pt(l)&&!isNaN(l)?l:+n.startOf(Date.now(),i),a=Pt(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(l,a-1),this.max=Math.max(l+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,l=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const a=this.min,o=this.max,s=cy(l,a,o);return this._unit=n.unit||(i.autoSkip?Ju(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):Fw(this,s.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Dw(this._unit),this.initOffsets(l),t.reverse&&s.reverse(),tc(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let n=0,i=0,l,a;this.options.offset&&t.length&&(l=this.getDecimalForValue(t[0]),t.length===1?n=1-l:n=(this.getDecimalForValue(t[1])-l)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Vt(n,0,o),i=Vt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,l=this.options,a=l.time,o=a.unit||Ju(a.minUnit,n,i,this._getLabelCapacity(n)),s=$e(a.stepSize,1),r=o==="week"?a.isoWeekday:!1,u=Al(r)||r===!0,c={};let d=n,f,h;if(u&&(d=+t.startOf(d,"isoWeek",r)),d=+t.startOf(d,u?"day":o),t.diff(i,n,o)>1e5*s)throw new Error(n+" and "+i+" are too far apart with stepSize of "+s+" "+o);const p=l.ticks.source==="data"&&this.getDataTimestamps();for(f=d,h=0;f<i;f=+t.add(f,s,o),h++)ec(c,f,p);return(f===i||l.bounds==="ticks"||h===1)&&ec(c,f,p),Object.keys(c).sort((g,m)=>g-m).map(g=>+g)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}_tickFormatFunction(t,n,i,l){const a=this.options,o=a.time.displayFormats,s=this._unit,r=this._majorUnit,u=s&&o[s],c=r&&o[r],d=i[n],f=r&&c&&d&&d.major,h=this._adapter.format(t,l||(f?c:u)),p=a.ticks.callback;return p?at(p,[h,n,i],this):h}generateTickLabels(t){let n,i,l;for(n=0,i=t.length;n<i;++n)l=t[n],l.label=this._tickFormatFunction(l.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,l=hn(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(l),o=Math.sin(l),s=this._resolveTickFontOptions(0).size;return{w:i*a+s*o,h:i*o+s*a}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,l=i[n.unit]||i.millisecond,a=this._tickFormatFunction(t,0,tc(this,[t],this._majorUnit),l),o=this._getLabelSize(a),s=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return s>0?s:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(n=0,i=l.length;n<i;++n)t=t.concat(l[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const l=this.getLabels();for(n=0,i=l.length;n<i;++n)t.push(Zu(this,l[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Ud(t.sort(Ew))}}vo.id="time";vo.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function ya(e,t,n){let i=0,l=e.length-1,a,o,s,r;n?(t>=e[i].pos&&t<=e[l].pos&&({lo:i,hi:l}=ri(e,"pos",t)),{pos:a,time:s}=e[i],{pos:o,time:r}=e[l]):(t>=e[i].time&&t<=e[l].time&&({lo:i,hi:l}=ri(e,"time",t)),{time:a,pos:s}=e[i],{time:o,pos:r}=e[l]);const u=o-a;return u?s+(r-s)*(t-a)/u:s}class Ef extends vo{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=ya(n,this.min),this._tableRange=ya(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,l=[],a=[];let o,s,r,u,c;for(o=0,s=t.length;o<s;++o)u=t[o],u>=n&&u<=i&&l.push(u);if(l.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,s=l.length;o<s;++o)c=l[o+1],r=l[o-1],u=l[o],Math.round((c+r)/2)!==u&&a.push({time:u,pos:o/(s-1)});return a}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(ya(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return ya(this._table,i*this._tableRange+this._minPos,!0)}}Ef.id="timeseries";Ef.defaults=vo.defaults;var Qi;(function(e){e.ChartRendered="chart:rendered",e.ChartUpdated="chart:updated",e.ChartDestroyed="chart:destroyed",e.LabelsUpdated="labels:updated"})(Qi||(Qi={}));function xa(e,t,n,i){e(t,n),i!==void 0&&i.emit(Qi.ChartRendered)}function Aw(e,t){e.update(),t!==void 0&&t.emit(Qi.ChartUpdated)}function wa(e,t){e.destroy(),t!==void 0&&t.emit(Qi.ChartDestroyed)}function Pw(e,t){const n={labels:typeof e.labels=="undefined"?[]:[...e.labels],datasets:[]};return Ff(n,O({},e),t),n}function Ff(e,t,n){const i=[];e.datasets=t.datasets.map(l=>{const a=e.datasets.find(o=>o[n]===l[n]);return!a||!l.data||i.includes(a)?O({},l):(i.push(a),Object.assign(a,l),a)})}function Mw(e,t,n){e.data.labels=t,n!==void 0&&n.emit(Qi.LabelsUpdated)}function qw(e,t){e.options=O({},t)}function Tw(e,t){const n=e.datasets.map(l=>l.label),i=t.datasets.map(l=>l.label);return t.datasets.length===e.datasets.length&&n.every((l,a)=>l===i[a])}const Vw="Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components",$w="Update ERROR: chart instance not found",Lw=(e,t,n)=>Ee({props:{chartData:{type:Object,required:!0},chartOptions:{type:Object,default:()=>{}},datasetIdKey:{type:String,default:"label"},chartId:{type:String,default:e},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{type:String,default:""},styles:{type:Object,default:()=>{}},plugins:{type:Array,default:()=>[]}},setup(i,l){Vl.register(n);const a=Mh(null),o=S(null);function s(d,f){if(a.value!==null&&wa(Vn(a.value),l),o.value===null)throw new Error(Vw);{const h=Pw(d,i.datasetIdKey),p=o.value.getContext("2d");p!==null&&(a.value=new Vl(p,{type:t,data:xo(d)?new Proxy(h,{}):h,options:f,plugins:i.plugins}))}}function r(d,f){const h=xo(d)?Vn(d):O({},d),p=xo(f)?Vn(f):O({},f);if(Object.keys(p).length>0){const g=Vn(a.value);Tw(h,p)&&g!==null?(Ff(g==null?void 0:g.data,h,i.datasetIdKey),h.labels!==void 0&&Mw(g,h.labels,l),c()):(g!==null&&wa(g,l),xa(s,i.chartData,i.chartOptions,l))}else a.value!==null&&wa(Vn(a.value),l),xa(s,i.chartData,i.chartOptions,l)}function u(d){const f=Vn(a.value);f!==null?(qw(f,d),c()):xa(s,i.chartData,i.chartOptions,l)}function c(){const d=Vn(a.value);d!==null?Aw(d,l):console.error($w)}return G(()=>i.chartData,(d,f)=>r(d,f),{deep:!0}),G(()=>i.chartOptions,d=>u(d),{deep:!0}),De(()=>{"datasets"in i.chartData&&i.chartData.datasets.length>0&&xa(s,i.chartData,i.chartOptions,l)}),Xe(()=>{a.value!==null&&wa(Vn(a.value),l)}),l.expose({chart:a,updateChart:c}),()=>F("div",{style:i.styles,class:i.cssClasses},[F("canvas",{id:i.chartId,width:i.width,height:i.height,ref:o})])}}),Rw=Lw("line-chart","line",Kl),Ow=B("div",{class:"text-h5 q-ma-md"},"\u9009\u62E9\u6837\u672C",-1),Iw={class:"row q-col-gutter-sm q-ma-sm"},zw={class:"col-xs-12 col-sm-12 col-md-5 q-mb-sm"},Nw={class:"col-xs-12 col-sm-12 col-md-5 q-mb-sm"},Hw={class:"col q-mt-sm"},jw={class:"absolute-top-right"},Ww=B("div",{class:"text-body-1"},[B("ul",null,[B("li",null,"\u7B2C\u4E00\u6B65\uFF0C\u9009\u62E9\u6B63\u8D1F\u6837\u672C. \u53EF\u4EE5\u9009\u62E9\u591A\u4E2A\u6570\u636E\u5E93\u4E2D\u7684\u63D2\u753B\u4F5C\u4E3A\u6B63\u8D1F\u6837\u672C. \u91CD\u590D\u63D2\u753B\u4E0D\u4F1A\u88AB\u5904\u7406\uFF0C\u5C06\u5F71\u54CD\u7ED3\u679C."),B("li",null,"\u7B2C\u4E8C\u6B65\uFF0C\u9009\u62E9\u8981\u7EDF\u8BA1\u7684\u6807\u7B7E. \u901A\u8FC7\u300C\u6700\u5C0F\u6B21\u6570\u300D\u6ED1\u52A8\u6761\u53EF\u4EE5\u63A7\u5236\u9009\u4E2D\u6807\u7B7E\u5728\u6837\u672C\u4E2D\u51FA\u73B0\u7684\u6700\u5C11\u6B21\u6570. \u4E5F\u53EF\u4EE5\u5728\u8868\u4E2D\u624B\u52A8\u9009\u62E9"),B("li",null,[j(" \u7B2C\u4E09\u6B65\uFF0C\u8BBE\u5B9A\u5404\u4E2A\u8D85\u53C2\u6570\u6C42\u89E3\u6A21\u578B. "),B("ul",null,[B("li",null,"\u6279\u5904\u7406\u6279\u5927\u5C0F\uFF1A\u6BCF\u6B21\u8FED\u4EE3\u4F7F\u7528\u7684\u6837\u672C\u6570"),B("li",null,"\u5B66\u4E60\u7387\uFF1A\u68AF\u5EA6\u4E0B\u964D\u6CD5\u7684\u5B66\u4E60\u7387"),B("li",null,"\u8FED\u4EE3\u6B21\u6570\uFF1A\u6267\u884C\u68AF\u5EA6\u4E0B\u964D\u7684\u6B21\u6570"),B("li",null,"\u6D4B\u8BD5\u96C6\u5360\u6BD4\uFF1A\u6D4B\u8BD5\u96C6\u7528\u4E8E\u8BC4\u4F30\u6A21\u578B\u7684\u51C6\u786E\u7387")])]),B("li",null,"\u7B2C\u56DB\u6B65\uFF0C\u8BC4\u4F30\u6A21\u578B. \u6C42\u89E3\u5B8C\u6210\u540E\u4F1A\u51FA\u73B0\u300C\u635F\u5931\u66F2\u7EBF\u300D\u300C\u6D4B\u8BD5\u96C6\u51C6\u786E\u7387\u300D\u7684\u66F2\u7EBF"),B("li",null," \u7B2C\u4E94\u6B65\uFF0C\u4FDD\u5B58\u6A21\u578B. \u6C42\u89E3\u5B8C\u6210\u540E\u4F1A\u51FA\u73B0\u6A21\u578B\u53C2\u6570\u8868\u683C. \u5728\u8868\u683C\u4E0B\u65B9\u53EF\u4EE5\u7ED9\u5B9A\u4E00\u4E2A\u300C\u6A21\u578B\u540D\u300D\u4FDD\u5B58\u5230\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684 `tag_model_dir` \u76EE\u5F55\u4E2D. \u4FDD\u5B58\u540E\u53EF\u4EE5\u5728\u300C\u641C\u7D22 Pixiv \u63D2\u753B\u300D\u9875\u9762\u4F7F\u7528\u300C-m ;<\u6A21\u578B\u540D;>\u300D\u9009\u9879\u8C03\u7528\u6A21\u578B ")])],-1),Uw=B("div",{class:"col-12 q-table__title text-h5"},"\u9009\u62E9\u8981\u7EDF\u8BA1\u7684\u6807\u7B7E",-1),Qw={class:"col-12"},Kw=B("div",{class:"text-h5 q-ma-md"},"\u6C42\u89E3\u6A21\u578B",-1),Yw={class:"row q-col-gutter-sm q-ma-sm"},Xw={class:"col-12"},Gw={class:"col-12"},Zw={class:"col-12"},Jw={class:"col-12"},e5={key:0,class:"col-6"},t5={class:"text-h6 q-ma-md"},n5={key:1,class:"col-6"},i5={key:0,class:"q-ma-md"},l5=B("div",{class:"text-h5 q-ma-md"},"\u6A21\u578B\u53C2\u6570",-1),a5=B("div",{class:"text-h6 q-ma-md"},"\u6807\u7B7E\u6743\u91CD",-1),o5=B("thead",null,[B("tr",null,[B("th",{class:"text-left"},"\u540D"),B("th",{class:"text-left"},"\u8BD1"),B("th",{class:"text-left"},"\u6743\u91CD")])],-1),s5=B("div",{class:"text-h6 q-ma-md"},"\u504F\u7F6E",-1),r5={class:"text-body-1 q-ma-md q-ml-lg"},u5=Ee({__name:"TagRegression",emits:["updateProps","updateTitle"],setup(e,{emit:t}){Vl.register(nw,cw,ew,Xl,Zs,co,Ga),De(()=>{t("updateTitle","\u6807\u7B7E\u903B\u8F91\u56DE\u5F52")});const n=S([]),i=S([]),l=S([]);De(()=>{In().then(M=>{n.value=M})});const a=S(0),o=[{name:"name",label:"\u540D",field:"name"},{name:"translated",label:"\u8BD1",field:"translated"},{name:"count",label:"\u6B21",field:"count"}],s=o.map(M=>M.name),r=S([]),u=S([]);function c(){qh(l.value.concat(i.value)).then(A=>{r.value=A});const M=l.value.concat(i.value);Promise.all(M.map(A=>Th(A))).then(A=>a.value=A.reduce((z,W)=>z+W))}const d=S(0);function f(M){M!==null&&(d.value=M,u.value=r.value.filter(A=>A.count>=d.value))}const h=S(!1),p=S(10),g=S(-2),m=S(2),b=S(.05),x=S(),C=S([]),k=S([]),w=S([]),E=S(0),D=ui(()=>({labels:k.value,datasets:[{label:"\u635F\u5931",data:C.value,yAxisID:"loss-axis",borderColor:"#FFA500"},{label:"\u6D4B\u8BD5\u96C6\u51C6\u786E\u7387",data:w.value,yAxisID:"accuracy-axis",borderColor:"#32CD32"}]})),P={responsive:!0,yAxes:[{id:"loss-axis",type:"linear",position:"left"},{id:"accuracy-axis",type:"linear",position:"right"}]};async function q(M){for(;;){const A=await M.next();if(A.value==null)throw new TypeError("ret.value is undefined");const[z,W]=A.value;if(W!==null){const[X,oe,se]=W;C.value=X,w.value=oe,x.value=se;break}const[ue,N]=z;E.value=(ue+1)/N,k.value.push(ue)}}function T(){h.value=!0,C.value=[],k.value=[],w.value=[],Vh(i.value,l.value,u.value,Math.pow(10,g.value),p.value,Math.floor(Math.pow(10,m.value)),b.value).then(M=>{q(M).then(()=>{h.value=!1})})}const $=S(""),H=S(!1),L=S(!1);function K(){$h(x.value,$.value).then(()=>{L.value=!1,ds("tag_model_dir").then(M=>{Le({level:"success",msg:`\u5DF2\u4FDD\u5B58\u4E3A ${M}/${$.value}.toml`})})}).catch(M=>H.value=!0)}const R=S(!1);return(M,A)=>(I(),J(Te,null,[v(ke,{class:"q-ma-sm"},{default:_(()=>[Ow,B("div",Iw,[B("div",zw,[v(wn,{underlined:"",options:n.value,label:"\u6B63\u6837\u672C\u6570\u636E\u5E93",modelValue:i.value,"onUpdate:modelValue":A[0]||(A[0]=z=>i.value=z),multiple:""},null,8,["options","modelValue"])]),B("div",Nw,[v(wn,{underlined:"",options:n.value,label:"\u8D1F\u6837\u672C\u6570\u636E\u5E93",modelValue:l.value,"onUpdate:modelValue":A[1]||(A[1]=z=>l.value=z),multiple:""},null,8,["options","modelValue"])]),B("div",Hw,[v(ae,{onClick:c,class:"float-right q-mr-sm",color:"primary",label:"\u786E\u8BA4",icon:"check"})])]),B("div",jw,[v(ae,{icon:"help",onClick:A[2]||(A[2]=z=>R.value=!0),flat:"",size:"sm"})])]),_:1}),v(Kt,{"full-width":"",modelValue:R.value,"onUpdate:modelValue":A[4]||(A[4]=z=>R.value=z)},{default:_(()=>[v(ke,null,{default:_(()=>[v(et,null,{default:_(()=>[Ww]),_:1}),v(Wn,{align:"right"},{default:_(()=>[v(ae,{flat:"",color:"primary",onClick:A[3]||(A[3]=z=>R.value=!1)},{default:_(()=>[j("\u5173\u95ED")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),v(ke,{class:"q-ma-sm"},{default:_(()=>[v(vi,{rows:r.value,"row-key":"name",selection:"multiple",selected:u.value,"onUpdate:selected":A[5]||(A[5]=z=>u.value=z),"rows-per-page-options":[10,20,50,100,200,500,0],dense:"",columns:o,"visible-columns":ne(s)},{top:_(()=>[Uw,B("div",Qw,[v(pt,null,{default:_(()=>[j("\u6700\u5C0F\u6B21\u6570 = "+Y(d.value),1)]),_:1}),v(ol,{"model-value":d.value,"onUpdate:modelValue":f,label:"",min:Math.min(...r.value.map(z=>z.count)),max:Math.max(...r.value.map(z=>z.count))},null,8,["model-value","min","max"])])]),_:1},8,["rows","selected","visible-columns"])]),_:1}),v(ke,{class:"q-ma-sm"},{default:_(()=>[Kw,B("div",Yw,[B("div",Xw,[v(pt,null,{default:_(()=>[j("\u6837\u672C\u603B\u6570 ( "+Y(a.value)+" ) \u4E2D \u6279\u5904\u7406\u6279\u5927\u5C0F = "+Y(p.value),1)]),_:1}),v(ol,{modelValue:p.value,"onUpdate:modelValue":A[6]||(A[6]=z=>p.value=z),label:"",min:1,max:a.value},null,8,["modelValue","max"])]),B("div",Gw,[v(pt,null,{default:_(()=>[j("\u5B66\u4E60\u7387 = "+Y(Math.pow(10,g.value).toFixed(4)),1)]),_:1}),v(ol,{modelValue:g.value,"onUpdate:modelValue":A[7]||(A[7]=z=>g.value=z),label:"",min:-4,max:0,step:.1,"label-value":Math.pow(10,g.value).toFixed(4)},null,8,["modelValue","label-value"])]),B("div",Zw,[v(pt,null,{default:_(()=>[j("\u8FED\u4EE3\u6B21\u6570 = "+Y(Math.pow(10,m.value).toFixed(0)),1)]),_:1}),v(ol,{modelValue:m.value,"onUpdate:modelValue":A[8]||(A[8]=z=>m.value=z),label:"",min:0,max:4,step:.1,"label-value":Math.pow(10,m.value).toFixed(0)},null,8,["modelValue","label-value"])]),B("div",Jw,[v(pt,null,{default:_(()=>[j("\u6D4B\u8BD5\u96C6\u5360\u6BD4 = "+Y(b.value),1)]),_:1}),v(ol,{modelValue:b.value,"onUpdate:modelValue":A[9]||(A[9]=z=>b.value=z),label:"",min:.01,max:1,step:.01},null,8,["modelValue"])]),u.value.length!=0?(I(),J("div",e5,[B("div",t5,Y((E.value*100).toFixed(0)+"%"),1)])):Se("",!0),u.value.length!=0?(I(),J("div",n5,[v(ae,{label:"\u903B\u8F91\u56DE\u5F52",icon:"analytics",class:"float-right q-ma-sm",color:"primary",loading:h.value,onClick:T},null,8,["loading"])])):Se("",!0)]),C.value.length!=0?(I(),J("div",i5,[v(ne(Rw),{"chart-data":ne(D),"chart-options":P,height:80,width:150},null,8,["chart-data"])])):Se("",!0)]),_:1}),x.value!=null?(I(),ie(ke,{key:0,class:"q-ma-sm"},{default:_(()=>[l5,v(et,null,{default:_(()=>[a5,v(Si,{style:{height:"60vh"}},{default:_(()=>[v(As,{class:"q-ma-sm"},{default:_(()=>[o5,B("tbody",null,[(I(!0),J(Te,null,ut(x.value.weighed_tags,z=>(I(),J("tr",null,[B("td",null,Y(z.name),1),B("td",null,Y(z.translated),1),B("td",null,Y(z.weight),1)]))),256))])]),_:1})]),_:1})]),_:1}),v(et,null,{default:_(()=>[s5,B("div",r5,Y(x.value.bias),1)]),_:1}),v(Wn,{align:"right"},{default:_(()=>[v(ae,{flat:"",color:"primary",label:"\u4FDD\u5B58",icon:"save"},{default:_(()=>[v(Mn,{"transition-show":"slide-left","transition-hide":"slide-right",modelValue:L.value,"onUpdate:modelValue":A[12]||(A[12]=z=>L.value=z)},{default:_(()=>[v($t,{label:"\u6A21\u578B\u540D",underlined:"",class:"q-ma-md",onKeyup:vn(K,["enter"]),modelValue:$.value,"onUpdate:modelValue":A[10]||(A[10]=z=>$.value=z),onInput:A[11]||(A[11]=z=>H.value=!1),autofocus:""},null,8,["onKeyup","modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})):Se("",!0)],64))}}),c5=B("div",{class:"text-h6 q-ma-md"},"\u8D8B\u52BF\u6807\u7B7E",-1),d5={class:"row q-col-gutter-sm q-ma-md"},f5={class:"text-subtitle-1"},h5={class:"text-grey-8"},v5=Ee({__name:"TrendingTags",emits:["updateProps","updateTitle"],setup(e,{emit:t}){const n=S(!0),i=S([]),l=y(()=>{let o=[];for(const s of a.value)o.push(s.illust);return o}),a=S([]);return De(()=>{Lh().then(o=>{a.value=o,n.value=!1}),t("updateTitle","\u8D8B\u52BF\u6807\u7B7E")}),(o,s)=>(I(),J(Te,null,[c5,v(qn,{indeterminate:n.value},null,8,["indeterminate"]),v(el,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=r=>i.value=r)},{default:_(({toggle:r,getState:u})=>[B("div",d5,[v(Yn,{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"},{default:_(()=>[(I(!0),J(Te,null,ut(a.value,c=>(I(),J("div",{class:"col-md-3 col-sm-6 col-xs-12 col-lg-2",key:c.illust.iid},[B("div",f5,[B("span",null,Y(c.tag.name),1),B("span",h5,"\u2003"+Y(c.tag.translated),1)]),v(Ss,{"onUpdate:select":d=>r(c.illust.iid,d),detail:c.illust,selected:u(c.illust.iid),height:"300px"},null,8,["onUpdate:select","detail","selected"])]))),128))]),_:2},1024)])]),_:1},8,["modelValue"]),v(Sd,{modelValue:i.value,"onUpdate:modelValue":s[1]||(s[1]=r=>i.value=r),details:l.value},null,8,["modelValue","details"]),v(tl)],64))}});const m5={class:"page-container"},g5={class:"component-container"},p5=Ee({__name:"DynamicComponent",setup(e){const t={CliScriptView:em,ErrorNotFound:dr,GetToken:Nm,Home:sg,IllustDetailLocal:op,IllustDetailPixiv:jp,IllustQueryLocal:l0,PixivSearchIllust:c0,PixivSearchUser:C0,PixivUserDetail:q0,RepoView:s_,TagRegression:u5,TrendingTags:v5,History:z0,PixivFavorite:G0,LocalFavorite:vb};zl();function n(a){const o=t[a];return o===void 0?dr:o}function i(a,o){kt.value[a].props=o}function l(a,o){kt.value[a].title=o}return(a,o)=>(I(),J("div",m5,[v(Yn,{appear:"","enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutRight"},{default:_(()=>[(I(!0),J(Te,null,ut(ne(kt),(s,r)=>he((I(),J("div",{key:s.key,style:{height:"100%"}},[v(Si,{style:{height:"100%"}},{default:_(()=>[B("div",g5,[(I(),ie(Rh(n(s.component)),Oh(s.props,{onUpdateProps:u=>i(r,u),onUpdateTitle:u=>l(r,u)}),null,16,["onUpdateProps","onUpdateTitle"]))])]),_:2},1024)])),[[Ke,r==ne(mn)]])),128))]),_:1})]))}});var b5=mt(p5,[["__scopeId","data-v-38b5dbcf"]]);const Js=e=>(kn("data-v-60a04dca"),e=e(),Cn(),e),_5={class:"text-h6"},y5={class:"text-body-1 text-grey-8"},x5={class:"text-body-1 text-grey-8"},w5=Js(()=>B("div",{class:"text-subtitle-2 text-grey-8"},"\u65E0 Access Token \uFF0C\u65E0\u6CD5\u4F7F\u7528 PixivAPI",-1)),k5=Js(()=>B("div",{class:"text-h6"}," \u6CA1\u6709\u63D0\u4F9B Refresh Token ",-1)),C5=Js(()=>B("div",{class:"text-subtitle1"},"\u9519\u8BEF\u4FE1\u606F\uFF1A",-1)),S5={style:{"white-space":"pre-wrap"}},E5=Ee({__name:"LoginControl",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=Gn(),l=S(!1),a=S();function o(){Ih().then(c=>{a.value=c,i.user_id=c.user_id})}De(o),G(n,()=>{n.modelValue&&o()});const s=S(!1),r=S();function u(){l.value=!0,zh().then(c=>{a.value=c,l.value=!1}).catch(c=>{if(c.type=="AioPixivPyNoRefreshToken")s.value=!0,r.value=c;else throw c}).finally(()=>{l.value=!1})}return(c,d)=>(I(),J(Te,null,[v(Dt,{appear:"","enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp"},{default:_(()=>[n.modelValue?(I(),ie(ke,{key:0,class:"login-ctl-box"},{default:_(()=>[a.value!==null&&a.value!=null?(I(),ie(et,{key:0},{default:_(()=>[B("div",null,[j("\u6635\u79F0\uFF1A"),B("span",_5,Y(a.value.user_name),1)]),B("div",y5," uid = "+Y(a.value.user_id),1),B("div",x5," \u5C06\u4E8E "+Y(a.value.expire_at)+" \u8FC7\u671F ",1)]),_:1})):Se("",!0),a.value===null?(I(),ie(Wn,{key:1},{default:_(()=>[w5,v(ae,{onClick:u,flat:"",stretch:"",loading:l.value},{default:_(()=>[j(" \u83B7\u53D6 Access Token "),v(Oe,null,{default:_(()=>[j(" \u9700\u8981\u63D0\u4F9B Refresh Token ")]),_:1})]),_:1},8,["loading"])]),_:1})):Se("",!0)]),_:1})):Se("",!0)]),_:1}),v(Kt,{modelValue:s.value,"onUpdate:modelValue":d[2]||(d[2]=f=>s.value=f)},{default:_(()=>[v(ke,null,{default:_(()=>[v(et,null,{default:_(()=>[k5]),_:1}),r.value!==void 0?(I(),ie(et,{key:0},{default:_(()=>[C5,B("pre",S5,Y(r.value.type)+": "+Y(r.value.repr),1)]),_:1})):Se("",!0),v(Wn,{align:"right"},{default:_(()=>[v(ae,{flat:"",color:"primary",onClick:d[0]||(d[0]=f=>{ne(Ot)({component:"GetToken"}),s.value=!1})},{default:_(()=>[j(" \u53BB\u83B7\u53D6 Refresh Token ")]),_:1}),v(ae,{onClick:d[1]||(d[1]=f=>s.value=!1),flat:"",color:"primary"},{default:_(()=>[j("\u5173\u95ED")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});var F5=mt(E5,[["__scopeId","data-v-60a04dca"]]);const nc=150;var D5=_e({name:"QDrawer",inheritAttrs:!1,props:te(O(O({},Xi),bt),{side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean}),emits:[...Gi,"on-layout","mini-state"],setup(e,{slots:t,emit:n,attrs:i}){const l=we(),{proxy:{$q:a}}=l,o=_t(e,a),{preventBodyScroll:s}=jc(),{registerTimeout:r}=Hi(),u=Kn(eo,()=>{console.error("QDrawer needs to be child of QLayout")});let c,d,f;const h=S(e.behavior==="mobile"||e.behavior!=="desktop"&&u.totalWidth.value<=e.breakpoint),p=y(()=>e.mini===!0&&h.value!==!0),g=y(()=>p.value===!0?e.miniWidth:e.width),m=S(e.showIfAbove===!0&&h.value===!1?!0:e.modelValue===!0),b=y(()=>e.persistent!==!0&&(h.value===!0||W.value===!0));function x(Q,me){if(E(),Q!==!1&&u.animate(),Ue(0),h.value===!0){const Be=u.instances[R.value];Be!==void 0&&Be.belowBreakpoint===!0&&Be.hide(!1),Ne(1),u.isContainer.value!==!0&&s(!0)}else Ne(0),Q!==!1&&Bt(!1);r(()=>{Q!==!1&&Bt(!0),me!==!0&&n("show",Q)},nc)}function C(Q,me){D(),Q!==!1&&u.animate(),Ne(0),Ue(T.value*g.value),xe(),me!==!0&&r(()=>{n("hide",Q)},nc)}const{show:k,hide:w}=Zi({showing:m,hideOnRouteChange:b,handleShow:x,handleHide:C}),{addToHistory:E,removeFromHistory:D}=Hc(m,w,b),P={belowBreakpoint:h,hide:w},q=y(()=>e.side==="right"),T=y(()=>(a.lang.rtl===!0?-1:1)*(q.value===!0?1:-1)),$=S(0),H=S(!1),L=S(!1),K=S(g.value*T.value),R=y(()=>q.value===!0?"left":"right"),M=y(()=>m.value===!0&&h.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:g.value:0),A=y(()=>e.overlay===!0||e.miniToOverlay===!0||u.view.value.indexOf(q.value?"R":"L")>-1||a.platform.is.ios===!0&&u.isContainer.value===!0),z=y(()=>e.overlay===!1&&m.value===!0&&h.value===!1),W=y(()=>e.overlay===!0&&m.value===!0&&h.value===!1),ue=y(()=>"fullscreen q-drawer__backdrop"+(m.value===!1&&H.value===!1?" hidden":"")),N=y(()=>({backgroundColor:`rgba(0,0,0,${$.value*.4})`})),X=y(()=>q.value===!0?u.rows.value.top[2]==="r":u.rows.value.top[0]==="l"),oe=y(()=>q.value===!0?u.rows.value.bottom[2]==="r":u.rows.value.bottom[0]==="l"),se=y(()=>{const Q={};return u.header.space===!0&&X.value===!1&&(A.value===!0?Q.top=`${u.header.offset}px`:u.header.space===!0&&(Q.top=`${u.header.size}px`)),u.footer.space===!0&&oe.value===!1&&(A.value===!0?Q.bottom=`${u.footer.offset}px`:u.footer.space===!0&&(Q.bottom=`${u.footer.size}px`)),Q}),Re=y(()=>{const Q={width:`${g.value}px`,transform:`translateX(${K.value}px)`};return h.value===!0?Q:Object.assign(Q,se.value)}),pe=y(()=>"q-drawer__content fit "+(u.isContainer.value!==!0?"scroll":"overflow-auto")),be=y(()=>`q-drawer q-drawer--${e.side}`+(L.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(o.value===!0?" q-drawer--dark q-dark":"")+(H.value===!0?" no-transition":m.value===!0?"":" q-layout--prevent-focus")+(h.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${p.value===!0?"mini":"standard"}`+(A.value===!0||z.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(X.value===!0?" q-drawer--top-padding":""))),Ve=y(()=>{const Q=a.lang.rtl===!0?e.side:R.value;return[[Oi,xt,void 0,{[Q]:!0,mouse:!0}]]}),le=y(()=>{const Q=a.lang.rtl===!0?R.value:e.side;return[[Oi,ee,void 0,{[Q]:!0,mouse:!0}]]}),ce=y(()=>{const Q=a.lang.rtl===!0?R.value:e.side;return[[Oi,ee,void 0,{[Q]:!0,mouse:!0,mouseAllDir:!0}]]});function Ge(){Ae(h,e.behavior==="mobile"||e.behavior!=="desktop"&&u.totalWidth.value<=e.breakpoint)}G(h,Q=>{Q===!0?(c=m.value,m.value===!0&&w(!1)):e.overlay===!1&&e.behavior!=="mobile"&&c!==!1&&(m.value===!0?(Ue(0),Ne(0),xe()):k(!1))}),G(()=>e.side,(Q,me)=>{u.instances[me]===P&&(u.instances[me]=void 0,u[me].space=!1,u[me].offset=0),u.instances[Q]=P,u[Q].size=g.value,u[Q].space=z.value,u[Q].offset=M.value}),G(u.totalWidth,()=>{(u.isContainer.value===!0||document.qScrollPrevented!==!0)&&Ge()}),G(()=>e.behavior+e.breakpoint,Ge),G(u.isContainer,Q=>{m.value===!0&&s(Q!==!0),Q===!0&&Ge()}),G(u.scrollbarWidth,()=>{Ue(m.value===!0?0:void 0)}),G(M,Q=>{Fe("offset",Q)}),G(z,Q=>{n("on-layout",Q),Fe("space",Q)}),G(q,()=>{Ue()}),G(g,Q=>{Ue(),Me(e.miniToOverlay,Q)}),G(()=>e.miniToOverlay,Q=>{Me(Q,g.value)}),G(()=>a.lang.rtl,()=>{Ue()}),G(()=>e.mini,()=>{e.modelValue===!0&&(yt(),u.animate())}),G(p,Q=>{n("mini-state",Q)});function Ue(Q){Q===void 0?We(()=>{Q=m.value===!0?0:g.value,Ue(T.value*Q)}):(u.isContainer.value===!0&&q.value===!0&&(h.value===!0||Math.abs(Q)===g.value)&&(Q+=T.value*u.scrollbarWidth.value),K.value=Q)}function Ne(Q){$.value=Q}function Bt(Q){const me=Q===!0?"remove":u.isContainer.value!==!0?"add":"";me!==""&&document.body.classList[me]("q-body--drawer-toggle")}function yt(){clearTimeout(d),l.proxy&&l.proxy.$el&&l.proxy.$el.classList.add("q-drawer--mini-animate"),L.value=!0,d=setTimeout(()=>{L.value=!1,l&&l.proxy&&l.proxy.$el&&l.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function xt(Q){if(m.value!==!1)return;const me=g.value,Be=Tt(Q.distance.x,0,me);if(Q.isFinal===!0){Be>=Math.min(75,me)===!0?k():(u.animate(),Ne(0),Ue(T.value*me)),H.value=!1;return}Ue((a.lang.rtl===!0?q.value!==!0:q.value)?Math.max(me-Be,0):Math.min(0,Be-me)),Ne(Tt(Be/me,0,1)),Q.isFirst===!0&&(H.value=!0)}function ee(Q){if(m.value!==!0)return;const me=g.value,Be=Q.direction===e.side,dt=(a.lang.rtl===!0?Be!==!0:Be)?Tt(Q.distance.x,0,me):0;if(Q.isFinal===!0){Math.abs(dt)<Math.min(75,me)===!0?(u.animate(),Ne(1),Ue(0)):w(),H.value=!1;return}Ue(T.value*dt),Ne(Tt(1-dt/me,0,1)),Q.isFirst===!0&&(H.value=!0)}function xe(){s(!1),Bt(!0)}function Fe(Q,me){u.update(e.side,Q,me)}function Ae(Q,me){Q.value!==me&&(Q.value=me)}function Me(Q,me){Fe("size",Q===!0?e.miniWidth:me)}return u.instances[e.side]=P,Me(e.miniToOverlay,g.value),Fe("space",z.value),Fe("offset",M.value),e.showIfAbove===!0&&e.modelValue!==!0&&m.value===!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",!0),De(()=>{n("on-layout",z.value),n("mini-state",p.value),c=e.showIfAbove===!0;const Q=()=>{(m.value===!0?x:C)(!1,!0)};if(u.totalWidth.value!==0){We(Q);return}f=G(u.totalWidth,()=>{f(),f=void 0,m.value===!1&&e.showIfAbove===!0&&h.value===!1?k(!1):Q()})}),Xe(()=>{f!==void 0&&f(),clearTimeout(d),m.value===!0&&xe(),u.instances[e.side]===P&&(u.instances[e.side]=void 0,Fe("size",0),Fe("offset",0),Fe("space",!1))}),()=>{const Q=[];h.value===!0&&(e.noSwipeOpen===!1&&Q.push(he(F("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Ve.value)),Q.push(kl("div",{ref:"backdrop",class:ue.value,style:N.value,"aria-hidden":"true",onClick:w},void 0,"backdrop",e.noSwipeBackdrop!==!0&&m.value===!0,()=>ce.value)));const me=p.value===!0&&t.mini!==void 0,Be=[F("div",te(O({},i),{key:""+me,class:[pe.value,i.class]}),me===!0?t.mini():Ie(t.default))];return e.elevated===!0&&m.value===!0&&Be.push(F("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),Q.push(kl("aside",{ref:"content",class:be.value,style:Re.value},Be,"contentclose",e.noSwipeClose!==!0&&h.value===!0,()=>le.value)),F("div",{class:"q-drawer-container"},Q)}}});const ic=Xn(),B5=Ee({props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:t}){const n=S(!1),i=S(!1),l=S([]),a=S([]);zl();function o(){In().then(E=>{let D=E.indexOf("my_favourite");D!==-1&&E.unshift(E.splice(D,1)[0]),l.value=E}),wo().then(E=>{let D=E.indexOf("Favourite");D!==-1&&E.unshift(E.splice(D,1)[0]),a.value=E})}G(e,()=>{e.modelValue&&o()}),De(()=>{o()});function s(E){Ot({component:"LocalFavorite",props:{dbName:E,initialQueryString:"-a",dbNameList:l},title:"\u672C\u5730\u6536\u85CF\u5939"},!0),t("update:modelValue",!1),ic.dbName=E}const r=S(),u=S(!1);function c(E){if(E===void 0||E===""){u.value=!0;return}Nh(E).then(()=>{Le({level:"success",msg:"\u521B\u5EFA\u4E86\u65B0\u7684\u63D2\u753B\u6570\u636E\u5E93 "+E}),In().then(D=>{let P=D.indexOf("my_favourite");P!==-1&&D.unshift(D.splice(P,1)[0]),l.value=D})}),n.value=!1}const d=S(!1),f=S();function h(){f.value!==void 0&&Hh(f.value).then(()=>{Le({level:"info",msg:"\u5220\u9664\u4E86\u63D2\u753B\u6570\u636E\u5E93 "+f.value}),f.value=void 0,In().then(E=>{let D=E.indexOf("my_favourite");D!==-1&&E.unshift(E.splice(D,1)[0]),l.value=E})})}const p=S(!1),g=S();function m(E){Ot({component:"RepoView",props:{repoName:E},title:E},!0),t("update:modelValue",!1)}function b(){g.value!==void 0&&jh(g.value).then(()=>{Le({level:"info",msg:"\u5220\u9664\u4E86\u63D2\u753B\u50A8\u5B58\u5E93 "+g.value}),g.value=void 0,wo().then(E=>{let D=E.indexOf("Favourite");D!==-1&&E.unshift(E.splice(D,1)[0]),a.value=E})})}const x=S(),C=S(!1),k=S();function w(){if(x.value===void 0||x.value===""||k.value===void 0||k.value===""){C.value=!0;return}else Wh(x.value,k.value).then(()=>{Le({level:"success",msg:`\u521B\u5EFA\u4E86\u65B0\u7684\u63D2\u753B\u50A8\u5B58\u5E93 ${x.value} \u5728 ${k.value}`}),wo().then(E=>{let D=E.indexOf("Favourite");D!==-1&&E.unshift(E.splice(D,1)[0]),a.value=E})});i.value=!1}return{dbNameList:l,updateContent:o,clickDb:s,newDbName:r,newDb:c,showDelDbDiag:d,deleteDb:h,showDelRpDiag:p,repoNameToDel:g,clickRepo:m,deleteRepo:b,newRepoName:x,newRepoInputError:C,newRepoPrefix:k,newRepo:w,pushWindow:Ot,repoNameList:a,newDbInputError:u,dbNameToDel:f,options_store:ic,newdb_show:n,newrepo_show:i}}}),A5={class:"q-ml-lg"},P5={class:"text-h5"},M5=B("div",{class:"text-body-1"},"\u6587\u4EF6\u4E0D\u4F1A\u88AB\u79FB\u52A8\u5230\u56DE\u6536\u7AD9\uFF0C\u6B64\u64CD\u4F5C\u4E0D\u53EF\u9006",-1),q5={class:"q-ml-lg"},T5={class:"text-h5 q-ma-none"},V5=B("div",{class:"text-body-1"},"\u50A8\u5B58\u5E93\u76EE\u5F55\u4E0D\u4F1A\u88AB\u5220\u9664\uFF0C\u4EC5\u662F\u4ECE PixivWahu \u7684\u8BBE\u7F6E\u4E2D\u79FB\u9664",-1);function $5(e,t,n,i,l,a){return I(),ie(D5,{modelValue:e.modelValue,"onUpdate:modelValue":t[23]||(t[23]=o=>e.modelValue=o),elevated:"",overlay:""},{default:_(()=>[v(Si,{style:{height:"100%"}},{default:_(()=>[v(dn,null,{default:_(()=>[he((I(),ie(je,{clickable:"",onClick:t[0]||(t[0]=o=>{e.pushWindow({component:"Home",title:"Home"}),e.$emit("update:modelValue",!1)})},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"terminal"})]),_:1}),v(ge,null,{default:_(()=>[j("Home")]),_:1})]),_:1})),[[Et]]),he((I(),ie(je,{clickable:"",onClick:t[1]||(t[1]=o=>{e.pushWindow({component:"CliScriptView",title:"\u547D\u4EE4\u884C\u811A\u672C"}),e.$emit("update:modelValue",!1)})},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"code"})]),_:1}),v(ge,null,{default:_(()=>[j("\u547D\u4EE4\u884C\u811A\u672C")]),_:1})]),_:1})),[[Et]]),v(jt,{header:""},{default:_(()=>[j("\u672C\u5730")]),_:1}),v(Fa,{label:"\u672C\u5730\u6536\u85CF\u5939",icon:"data_array"},{default:_(()=>[v(dn,null,{default:_(()=>[B("div",A5,[(I(!0),J(Te,null,ut(e.dbNameList,o=>he((I(),ie(je,{clickable:"",key:o,style:{"margin-left":"50px"}},{default:_(()=>[v(ge,{onClick:s=>e.clickDb(o)},{default:_(()=>[j(" \u2764 \xA0 - \xA0 "+Y(o),1)]),_:2},1032,["onClick"]),he(v(ge,{side:""},{default:_(()=>[v(ae,{icon:"backspace",onClick:s=>{e.showDelDbDiag=!0,e.dbNameToDel=o},flat:"",size:"xs",padding:"5px"},{default:_(()=>[v(Oe,null,{default:_(()=>[j("\u5220\u9664")]),_:1})]),_:2},1032,["onClick"])]),_:2},1536),[[Ke,o!=="my_favourite"]])]),_:2},1024)),[[Et]])),128)),he((I(),ie(je,{clickable:"",style:{"margin-left":"45px"}},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"add"}),v(Oe,null,{default:_(()=>[j("\u65B0\u5EFA")]),_:1})]),_:1}),v(Mn,{"transition-show":"slide-right","transition-hide":"slide-left",modelValue:e.newdb_show,"onUpdate:modelValue":t[5]||(t[5]=o=>e.newdb_show=o)},{default:_(()=>[v($t,{label:"\u6570\u636E\u5E93\u540D",underlined:"",class:"q-ma-md",onKeyup:t[2]||(t[2]=vn(o=>e.newDb(e.newDbName),["enter"])),modelValue:e.newDbName,"onUpdate:modelValue":t[3]||(t[3]=o=>e.newDbName=o),error:e.newDbInputError,onInput:t[4]||(t[4]=o=>e.newDbInputError=!1),autofocus:""},null,8,["modelValue","error"])]),_:1},8,["modelValue"])]),_:1})),[[Et]])])]),_:1})]),_:1}),v(Kt,{modelValue:e.showDelDbDiag,"onUpdate:modelValue":t[6]||(t[6]=o=>e.showDelDbDiag=o)},{default:_(()=>[v(ke,null,{default:_(()=>[v(et,null,{default:_(()=>[B("div",P5,"\u662F\u5426\u5220\u9664\u63D2\u753B\u6570\u636E\u5E93 "+Y(e.dbNameToDel)+"\uFF1F",1)]),_:1}),v(et,null,{default:_(()=>[M5]),_:1}),v(Wn,{align:"right"},{default:_(()=>[he((I(),ie(ae,{flat:"",color:"primary",onClick:e.deleteDb},{default:_(()=>[j("\u786E\u8BA4")]),_:1},8,["onClick"])),[[fn]]),he((I(),ie(ae,{flat:"",color:"primary"},{default:_(()=>[j("\u53D6\u6D88")]),_:1})),[[fn]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),v(Fa,{label:"\u672C\u5730\u50A8\u5B58\u5E93",icon:"source"},{default:_(()=>[v(dn,null,{default:_(()=>[B("div",q5,[(I(!0),J(Te,null,ut(e.repoNameList,o=>he((I(),ie(je,{key:o,clickable:"",style:{"margin-left":"50px"}},{default:_(()=>[v(ge,{onClick:s=>e.clickRepo(o)},{default:_(()=>[j(" \u{1F536} \xA0 - \xA0 "+Y(o),1)]),_:2},1032,["onClick"]),he(v(ge,{side:""},{default:_(()=>[v(ae,{icon:"backspace",onClick:s=>{e.showDelRpDiag=!0,e.repoNameToDel=o},flat:"",size:"xs",padding:"5px"},{default:_(()=>[v(Oe,null,{default:_(()=>[j("\u5220\u9664")]),_:1})]),_:2},1032,["onClick"])]),_:2},1536),[[Ke,o!=="Favourite"]])]),_:2},1024)),[[Et]])),128)),he((I(),ie(je,{clickable:"",style:{"margin-left":"45px"}},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"add"}),v(Oe,null,{default:_(()=>[j("\u65B0\u5EFA")]),_:1})]),_:1}),v(Mn,{"transition-show":"slide-right","transition-hide":"slide-left",modelValue:e.newrepo_show,"onUpdate:modelValue":t[11]||(t[11]=o=>e.newrepo_show=o)},{default:_(()=>[v($t,{label:"\u50A8\u5B58\u5E93\u540D",underlined:"",class:"q-ma-md",modelValue:e.newRepoName,"onUpdate:modelValue":t[7]||(t[7]=o=>e.newRepoName=o),error:e.newRepoInputError,onInput:t[8]||(t[8]=o=>e.newRepoInputError=!1),autofocus:""},null,8,["modelValue","error"]),v($t,{label:"\u8DEF\u5F84",underlined:"",class:"q-ma-md",onKeyup:vn(e.newRepo,["enter"]),modelValue:e.newRepoPrefix,"onUpdate:modelValue":t[9]||(t[9]=o=>e.newRepoPrefix=o),error:e.newRepoInputError,onInput:t[10]||(t[10]=o=>e.newRepoInputError=!1),"hide-hint":"",hint:"\u56DE\u8F66\u63D0\u4EA4"},null,8,["onKeyup","modelValue","error"])]),_:1},8,["modelValue"])]),_:1})),[[Et]])])]),_:1})]),_:1}),he((I(),ie(je,{clickable:"",onClick:t[12]||(t[12]=o=>{e.pushWindow({component:"History",title:"\u6D4F\u89C8\u5386\u53F2"}),e.$emit("update:modelValue",!1)})},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"history"})]),_:1}),v(ge,null,{default:_(()=>[j("\u6D4F\u89C8\u5386\u53F2")]),_:1})]),_:1})),[[Et]]),he((I(),ie(je,{clickable:"",onClick:t[13]||(t[13]=o=>{e.pushWindow({component:"TagRegression",title:"\u63D2\u753B\u6807\u7B7E\u903B\u8F91\u56DE\u5F52"}),e.$emit("update:modelValue",!1)})},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"analytics"})]),_:1}),v(ge,null,{default:_(()=>[j("\u63D2\u753B\u6807\u7B7E\u903B\u8F91\u56DE\u5F52")]),_:1})]),_:1})),[[Et]]),v(Kt,{modelValue:e.showDelRpDiag,"onUpdate:modelValue":t[14]||(t[14]=o=>e.showDelRpDiag=o)},{default:_(()=>[v(ke,null,{default:_(()=>[v(et,null,{default:_(()=>[B("div",T5,"\u662F\u5426\u5220\u9664\u63D2\u753B\u50A8\u5B58\u5E93 "+Y(e.repoNameToDel)+" \uFF1F",1)]),_:1}),v(et,null,{default:_(()=>[V5]),_:1}),v(Wn,{align:"right"},{default:_(()=>[he((I(),ie(ae,{flat:"",color:"primary",onClick:e.deleteRepo},{default:_(()=>[j("\u786E\u8BA4")]),_:1},8,["onClick"])),[[fn]]),he((I(),ie(ae,{flat:"",color:"primary"},{default:_(()=>[j("\u53D6\u6D88")]),_:1})),[[fn]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),v(jt,{header:""},{default:_(()=>[j("Pixiv")]),_:1}),he((I(),ie(je,{clickable:"",onClick:t[15]||(t[15]=o=>{e.pushWindow({component:"PixivSearchIllust",title:"Pixiv\u641C\u7D22",props:{initialQueryString:"-s",showNavBar:!0}}),e.$emit("update:modelValue",!1)})},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"search"})]),_:1}),v(ge,null,{default:_(()=>[j("\u641C\u7D22"),v(Oe,null,{default:_(()=>[j("\u63D2\u753B")]),_:1})]),_:1})]),_:1})),[[Et]]),he((I(),ie(je,{clickable:"",onClick:t[16]||(t[16]=o=>{e.pushWindow({component:"PixivFavorite",title:"Pixiv\u6536\u85CF",props:{initialQueryString:"-b"}}),e.$emit("update:modelValue",!1)})},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"favorite"})]),_:1}),v(ge,null,{default:_(()=>[j("\u6536\u85CF")]),_:1})]),_:1})),[[Et]]),he((I(),ie(je,{clickable:"",onClick:t[17]||(t[17]=o=>{e.pushWindow({component:"PixivSearchIllust",title:"\u63A8\u8350",props:{initialQueryString:"-r",showNavBar:!1}}),e.$emit("update:modelValue",!1)})},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"recommend"})]),_:1}),v(ge,null,{default:_(()=>[j("\u63A8\u8350")]),_:1})]),_:1})),[[Et]]),v(Fa,{label:"\u63D2\u753B",icon:"panorama"},{default:_(()=>[v(ke,{class:"q-ml-lg"},{default:_(()=>[v(dn,null,{default:_(()=>[he((I(),ie(je,{clickable:"",onClick:t[18]||(t[18]=o=>{e.pushWindow({component:"PixivSearchIllust",title:"\u5927\u5BB6\u7684\u65B0\u4F5C",props:{initialQueryString:"-n",showNavBar:!1}}),e.$emit("update:modelValue",!1)})},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"newspaper"})]),_:1}),v(ge,null,{default:_(()=>[j("\u5927\u5BB6\u7684\u65B0\u4F5C")]),_:1})]),_:1})),[[Et]]),he((I(),ie(je,{clickable:"",onClick:t[19]||(t[19]=o=>{e.pushWindow({component:"PixivSearchIllust",title:"\u5173\u6CE8\u753B\u5E08\u7684\u65B0\u4F5C",props:{initialQueryString:"-f",showNavBar:!1}}),e.$emit("update:modelValue",!1)})},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"account_box"})]),_:1}),v(ge,null,{default:_(()=>[j("\u5173\u6CE8\u753B\u5E08\u7684\u65B0\u4F5C")]),_:1})]),_:1})),[[Et]]),he((I(),ie(je,{clickable:"",onClick:t[20]||(t[20]=o=>{e.pushWindow({component:"TrendingTags"}),e.$emit("update:modelValue",!1)})},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"trending_up"})]),_:1}),v(ge,null,{default:_(()=>[j("\u8D8B\u52BF\u6807\u7B7E")]),_:1})]),_:1})),[[Et]])]),_:1})]),_:1})]),_:1}),he((I(),ie(je,{clickable:"",onClick:t[21]||(t[21]=o=>{e.pushWindow({component:"PixivSearchUser",title:"\u5173\u6CE8\u7684\u753B\u5E08",props:{initialQueryString:"-F"}}),e.$emit("update:modelValue",!1)})},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"how_to_reg"})]),_:1}),v(ge,null,{default:_(()=>[j("\u5173\u6CE8\u7684\u753B\u5E08")]),_:1}),v(Oe,null,{default:_(()=>[j("\u4E5F\u53EF\u4EE5\u5728\u8FD9\u91CC\u641C\u7D22\u5176\u4ED6\u753B\u5E08")]),_:1})]),_:1})),[[Et]]),v(je,{clickable:"",onClick:t[22]||(t[22]=o=>{e.pushWindow({component:"GetToken",title:"\u83B7\u53D6 RefreshToken"}),e.$emit("update:modelValue",!1)})},{default:_(()=>[v(ge,{avatar:""},{default:_(()=>[v(ve,{name:"token"})]),_:1}),v(ge,null,{default:_(()=>[j("\u83B7\u53D6 Refresh Token")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}var L5=mt(B5,[["render",$5]]);const R5=e=>(kn("data-v-1f53ec4b"),e=e(),Cn(),e),O5=R5(()=>B("thead",null,[B("tr",{align:"center"},[B("th",{style:{width:"50px"}},"\u7D22\u5F15"),B("th",null,"\u63CF\u8FF0"),B("th",null,"\u8FDB\u5EA6"),B("th",{style:{width:"50px"}},"\u72B6\u6001")])],-1)),I5={class:"text-body-2"},z5=Ee({__name:"DownloadProgress",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=S([]),i=S(!1);function l(){Uh().then(s=>{n.value=s}).then(()=>{setTimeout(l,500)})}De(()=>{l()});function a(s){switch(s){case"inprogress":return"\u4E0B\u8F7D\u4E2D";case"finished":return"\u5B8C\u6210";case"error":return"\u5931\u8D25";case"pending":return"\u7B49\u5F85\u4E2D"}}function o(s){switch(s){case"inprogress":return"primary";case"error":return"red";case"finished":return"green";case"pending":return"primary"}}return(s,r)=>(I(),ie(Dt,{appear:"","enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp"},{default:_(()=>[he(v(ke,{class:"dl-card scroll"},{default:_(()=>[v(zn,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=u=>i.value=u),label:"\u663E\u793A\u5DF2\u5B8C\u6210"},null,8,["modelValue"]),v(As,null,{default:_(()=>[O5,B("tbody",null,[(I(!0),J(Te,null,ut(n.value,(u,c)=>he((I(),J("tr",{key:u.gid,align:"center"},[B("td",null,Y(c),1),B("td",null,Y(u.descript),1),B("td",null,[v(qn,{value:u.total_size===null?u.status=="inprogress"?void 0:1:u.downloaded_size/u.total_size,color:o(u.status),indeterminate:u.total_size===null&&u.status=="inprogress"},null,8,["value","color","indeterminate"]),B("div",I5,Y((u.downloaded_size/1024).toFixed(0))+" / "+Y(u.total_size===null?"":(u.total_size/1024).toFixed(0))+" kb ",1)]),B("td",null,Y(a(u.status)),1)])),[[Ke,u.status!="finished"||i.value]])),128))])]),_:1})]),_:1},512),[[Ke,s.modelValue]])]),_:1}))}});var N5=mt(z5,[["__scopeId","data-v-1f53ec4b"]]);const H5=Xn(),j5=Gn(),W5=Ee({name:"MainLayout",components:{NotificationArea:kv,TaskBar:Uv,DynamicComponent:b5,LoginControl:F5,NavDrawerContent:L5,DownloadProgress:N5,WahuCli:nd},setup(){const e=S(!1),t=S(!1),n=S(!1),i=Qh(),l=Kh();function a(){if(i.params.n!=null){isNaN(Number(i.params.n))||Fl(Number(i.params.n));return}}De(()=>{$v(l),window.addEventListener("hashchange",()=>{const r=window.location.hash.slice(1);l.push(r),a()},!1),a()});function o(){Lv()}const s=y(()=>Yh.value!=WebSocket.OPEN);return{showNotification:e,showLoginCtl:t,showDlProgress:n,windowRefresh:o,showNotConnectedBar:s,initWahuWsBridge:Xh,options_store:H5,settings_store:j5}}}),U5={class:"text-subtitle-2"},Q5={key:0},K5={key:0};function Y5(e,t,n,i,l,a){const o=ti("TaskBar"),s=ti("NavDrawerContent"),r=ti("NotificationArea"),u=ti("LoginControl"),c=ti("DownloadProgress"),d=ti("DynamicComponent"),f=ti("q-page-container-container");return I(),ie(vv,{view:"hHh Lpr lFf"},{default:_(()=>[v(Dt,{appear:"","enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeInUp"},{default:_(()=>[he(v(fv,{elevated:"",class:"blur"},{default:_(()=>[v(Dt,{appear:"","enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeInUp"},{default:_(()=>[e.showNotConnectedBar?(I(),ie(wc,{key:0,class:"bg-negative",onClick:e.initWahuWsBridge},{default:_(()=>[v(ve,{name:"error"}),B("div",U5,[j(" \u672A\u8FDE\u63A5\u540E\u7AEF "),B("span",{class:"cursor-pointer",onClick:t[0]||(t[0]=(...h)=>e.initWahuWsBridge&&e.initWahuWsBridge(...h))},[j(" \u91CD\u8BD5 "),v(ve,{name:"refresh"})])])]),_:1},8,["onClick"])):Se("",!0)]),_:1}),v(uv,null,{default:_(()=>[v(ae,{flat:"",dense:"",round:"",icon:"menu",onClick:t[1]||(t[1]=h=>e.settings_store.leftDrawerOpen=!e.settings_store.leftDrawerOpen)}),v(Gh,null,{default:_(()=>[j(" PixivWahu ")]),_:1}),v(kc),e.$q.platform.is.mobile?Se("",!0):(I(),J("div",Q5,[v(o)])),v(ae,{onClick:e.windowRefresh,flat:""},{default:_(()=>[v(ve,{name:"refresh"}),v(Oe,null,{default:_(()=>[j("\u5237\u65B0\u9875\u9762")]),_:1})]),_:1},8,["onClick"]),v(ae,{onClick:t[2]||(t[2]=h=>e.showLoginCtl=!e.showLoginCtl),flat:""},{default:_(()=>[v(ve,{name:"person"}),v(Oe,null,{default:_(()=>[j("Access Token \u72B6\u6001")]),_:1})]),_:1}),v(ae,{onClick:t[3]||(t[3]=h=>e.showDlProgress=!e.showDlProgress),flat:""},{default:_(()=>[v(ve,{name:"download"}),v(Oe,null,{default:_(()=>[j("\u4E0B\u8F7D\u72B6\u6001")]),_:1})]),_:1}),v(ae,{onClick:t[4]||(t[4]=h=>e.showNotification=!e.showNotification),flat:""},{default:_(()=>[v(ve,{name:"notifications"}),v(Oe,null,{default:_(()=>[j("\u901A\u77E5")]),_:1})]),_:1}),v(ae,{flat:"",onClick:t[5]||(t[5]=h=>e.$q.fullscreen.toggle()),icon:e.$q.fullscreen.isActive?"fullscreen_exit":"fullscreen"},{default:_(()=>[v(Oe,null,{default:_(()=>[j("\u5168\u5C4F")]),_:1})]),_:1},8,["icon"])]),_:1}),e.$q.platform.is.mobile?(I(),J("div",K5,[v(dv,null,{default:_(()=>[v(o)]),_:1})])):Se("",!0)]),_:1},512),[[Ke,e.options_store.img_pre_state]])]),_:1}),v(s,{modelValue:e.settings_store.leftDrawerOpen,"onUpdate:modelValue":t[6]||(t[6]=h=>e.settings_store.leftDrawerOpen=h)},null,8,["modelValue"]),v(f,null,{default:_(()=>[v(r,{modelValue:e.showNotification,"onUpdate:modelValue":t[7]||(t[7]=h=>e.showNotification=h),"max-disp":5},null,8,["modelValue"]),v(u,{modelValue:e.showLoginCtl,"onUpdate:modelValue":t[8]||(t[8]=h=>e.showLoginCtl=h)},null,8,["modelValue"]),v(c,{modelValue:e.showDlProgress,"onUpdate:modelValue":t[9]||(t[9]=h=>e.showDlProgress=h)},null,8,["modelValue"]),v(d)]),_:1})]),_:1})}var J5=mt(W5,[["render",Y5],["__scopeId","data-v-19e6968a"]]);export{J5 as default};
